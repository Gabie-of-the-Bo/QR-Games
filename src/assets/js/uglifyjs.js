!function(h){"use strict";function e(e){return e.split("")}function tn(e,n){return 0<=n.indexOf(e)}function rn(e,n){for(var t=n.length;0<=--t;)if(e(n[t]))return n[t]}function n(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function r(e,n){this.message=e,this.defs=n}function Z(e,n,t){if(t)for(var i in e)if(_n(e,i)&&!_n(n,i))throw new r("`"+i+"` is not a supported option",n);for(var i in e)_n(e,i)&&(n[i]=e[i]);return n}function t(e,n){var t,i=0;for(t in n)_n(n,t)&&(e[t]=n[t],i++);return i}function on(){}function an(){return!1}function sn(){return!0}function fn(){return this}function cn(){return null}((r.prototype=Object.create(Error.prototype)).constructor=r).prototype.name="DefaultsError",n(r);var un=function(){function e(e,n){for(var t=[],i=0;i<e.length;i++){var r=n(e[i],i);r!==o&&(r instanceof a?t.push.apply(t,r.v):t.push(r))}return t}e.is_op=function(e){return e===o||e instanceof a},e.splice=function(e){return new a(e)};var o=e.skip={};function a(e){this.v=e}return e}();function ln(e,n){if(e.indexOf(n)<0)return e.push(n)}function pn(e,t){return e.replace(/\{([^}]+)\}/g,function(e,n){n=t[n];return n instanceof bn?n.print_to_string():n})}function dn(e,n){n=e.indexOf(n);0<=n&&e.splice(n,1)}function hn(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach(function(e){n[e]=!0}),n}function vn(e,n){for(var t=e.length;0<=--t;)if(!n(e[t],t))return!1;return!0}function mn(){this._values=Object.create(null),this._size=0}function _n(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function gn(e,n){for(var t,i=e.parent(-1),r=0;t=e.parent(r++);i=t){if(Rn(t))return n&&t.value===i;if(t instanceof At){if(t.left===i)continue}else if("Call"==t.TYPE){if(t.expression===i)continue}else if(t instanceof zt){if(t.condition===i)continue}else if(t instanceof xt){if(t.expression===i)continue}else if(t instanceof wt){if(t.expressions[0]===i)continue}else{if(t instanceof yn)return t.body===i;if(t instanceof Ot&&t.expression===i)continue}return!1}}function i(e,n,t,i){void 0===i&&(i=bn);var r=n=n?n.split(/\s+/):[];i&&i.PROPS&&(n=n.concat(i.PROPS));var o=["return function AST_",e,"(props){","if(props){"];n.forEach(function(e){o.push("this.",e,"=props.",e,";")});var a=i&&new i;(a&&a.initialize||t&&t.initialize)&&o.push("this.initialize();"),o.push("}}");var s=new Function(o.join(""))();if(a&&(s.prototype=a,s.BASE=i),i&&i.SUBCLASSES.push(s),(s.prototype.CTOR=s).PROPS=n||null,s.SELF_PROPS=r,s.SUBCLASSES=[],e&&(s.prototype.TYPE=s.TYPE=e),t)for(var f in t)_n(t,f)&&(/^\$/.test(f)?s[f.substr(1)]=t[f]:s.prototype[f]=t[f]);return s.DEFMETHOD=function(e,n){this.prototype[e]=n},void 0!==h&&(h["AST_"+e]=s),s}mn.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},all:function(e){for(var n in this._values)if(!e(this._values[n],n.substr(1)))return!1;return!0},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n,t=[];for(n in this._values)t.push(e(this._values[n],n.substr(1)));return t},clone:function(){var e,n=new mn;for(e in this._values)n._values[e]=this._values[e];return n._size=this._size,n},toObject:function(){return this._values}},mn.fromObject=function(e){var n=new mn;return n._size=t(n._values,e),n};var P=i("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),bn=i("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new hi(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:on,validate:function(){for(var e=this.CTOR;e.prototype._validate.call(this),e=e.BASE;);},validate_ast:function(){var n={};this.walk(new di(function(e){if(e.validate_visited===n)throw new Error(pn("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+e.TYPE,file:e.start.file,line:e.start.line,col:e.start.col}));e.validate_visited=n}))}},null);(bn.log_function=function(n,e){var t;function i(e){t[e]||(t[e]=!0,n(e))}n?(t=Object.create(null),bn.info=e?function(e,n){i("INFO: "+pn(e,n))}:on,bn.warn=function(e,n){i("WARN: "+pn(e,n))}):bn.info=bn.warn=on})();var o=[];bn.enable_validation=function(){bn.disable_validation(),function e(n){var t;n.SUBCLASSES.forEach(e),_n(n.prototype,"transform")&&(t=n.prototype.transform,n.prototype.transform=function(e,n){e=t.call(this,e,n);if(e instanceof bn)e.validate();else if(!(null===e||n&&un.is_op(e)))throw new Error("invalid transformed value: "+e);return e},o.push(function(){n.prototype.transform=t}))}(this)},bn.disable_validation=function(){for(var e;e=o.pop();)e()};var yn=i("Statement",null,{$documentation:"Base class of all statements"}),wn=i("Debugger",null,{$documentation:"Represents a debugger statement"},yn),xn=i("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},yn),kn=i("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},yn);function a(e,n,t,i,r){if(t=t?"contain":"be",!(e instanceof bn))throw new Error(n+" must "+t+" AST_Node");if(e instanceof gt)throw new Error(n+" cannot "+t+" AST_DefaultValue");if(e instanceof jt)throw new Error(n+" cannot "+t+" AST_Destructured");if(e instanceof fi&&!r)throw new Error(n+" cannot "+t+" AST_Hole");if(e instanceof St&&!i)throw new Error(n+" cannot "+t+" AST_Spread");if(e instanceof yn&&!Un(e))throw new Error(n+" cannot "+t+" AST_Statement");if(e instanceof Yt)throw new Error(n+" cannot "+t+" AST_SymbolDeclaration")}function s(e,n){a(e[n],n)}var En=i("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){s(this,"body")}},yn),Sn=i("BlockScope","enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Object/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Object/S] a map of name ---\x3e SymbolDef for all variables/functions defined in this scope"},clone:function(e){e=this._clone(e);return this.enclosed&&(e.enclosed=this.enclosed.slice()),this.functions&&(e.functions=this.functions.clone()),this.variables&&(e.variables=this.variables.clone()),e},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if(null!=this.parent_scope){if(!(this.parent_scope instanceof Sn))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof Nn))throw new Error("must be contained within AST_Scope")}}},yn);function Tn(e,n){e.body.forEach(function(e){e.walk(n)})}var Dn=i("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,function(){Tn(n,e)})},_validate:function(){this.body.forEach(function(e){if(!(e instanceof yn))throw new Error("body must be AST_Statement[]");if(Un(e))throw new Error("body cannot contain AST_Function")})}},Sn),On=i("BlockStatement",null,{$documentation:"A block statement"},Dn),f=i("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if(!(this.body instanceof yn))throw new Error("body must be AST_Statement");if(Un(this.body))throw new Error("body cannot be AST_Function")}},Sn),An=i("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,function(){n.label.walk(e),n.body.walk(e)})},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new di(function(e){return e instanceof tt?e.label&&e.label.thedef===t?((e.label.thedef=n).references.push(e),!0):void 0:e instanceof Nn||void 0}))),i},_validate:function(){if(!(this.label instanceof ee))throw new Error("label must be AST_Label")}},f),zn=i("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},f),$n=i("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){s(this,"condition")}},zn),Mn=i("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e),n.condition.walk(e)})}},$n),Fn=i("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e)})}},$n),jn=i("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)})},_validate:function(){if(null!=this.init){if(!(this.init instanceof bn))throw new Error("init must be AST_Node");if(this.init instanceof yn&&!(this.init instanceof dt||Un(this.init)))throw new Error("init cannot be AST_Statement")}null!=this.condition&&s(this,"condition"),null!=this.step&&s(this,"step")}},zn),qn=i("ForIn","init object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",object:"[AST_Node] the object that we're looping through"},walk:function(e){var n=this;e.visit(n,function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)})},_validate:function(){if(this.init instanceof dt){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else u(this.init,function(e){if(!(e instanceof xt||e instanceof Qt))throw new Error("init must be assignable: "+e.TYPE)});s(this,"object")}},zn),Cn=i("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.body.walk(e)})},_validate:function(){s(this,"expression")}},f),Nn=i("Scope","uses_eval uses_with",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:fn},Dn),Hn=i("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name ---\x3e SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return bi(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new hi(function(e){if(e instanceof xn&&"$ORIG"==e.value)return un.splice(n)}))},enclose:function(e){var n=(e="string"!=typeof e?"":e).indexOf(":");n<0&&(n=e.length);var t=this.body;return bi(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new hi(function(e){if(e instanceof xn&&"$ORIG"==e.value)return un.splice(t)}))}},Nn),Pn=i("Lambda","argnames length_read rest uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},each_argname:function(n){var t=new di(function(e){return e instanceof gt?(e.name.walk(t),!0):e instanceof Ct?(e.value.walk(t),!0):void(e instanceof Jt&&n(e))});this.argnames.forEach(function(e){e.walk(t)}),this.rest&&this.rest.walk(t)},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),Tn(e,n)})},_validate:function(){this.argnames.forEach(function(e){u(e,function(e){if(!(e instanceof Jt))throw new Error("argnames must be AST_SymbolFunarg[]")},!0)}),null!=this.rest&&u(this.rest,function(e){if(!(e instanceof Jt))throw new Error("rest must be AST_SymbolFunarg")})}},Nn),In=i("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},Pn);function Rn(e){return e instanceof Vn||e instanceof Yn}function Un(e){return Rn(e)||e instanceof Wn||e instanceof Jn}function Bn(e,n){Rn(e)&&e.value?e.value.walk(n):Tn(e,n)}var Yn=i("Arrow","inlined value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):Tn(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(s(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},Pn);function Ln(e){return e instanceof Vn||e instanceof Xn||e instanceof Wn}var Vn=i("AsyncArrow","inlined value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):Tn(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(s(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},Pn),Wn=i("AsyncFunction","inlined name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function"},_validate:function(){if(null!=this.name&&!(this.name instanceof Xt))throw new Error("name must be AST_SymbolLambda")}},Pn),Jn=i("Function","inlined name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function"},_validate:function(){if(null!=this.name&&!(this.name instanceof Xt))throw new Error("name must be AST_SymbolLambda")}},Pn);function Gn(e){return e instanceof Xn||e instanceof Kn}var Xn=i("AsyncDefun","inlined name",{$documentation:"An asynchronous function definition",$propdoc:{name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(!(this.name instanceof Gt))throw new Error("name must be AST_SymbolDefun")}},Pn),Kn=i("Defun","inlined name",{$documentation:"A function definition",$propdoc:{name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(!(this.name instanceof Gt))throw new Error("name must be AST_SymbolDefun")}},Pn),Qn=i("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},yn),Zn=i("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,function(){n.value&&n.value.walk(e)})}},Qn),et=i("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&s(this,"value")}},Zn),nt=i("Throw",null,{$documentation:"A `throw` statement",_validate:function(){s(this,"value")}},Zn),tt=i("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,function(){n.label&&n.label.walk(e)})},_validate:function(){if(null!=this.label&&!(this.label instanceof ne))throw new Error("label must be AST_LabelRef")}},Qn),it=i("Break",null,{$documentation:"A `break` statement"},tt),rt=i("Continue",null,{$documentation:"A `continue` statement"},tt),ot=i("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)})},_validate:function(){if(s(this,"condition"),null!=this.alternative){if(!(this.alternative instanceof yn))throw new Error("alternative must be AST_Statement");if(Un(this.alternative))throw new error("alternative cannot be AST_Function")}}},f),at=i("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Tn(n,e)})},_validate:function(){s(this,"expression"),this.body.forEach(function(e){if(!(e instanceof st))throw new Error("body must be AST_SwitchBranch[]")})}},Dn),st=i("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},Dn),ft=i("Default",null,{$documentation:"A `default` switch branch"},st),ct=i("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Tn(n,e)})},_validate:function(){s(this,"expression")}},st),ut=i("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){Tn(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)})},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof lt))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof pt))throw new Error("bfinally must be AST_Finally")}},Dn),lt=i("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.argname&&n.argname.walk(e),Tn(n,e)})},_validate:function(){null!=this.argname&&u(this.argname,function(e){if(!(e instanceof Kt))throw new Error("argname must be AST_SymbolCatch")})}},Dn),pt=i("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},Dn),dt=i("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(n){var e=this;n.visit(e,function(){e.definitions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.definitions.length<1)throw new Error("must have at least one definition")}},yn),ht=i("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof _t))throw new Error("definitions must be AST_VarDef[]");u(e.name,function(e){if(!(e instanceof Lt))throw new Error("name must be AST_SymbolConst")})})}},dt),vt=i("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof _t))throw new Error("definitions must be AST_VarDef[]");u(e.name,function(e){if(!(e instanceof Vt))throw new Error("name must be AST_SymbolLet")})})}},dt),mt=i("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof _t))throw new Error("definitions must be AST_VarDef[]");u(e.name,function(e){if(!(e instanceof Wt))throw new Error("name must be AST_SymbolVar")})})}},dt),_t=i("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value&&n.value.walk(e)})},_validate:function(){null!=this.value&&s(this,"value")}}),gt=i("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value.walk(e)})},_validate:function(){s(this,"value")}});function c(e,n,t,i){e[n].forEach(function(e){a(e,n,!0,t,i)})}var bt=i("Call","expression args pure",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},walk:function(n){var e=this;n.visit(e,function(){e.expression.walk(n),e.args.forEach(function(e){e.walk(n)})})},_validate:function(){s(this,"expression"),c(this,"args",!0)}}),yt=i("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},bt),wt=i("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(n){var e=this;n.visit(e,function(){e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");c(this,"expressions")}}),xt=i("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"},getProperty:function(){var e=this.property;return e instanceof ei?e.value:e instanceof Dt&&"void"==e.operator&&e.expression instanceof ei?void 0:e},_validate:function(){s(this,"expression")}}),kt=i("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},xt),Et=i("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.property.walk(e)})},_validate:function(){s(this,"property")}},xt),St=i("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){s(this,"expression")}}),Tt=i("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.operator)throw new Error("operator must be string");s(this,"expression")}}),Dt=i("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},Tt),Ot=i("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},Tt),At=i("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,function(){n.left.walk(e),n.right.walk(e)})},_validate:function(){if(this instanceof $t||s(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");s(this,"right")}}),zt=i("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)})},_validate:function(){s(this,"condition"),s(this,"consequent"),s(this,"alternative")}}),$t=i("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof jt){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);u(this.left,function(e){if(!(e instanceof xt||e instanceof Qt))throw new Error("left must be assignable: "+e.TYPE)})}}},At),Mt=i("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){s(this,"expression")}}),Ft=i("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})},_validate:function(){c(this,"elements",!0,!0)}}),jt=i("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"}});function u(e,n,t){if(e instanceof gt&&t)return u(e.name,n);if(e instanceof jt){if(null!=e.rest&&u(e.rest,n),e instanceof qt)return e.elements.forEach(function(e){e instanceof fi||u(e,n,!0)});if(e instanceof Nt)return e.properties.forEach(function(e){u(e.value,n,!0)})}n(e)}var l,qt=i("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})}},jt),Ct=i("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof bn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof bn))throw new Error("key must be string or AST_Node");s(this,"key")}if(!(this.value instanceof bn))throw new Error("value must be AST_Node")}}),Nt=i("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof Ct))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},jt),Ht=i("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof Pt||e instanceof St))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")})}}),Pt=i("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof bn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof bn))throw new Error("key must be string or AST_Node");s(this,"key")}if(!(this.value instanceof bn))throw new Error("value must be AST_Node")}}),It=i("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){s(this,"value")}},Pt),Rt=i("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof In))throw new Error("value must be AST_Accessor")}},Pt),Ut=i("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof In))throw new Error("value must be AST_Accessor")}},Pt),Bt=i("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("string"!=typeof this.name)throw new Error("name must be string")}}),Yt=i("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},Bt),Lt=i("SymbolConst",null,{$documentation:"Symbol defining a constant"},Yt),Vt=i("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},Yt),Wt=i("SymbolVar",null,{$documentation:"Symbol defining a variable"},Yt),Jt=i("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Wt),Gt=i("SymbolDefun",null,{$documentation:"Symbol defining a function"},Yt),Xt=i("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},Yt),Kt=i("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},Yt),ee=i("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Bt),Qt=i("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},Bt),ne=i("LabelRef",null,{$documentation:"Reference to a label symbol"},Bt),Zt=i("This",null,{$documentation:"The `this` symbol",_validate:function(){if("this"!==this.name)throw new Error('name must be "this"')}},Bt),ei=i("Constant",null,{$documentation:"Base class for all constants"}),ni=i("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},ei),ti=i("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},ei),ii=i("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string");if("-"==this.value[0])throw new Error("value cannot be negative")}},ei),ri=i("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},ei),v=i("Atom",null,{$documentation:"Base class for atoms"},ei),oi=i("Null",null,{$documentation:"The `null` atom",value:null},v),ai=i("NaN",null,{$documentation:"The impossible value",value:NaN},v),si=i("Undefined",null,{$documentation:"The `undefined` value",value:void 0},v),fi=i("Hole",null,{$documentation:"A hole in an array",value:void 0},v),ci=i("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},v),ui=i("Boolean",null,{$documentation:"Base class for booleans"},v),li=i("False",null,{$documentation:"The `false` atom",value:!1},ui),pi=i("True",null,{$documentation:"The `true` atom",value:!0},ui);function di(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}function hi(e,n){di.call(this),this.before=e,this.after=n}function p(e,n){return un(e,function(e){return e.transform(n,!0)})}function d(e,n){e.argnames=p(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.value?e.value=e.value.transform(n):e.body=p(e.body,n)}di.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||on)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof Pn?this.directives=Object.create(this.directives):e instanceof xn&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof Pn&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof Nn)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof xn))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n,t=this.stack;if(e.label){for(var i=t.length;0<=--i;)if((n=t[i])instanceof An&&n.label.name==e.label.name)return n.body}else for(i=t.length;0<=--i;)if((n=t[i])instanceof zn||e instanceof it&&n instanceof at)return n},in_boolean_context:function(){for(var e,n=this.self(),t=0;e=this.parent(t);t++){if(e instanceof zt&&e.condition===n||e instanceof $n&&e.condition===n||e instanceof jn&&e.condition===n||e instanceof ot&&e.condition===n||e instanceof et&&e.in_bool||e instanceof wt&&e.tail_node()!==n||e instanceof En||e instanceof Dt&&"!"==e.operator&&e.expression===n)return!0;if(e instanceof At&&("&&"==e.operator||"||"==e.operator)||e instanceof zt||e.tail_node()===n)n=e;else{if(!(e instanceof et))return!1;for(var i,r=e;i=this.parent(++t);r=i)if("Call"==i.TYPE){if(!(r instanceof Pn)||r.name)return!1}else if(r instanceof Pn)return!1}}}},hi.prototype=new di,(l=function(e,r){e.DEFMETHOD("transform",function(e,n){var t,i;return e.push(this),void 0===(t=e.before?e.before(this,r,n):t)&&(r(t=this,e),e.after&&void 0!==(i=e.after(t,n))&&(t=i)),e.pop(),t})})(bn,on),l(An,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),l(En,function(e,n){e.body=e.body.transform(n)}),l(Dn,function(e,n){e.body=p(e.body,n)}),l(Mn,function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)}),l(Fn,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),l(jn,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),l(qn,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),l(Cn,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),l(Zn,function(e,n){e.value&&(e.value=e.value.transform(n))}),l(tt,function(e,n){e.label&&(e.label=e.label.transform(n))}),l(ot,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),l(at,function(e,n){e.expression=e.expression.transform(n),e.body=p(e.body,n)}),l(ct,function(e,n){e.expression=e.expression.transform(n),e.body=p(e.body,n)}),l(ut,function(e,n){e.body=p(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),l(lt,function(e,n){e.argname&&(e.argname=e.argname.transform(n)),e.body=p(e.body,n)}),l(dt,function(e,n){e.definitions=p(e.definitions,n)}),l(_t,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),l(gt,function(e,n){e.name=e.name.transform(n),e.value=e.value.transform(n)}),l(Pn,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=p(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.body=p(e.body,n)}),l(Yn,d),l(Vn,d),l(bt,function(e,n){e.expression=e.expression.transform(n),e.args=p(e.args,n)}),l(wt,function(e,n){e.expressions=p(e.expressions,n)}),l(Mt,function(e,n){e.expression=e.expression.transform(n)}),l(kt,function(e,n){e.expression=e.expression.transform(n)}),l(Et,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),l(St,function(e,n){e.expression=e.expression.transform(n)}),l(Tt,function(e,n){e.expression=e.expression.transform(n)}),l(At,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),l(zt,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),l(Ft,function(e,n){e.elements=p(e.elements,n)}),l(qt,function(e,n){e.elements=p(e.elements,n),e.rest&&(e.rest=e.rest.transform(n))}),l(Ct,function(e,n){e.key instanceof bn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),l(Nt,function(e,n){e.properties=p(e.properties,n),e.rest&&(e.rest=e.rest.transform(n))}),l(Ht,function(e,n){e.properties=p(e.properties,n)}),l(Pt,function(e,n){e.key instanceof bn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)});var m=["await abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield",D="false null true",te="break case catch const continue debugger default delete do else finally for function if in instanceof let new return switch throw try typeof var void while with"].join(" "),T="return new delete throw else case",te=hn(te),m=hn(m),T=hn(T),D=hn(D),O=/^0b([01]+)$/i,A=/^0x([0-9a-f]+)$/i,z=/^0o?([0-7]+)$/i,$=hn(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),M="\n\r\u2028\u2029",F="+-*&%=<>!?|~^",j="[{(,;:",q=j+")}]",C=M+"  \t\f\v​             　\ufeff",N=hn(e("./'\""+F+q+C));function I(e){return 56320<=e&&e<=57343}function H(e){return 48<=e&&e<=57}function R(e){return!N[e]}function vi(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function mi(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function ie(e,n,t,i,r){throw new mi(e,n,t,i,r)}function re(e,n,t){return e.type==n&&(null==t||e.value==t)}M=hn(e(M)),F=hn(e(F)),j=hn(e(j)),q=hn(e(q)),C=hn(e(C)),((mi.prototype=Object.create(Error.prototype)).constructor=mi).prototype.name="SyntaxError",n(mi);var U={};function oe(i,r,o,a){var s={text:i,filename:r,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]},f=!1;function c(){return s.text.charAt(s.pos)}function u(e,n){var t=s.text.charAt(s.pos++);if(e&&!t)throw U;return M[t]?(s.col=0,s.line++,n||(s.newline_before=!0),"\r"==t&&"\n"==c()&&(s.pos++,t="\n")):s.col++,t}function l(e){for(;0<e--;)u()}function p(e){return s.text.substr(s.pos,e.length)==e}function d(){s.tokline=s.line,s.tokcol=s.col,s.tokpos=s.pos}function h(e,n,t){s.regex_allowed="operator"==e&&!_i[n]||"keyword"==e&&T[n]||"punc"==e&&j[n],"punc"==e&&"."==n?f=!0:t||(f=!1);n={type:e,value:n,line:s.tokline,col:s.tokcol,pos:s.tokpos,endline:s.line,endcol:s.col,endpos:s.pos,nlb:s.newline_before,file:r};return/^(?:num|string|regexp)$/i.test(e)&&(n.raw=i.substring(n.pos,n.endpos)),t||(n.comments_before=s.comments_before,n.comments_after=s.comments_before=[]),s.newline_before=!1,new P(n)}function v(e){ie(e,r,s.tokline,s.tokcol,s.tokpos)}function m(e){var t=!1,i=!1,r=!1,o="."==e,n=function(e){for(var n,t="";(n=c())&&e(n);)t+=u();return t}(function(e){var n=e.charCodeAt(0);switch(n){case 120:case 88:return!r&&(r=!0);case 101:case 69:return r||!t&&(t=i=!0);case 43:case 45:return i;case i=!1,46:return!(o||r||t)&&(o=!0)}return H(n)||/[_0-9a-fo]/i.test(e)});/^0[0-7_]+$/.test(n=e?e+n:n)?S.has_directive("use strict")&&v("Legacy octal literals are not allowed in strict mode"):n=n.replace(r?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");e=function(e){if(n=O.exec(e))return parseInt(n[1],2);if(n=A.exec(e))return parseInt(n[1],16);if(n=z.exec(e))return parseInt(n[1],8);var n=parseFloat(e);return n==e?n:void 0}(n);return isNaN(e)&&v("Invalid syntax: "+n),o||t||"n"!=c()?h("num",e):h("bigint",n.toLowerCase()+u())}function _(e){var n=u(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(g(2));case 117:if("{"!=c())return String.fromCharCode(g(4));u();var t=0;do{var i=parseInt(u(!0),16)}while(isNaN(i)&&v("Invalid hex-character pattern in string"),t=16*t+i,"}"!=c());return(u(),t<65536)?String.fromCharCode(t):(1114111<t&&v("Invalid character code: "+t),String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t)));case 13:"\n"==c()&&u(!0,e);case 10:return""}return"0"<=n&&n<="7"?function(e){var n=c();"0"<=n&&n<="7"&&(e+=u(!0))[0]<="3"&&"0"<=(n=c())&&n<="7"&&(e+=u(!0));if("0"===e)return"\0";0<e.length&&S.has_directive("use strict")&&v("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n):n}function g(e){for(var n=0;0<e;--e){var t=parseInt(u(!0),16);isNaN(t)&&v("Invalid hex-character pattern in string"),n=n<<4|t}return n}var b=e("Unterminated string constant",function(e){for(var n=u(),t="";;){var i=u(!0,!0);if("\\"==i)i=_(!0);else if(M[i])v("Unterminated string constant");else if(i==n)break;t+=i}var r=h("string",t);return r.quote=e,r});function y(e){var n,t=s.regex_allowed,i=function(){for(var e=s.text,n=s.pos;n<s.text.length;++n)if(M[e[n]])return n;return-1}();return-1==i?(n=s.text.substr(s.pos),s.pos=s.text.length):(n=s.text.substring(s.pos,i),s.pos=i),s.col=s.tokcol+(s.pos-s.tokpos),s.comments_before.push(h(e,n,!0)),s.regex_allowed=t,S}var w=e("Unterminated multiline comment",function(){var e=s.regex_allowed,n=function(e,n){if(e=s.text.indexOf(e,s.pos),n&&-1==e)throw U;return e}("*/",!0),n=s.text.substring(s.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return l(n.length+2),s.comments_before.push(h("comment2",n,!0)),s.regex_allowed=e,S});function x(){for(var e,n,t=!1,i="",r=!1;e=c();)if(t)"u"!=e&&v("Expecting UnicodeEscapeSequence -- uXXXX"),R(e=_())||v("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),i+=e,t=!1;else if("\\"==e)r=t=!0,u();else{if(!R(e))break;i+=u()}return te[i]&&r&&(n=i.charCodeAt(0).toString(16).toUpperCase(),i="\\u"+"0000".substr(n.length)+n+i.slice(1)),i}var k=e("Unterminated regular expression",function(e){for(var n,t=!1,i=!1;n=u(!0);)if(M[n])v("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=x();try{var o=new RegExp(e,r);return o.raw_source=e,h("regexp",o)}catch(e){v(e.message)}});function E(e){return h("operator",function e(n){if(!c())return n;var t=n+c();return $[t]?(u(),e(t)):n}(e||u()))}function e(n,t){return function(e){try{return t(e)}catch(e){if(e!==U)throw e;v(n)}}}function S(e){if(null!=e)return k(e);for(a&&0==s.pos&&p("#!")&&(d(),l(2),y("comment5"));;){if(!function(){for(;C[c()];)u()}(),d(),o){if(p("\x3c!--")){l(4),y("comment3");continue}if(p("--\x3e")&&s.newline_before){l(3),y("comment4");continue}}var n=c();if(!n)return h("eof");var t=n.charCodeAt(0);switch(t){case 34:case 39:return b(n);case 46:return function(){u();var e=c();if("."!=e)return H(e.charCodeAt(0))?m("."):h("punc",".");for(var n=".";n+=".",u(),"."==c(););return h("operator",n)}();case 47:var i=function(){switch(u(),c()){case"/":return u(),y("comment1");case"*":return u(),w()}return s.regex_allowed?k(""):E("/")}();if(i===S)continue;return i}if(H(t))return m();if(q[n])return h("punc",u());if(p("=>"))return h("punc",u()+u());if(F[n])return E();if(92==t||!N[n])return t=void 0,t=x(),f?h("name",t):D[t]?h("atom",t):te[t]?$[t]?h("operator",t):h("keyword",t):h("name",t);break}v("Unexpected character '"+n+"'")}return S.context=function(e){return s=e?e:s},S.add_directive=function(e){s.directive_stack[s.directive_stack.length-1].push(e),s.directives[e]?s.directives[e]++:s.directives[e]=1},S.push_directives_stack=function(){s.directive_stack.push([])},S.pop_directives_stack=function(){for(var e=s.directive_stack.pop(),n=e.length;0<=--n;)s.directives[e[n]]--},S.has_directive=function(e){return 0<s.directives[e]},S}var ae=hn("typeof void delete -- ++ ! ~ - +"),_i=hn("-- ++"),se=hn("= += -= /= *= %= >>= <<= >>>= |= ^= &="),gi=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),fe=hn("atom bigint num regexp string");function bi(e,f){f=Z(f,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var c={input:"string"==typeof e?oe(e,f.filename,f.html5_comments,f.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_loop:0,labels:[],peeked:null,prev:null,token:null};function u(e,n){return re(c.token,e,n)}function l(){return c.peeked||(c.peeked=c.input())}function p(){return c.prev=c.token,c.peeked?(c.token=c.peeked,c.peeked=null):c.token=c.input(),c.in_directives=c.in_directives&&("string"==c.token.type||u("punc",";")),c.token}function d(){return c.prev}function a(e,n,t,i){var r=c.input.context();ie(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function s(e,n){a(n,e.line,e.col)}function t(e,n){return e+(void 0===n?"":" «"+n+"»")}function h(e){s(e=null==e?c.token:e,"Unexpected token: "+t(e.type,e.value))}function v(e,n){if(u(e,n))return p();s(c.token,"Unexpected token: "+t(c.token.type,c.token.value)+", expected: "+t(e,n))}function m(e){return v("punc",e)}function o(e){return e.nlb||!vn(e.comments_before,function(e){return!e.nlb})}function _(){return!f.strict&&(u("eof")||u("punc","}")||o(c.token))}function g(e){u("punc",";")?p():e||_()||m(";")}function b(){m("(");var e=K();return m(")"),e}function n(i){return function(){var e=c.token,n=i.apply(null,arguments),t=d();return n.start=e,n.end=t,n}}function y(){(u("operator","/")||u("operator","/="))&&(c.peeked=null,c.token=c.input(c.token.value.substr(1)))}c.token=p();var w=n(function(){switch(y(),c.token.type){case"string":var e=c.in_directives,n=K();return e&&(n instanceof ni?(r=n.start.raw.slice(1,-1),c.input.add_directive(r),n.value=r):c.in_directives=e=!1),g(),e?new xn(n):new En({body:n});case"num":case"bigint":case"regexp":case"operator":case"atom":return x();case"name":switch(c.token.value){case"async":if(re(l(),"keyword","function"))return p(),p(),T(Xn);break;case"await":if(c.in_async)return x()}return(re(l(),"punc",":")?function(){var n=I(ee);vn(c.labels,function(e){return e.name!=n.name})||a("Label "+n.name+" defined twice");m(":"),c.labels.push(n);var e=w();c.labels.pop(),e instanceof zn||n.references.forEach(function(e){e instanceof rt&&s(e.label.start,"Continue label `"+n.name+"` must refer to IterationStatement")});return new An({body:e,label:n})}:x)();case"punc":switch(c.token.value){case"{":return new On({start:c.token,body:D(),end:d()});case"[":case"(":return x();case";":return c.in_directives=!1,p(),new kn;default:h()}case"keyword":switch(c.token.value){case"break":return p(),k(it);case"const":p();var t=A();return g(),t;case"continue":return p(),k(rt);case"debugger":return p(),g(),new wn;case"do":p();n=Q(w);v("keyword","while");var i=b();return g(!0),new Mn({body:n,condition:i});case"while":return p(),new Fn({condition:b(),body:Q(w)});case"for":return p(),function(){m("(");var e=null;if(!u("punc",";")&&(e=u("keyword","const")?(p(),A(!0)):u("keyword","let")?(p(),z(!0)):u("keyword","var")?(p(),$(!0)):K(!0),u("operator","in")))return e instanceof dt?1<e.definitions.length&&s(e.start,"Only one variable declaration allowed in for..in loop"):J(e)||(e=G(e))instanceof jt||s(e.start,"Invalid left-hand side in for..in loop"),p(),function(e){var n=K();return m(")"),new qn({init:e,object:n,body:Q(w)})}(e);return function(e){m(";");var n=u("punc",";")?null:K();m(";");var t=u("punc",")")?null:K();return m(")"),new jn({init:e,condition:n,step:t,body:Q(w)})}(e)}();case"function":return p(),T(Kn);case"if":return p(),function(){var e=b(),n=w(),t=null;u("keyword","else")&&(p(),t=w());return new ot({condition:e,body:n,alternative:t})}();case"let":p();t=z();return g(),t;case"return":0!=c.in_function||f.bare_returns||a("'return' outside of function"),p();var r=null;return u("punc",";")?p():_()||(r=K(),g()),new et({value:r});case"switch":return p(),new at({expression:b(),body:Q(O)});case"throw":p(),o(c.token)&&a("Illegal newline after 'throw'");r=K();return g(),new nt({value:r});case"try":return p(),function(){var e=D(),n=null,t=null;{var i;u("keyword","catch")&&(r=c.token,p(),i=null,u("punc","(")&&(p(),i=R(Kt),m(")")),n=new lt({start:r,argname:i,body:D(),end:d()}))}{var r;u("keyword","finally")&&(r=c.token,p(),t=new pt({start:r,body:D(),end:d()}))}n||t||a("Missing catch/finally blocks");return new ut({body:e,bcatch:n,bfinally:t})}();case"var":p();t=$();return g(),t;case"with":return c.input.has_directive("use strict")&&a("Strict mode may not include a with statement"),p(),new Cn({expression:b(),body:w()})}}h()});function x(){var e=K();return g(),new En({body:e})}function k(e){var n,t=null;null!=(t=!_()?I(ne,!0):t)?((n=rn(function(e){return e.name==t.name},c.labels))||s(t.start,"Undefined label "+t.name),t.thedef=n):0==c.in_loop&&a(e.TYPE+" not inside a loop or switch"),g();e=new e({label:t});return n&&n.references.push(e),e}function E(e){if(e instanceof Ft){var n=null;return e.elements[e.elements.length-1]instanceof St&&(n=E(e.elements.pop().expression)),new qt({start:e.start,elements:e.elements.map(E),rest:n,end:e.end})}if(e instanceof $t)return new gt({start:e.start,name:E(e.left),value:e.right,end:e.end});if(e instanceof gt)return e.name=E(e.name),e;if(e instanceof qt)return e.elements=e.elements.map(E),e.rest&&(e.rest=E(e.rest)),e;if(e instanceof Nt)return e.properties.forEach(function(e){e.value=E(e.value)}),e.rest&&(e.rest=E(e.rest)),e;if(e instanceof fi)return e;if(e instanceof Ht){n=null;return e.properties[e.properties.length-1]instanceof St&&(n=E(e.properties.pop().expression)),new Nt({start:e.start,properties:e.properties.map(function(e){return e instanceof It||s(e.start,"Invalid destructuring assignment"),new Ct({start:e.start,key:e.key,value:E(e.value),end:e.end})}),rest:n,end:e.end})}return e instanceof Jt?e:e instanceof Qt?new Jt(e):void s(e.start,"Invalid arrow parameter")}function S(e,n,t){var i=c.in_async;c.in_async=t;var r=c.in_funarg;c.in_funarg=c.in_function;var o,a,s=e.map(E),f=(f=e.rest||null)&&E(f);c.in_funarg=r,m("=>");e=c.in_loop,r=c.labels;return++c.in_function,c.in_directives=!0,c.input.push_directives_stack(),c.in_loop=0,c.labels=[],u("punc","{")?(o=D(),a=null,c.input.has_directive("use strict")&&s.forEach(P)):(o=[],a=X()),c.input.pop_directives_stack(),--c.in_function,c.in_loop=e,c.labels=r,c.in_async=i,new(t?Vn:Yn)({start:n,argnames:s,rest:f,body:o,value:a,end:d()})}var T=function(e){var n,t=c.in_async;e===Xn?(n=I(Gt),c.in_async=!0):e===Kn?(n=I(Gt),c.in_async=!1):(c.in_async=e===Wn,n=I(Xt,!0)),!n||e===In||n instanceof Yt||h(d()),m("(");var i=c.in_funarg;c.in_funarg=c.in_function;var r=F(")",!f.strict,!1,function(){return U(Jt)});c.in_funarg=i;var o=c.in_loop,a=c.labels;++c.in_function,c.in_directives=!0,c.input.push_directives_stack(),c.in_loop=0,c.labels=[];i=D();return c.input.has_directive("use strict")&&(n&&P(n),r.forEach(P),r.rest&&P(r.rest)),c.input.pop_directives_stack(),--c.in_function,c.in_loop=o,c.labels=a,c.in_async=t,new e({name:n,argnames:r,rest:r.rest||null,body:i})};function D(){m("{");for(var e=[];!u("punc","}");)u("eof")&&m("}"),e.push(w());return p(),e}function O(){m("{");for(var e,n,t,i,r=[];!u("punc","}");)u("eof")&&m("}"),u("keyword","case")?(e&&(e.end=d()),n=[],e=new ct({start:(i=c.token,p(),i),expression:K(),body:n}),r.push(e),m(":")):u("keyword","default")?(e&&(e.end=d()),t&&a("More than one default clause in switch statement"),n=[],e=new ft({start:(i=c.token,p(),m(":"),i),body:n}),r.push(e),t=e):(n||h(),n.push(w()));return e&&(e.end=d()),p(),r}function i(e,n){for(var t=[];;){var i=c.token,r=R(e),o=null;if(u("operator","=")?(p(),o=X(n)):!n&&(e===Lt||r instanceof jt)&&a("Missing initializer in declaration"),t.push(new _t({start:i,name:r,value:o,end:d()})),!u("punc",","))break;p()}return t}var A=function(e){return new ht({start:d(),definitions:i(Lt,e),end:d()})},z=function(e){return new vt({start:d(),definitions:i(Vt,e),end:d()})},$=function(e){return new mt({start:d(),definitions:i(Wt,e),end:d()})};var M=function(e){if(u("operator","new"))return function(e){var n=c.token;v("operator","new");var t=M(!1),i=u("punc","(")?(p(),F(")",!f.strict)):[],i=new yt({start:n,expression:t,args:i,end:d()});return B(i),Y(i,e)}(e);var n=c.token;if(u("punc")){switch(n.value){case"(":if(p(),u("punc",")"))return p(),S([],n);var t=K(!1,!0),i=n.comments_before.length;[].unshift.apply(t.start.comments_before,n.comments_before),n.comments_before.length=0,n.comments_before=t.start.comments_before,0==(n.comments_before_length=i)&&0<n.comments_before.length&&((r=n.comments_before[0]).nlb||(r.nlb=n.nlb,n.nlb=!1)),n.comments_after=t.start.comments_after,t.start=n,m(")");var r=d();return r.comments_before=t.end.comments_before,[].push.apply(t.end.comments_after,r.comments_after),r.comments_after.length=0,r.comments_after=t.end.comments_after,t.end=r,t instanceof bt&&B(t),u("punc","=>")?S(t instanceof wt?t.expressions:[t],n):Y(t,e);case"[":return Y(j(),e);case"{":return Y(C(),e)}h()}if(u("keyword","function"))return p(),(a=T(Jn)).start=n,a.end=d(),Y(a,e);if(u("name")){var o=H(Qt,n);if(p(),"async"==o.name){if(u("keyword","function"))return p(),(a=T(Wn)).start=n,a.end=d(),Y(a,e);if(u("name"))return n=c.token,o=H(Qt,n),p(),S([o],n,!0);if(u("punc","(")){var a=Y(o,e);if(!u("punc","=>"))return a;a=a.args;return a[a.length-1]instanceof St&&(a.rest=a.pop().expression),S(a,n,!0)}}return u("punc","=>")?S([o],n):Y(o,e)}if(fe[c.token.type])return Y(function(){var e,n=c.token;switch(n.type){case"num":e=new ti({start:n,end:n,value:n.value});break;case"bigint":e=new ii({start:n,end:n,value:n.value});break;case"string":e=new ni({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new ri({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new li({start:n,end:n});break;case"true":e=new pi({start:n,end:n});break;case"null":e=new oi({start:n,end:n})}}return p(),e}(),e);h()};function F(e,n,t,i){i=i||X;for(var r=!0,o=[];!u("punc",e)&&(r?r=!1:m(","),!n||!u("punc",e));)if(t&&u("punc",","))o.push(new fi({start:c.token,end:c.token}));else if(u("operator","...")){if(i!==X){p(),o.rest=i(),o.rest instanceof gt&&s(o.rest.start,"Invalid rest parameter");break}o.push(new St({start:c.token,expression:(p(),i()),end:d()}))}else o.push(i());return m(e),o}var j=n(function(){return m("["),new Ft({elements:F("]",!f.strict,!0)})}),q=n(function(){return T(In)}),C=n(function(){m("{");for(var e=!0,n=[];!u("punc","}")&&(e?e=!1:m(","),f.strict||!u("punc","}"));){var t=c.token;if(u("operator","..."))p(),n.push(new St({start:t,expression:X(),end:d()}));else if(re(l(),"operator","=")){var i=I(Qt);p(),n.push(new It({start:t,key:t.value,value:new $t({start:t,left:i,operator:"=",right:X(),end:d()}),end:d()}))}else if(re(l(),"punc",",")||re(l(),"punc","}"))n.push(new It({start:t,key:t.value,value:I(Qt),end:d()}));else{var r=N();if(u("punc","(")){var o=c.token;(a=T(Jn)).start=o,a.end=d(),n.push(new It({start:t,key:r,value:a,end:d()}))}else if(u("punc",":"))p(),n.push(new It({start:t,key:r,value:X(),end:d()}));else{if("name"==t.type)switch(r){case"async":r=N();var a,o=c.token;(a=T(Wn)).start=o,a.end=d(),n.push(new It({start:t,key:r,value:a,end:d()}));continue;case"get":n.push(new Ut({start:t,key:N(),value:q(),end:d()}));continue;case"set":n.push(new Rt({start:t,key:N(),value:q(),end:d()}));continue}h()}}}return p(),new Ht({properties:n})});function N(){var e=c.token;switch(e.type){case"operator":te[e.value]||h();case"num":case"string":case"name":case"keyword":case"atom":return p(),""+e.value;case"punc":m("[");var n=X();return m("]"),n;default:h()}}function H(e,n){var t=n.value;return"await"===t&&c.in_async&&h(n),new("this"===t?Zt:e)({name:""+t,start:n,end:n})}function P(e){"arguments"!=e.name&&"eval"!=e.name||s(e.start,"Unexpected "+e.name+" in strict mode")}function I(e,n){if(!u("name"))return n||a("Name expected"),null;e=H(e,c.token);return c.input.has_directive("use strict")&&e instanceof Yt&&P(e),p(),e}function R(e){var n=c.token;if(u("punc","[")){p();var t=F("]",!f.strict,!0,function(){return U(e)});return new qt({start:n,elements:t,rest:t.rest||null,end:d()})}if(u("punc","{")){p();for(var i=!0,r=[],o=null;!u("punc","}")&&(i?i=!1:m(","),f.strict||!u("punc","}"));){var a=c.token;if(u("punc","[")||re(l(),"punc",":")){var s=N();m(":"),r.push(new Ct({start:a,key:s,value:U(e),end:d()}))}else{if(u("operator","...")){p(),o=R(e);break}s=I(e);u("operator","=")&&(p(),s=new gt({start:s.start,name:s,value:X(),end:d()})),r.push(new Ct({start:a,key:a.value,value:s,end:d()}))}}return m("}"),new Nt({start:n,properties:r,rest:o,end:d()})}return I(e)}function U(e){var n=c.token,e=R(e);return u("operator","=")?(p(),new gt({start:n,name:e,value:X(),end:d()})):e}function B(e){for(var n=e.start,t=n.comments_before,i=_n(n,"comments_before_length")?n.comments_before_length:t.length;0<=--i;){var r=t[i];if(/[@#]__PURE__/.test(r.value)){e.pure=r;break}}}var Y=function(e,n){var t=e.start;if(u("punc","."))return p(),Y(new kt({start:t,expression:e,property:(i=c.token.value,v("name"),i),end:d()}),n);if(u("punc","[")){p();var i=K();return m("]"),Y(new Et({start:t,expression:e,property:i,end:d()}),n)}if(n&&u("punc","(")){p();t=new bt({start:t,expression:e,args:F(")",!f.strict),end:d()});return B(t),Y(t,!0)}return e};function r(e,n,t){var i=n.value;switch(i){case"++":case"--":J(t)||s(n,"Invalid use of "+i+" operator");break;case"delete":t instanceof Qt&&c.input.has_directive("use strict")&&s(t.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:i,expression:t})}function L(){var e=c.token;return c.in_async&&u("name","await")?(c.in_funarg===c.in_function&&a("Invalid use of await in function argument"),c.input.context().regex_allowed=!0,p(),new Mt({start:e,expression:L(),end:d()})):function(){var e=c.token;if(u("operator")&&ae[e.value]){p(),y();var n=r(Dt,e,L());return n.start=e,n.end=d(),n}for(var t=M(!0);u("operator")&&_i[c.token.value]&&!o(c.token);)(t=r(Ot,c.token,t)).start=e,t.end=c.token,p();return t}()}var V=function(e,n,t){var i=u("operator")?c.token.value:null,r=null!=(i="in"==i&&t?null:i)?gi[i]:null;if(null!=r&&n<r){p();r=V(L(),"**"==i?r-1:r,t);return V(new At({start:e.start,left:e,operator:i,right:r,end:r.end}),n,t)}return e};var W=function(e){var n=c.token,t=(i=e,V(L(),0,i));if(u("operator","?")){p();var i=X();return m(":"),new zt({start:n,condition:t,consequent:i,alternative:X(e),end:d()})}return t};function J(e){return e instanceof xt||e instanceof Qt}function G(e){if(e instanceof Ft){var n=null;if(e.elements[e.elements.length-1]instanceof St&&!((n=G(e.elements.pop().expression))instanceof jt||J(n)))return e;var t=e.elements.map(G);return vn(t,function(e){return e instanceof gt||e instanceof jt||e instanceof fi||J(e)})?new qt({start:e.start,elements:t,rest:n,end:e.end}):e}if(e instanceof $t){t=G(e.left);return t instanceof jt||J(t)?new gt({start:e.start,name:t,value:e.right,end:e.end}):e}if(!(e instanceof Ht))return e;n=null;if(e.properties[e.properties.length-1]instanceof St&&!((n=G(e.properties.pop().expression))instanceof jt||J(n)))return e;for(var i=[],r=0;r<e.properties.length;r++){var o=e.properties[r];if(!(o instanceof It))return e;var a=G(o.value);if(!(a instanceof gt||a instanceof jt||J(a)))return e;i.push(new Ct({start:o.start,key:o.key,value:a,end:o.end}))}return new Nt({start:e.start,properties:i,rest:n,end:e.end})}function X(e){var n=c.token,t=W(e),i=c.token.value;if(u("operator")&&se[i]){if(J(t)||"="==i&&(t=G(t))instanceof jt)return p(),new $t({start:n,left:t,operator:i,right:X(e),end:d()});a("Invalid assignment")}return t}function K(e,n){for(var t=c.token,i=[];;){if(n&&u("operator","...")){p(),i.rest=R(Jt);break}if(i.push(X(e)),!u("punc",","))break;if(p(),n&&u("punc",")")&&re(l(),"punc","=>"))break}return 1!=i.length||i.rest?new wt({start:t,expressions:i,end:d()}):i[0]}function Q(e){++c.in_loop;e=e();return--c.in_loop,e}if(f.expression){y();e=K();return v("eof"),e}return function(){var e=c.token,n=[];for(c.input.push_directives_stack();!u("eof");)n.push(w());c.input.pop_directives_stack();var t=d(),i=f.toplevel;return i?(i.body=i.body.concat(n),i.end=t):i=new Hn({start:e,body:n,end:t}),i}()}function _(e,n,t,i){this.eliminated=0,this.global=!1,this.id=e,this.init=i,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.scope=n,this.undeclared=!1}_.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n,t=e.cache&&e.cache.props;this.global&&t&&t.has(this.name)?this.mangled_name=t.get(this.name):this.mangled_name||this.unmangleable(e)||(n=this.redefined(),this.mangled_name=n?n.mangled_name||n.name:function(e,i){var n,t=e.scope,r=y(t,i),o=t.cname_holes,a=Object.create(null),s=[t];e.forEach(function(e){var n=e.scope;do{if(!(s.indexOf(n)<0))break;for(var t in y(n,i))a[t]=!0}while(s.push(n),n=n.parent_scope)});for(var f=0;f<o.length;f++)if(n=L(o[f]),!a[n])return o.splice(f,1),r[n]=!0,n;for(;;)if(n=L(++t.cname),!(r[n]||m[n]||i.reserved.has[n])){if(!a[n])break;o.push(t.cname)}return r[n]=!0,n}(this,e),this.global&&t&&t.set(this.name,this.mangled_name))},redefined:function(){var e=this.defun;if(e){var n=this.name,e=e.variables.get(n)||e instanceof Hn&&e.globals.get(n)||this.orig[0]instanceof Lt&&rn(function(e){return e.name==n},e.enclosed);return e&&e!==this?e.redefined()||e:void 0}},unmangleable:function(e){return this.global&&!e.toplevel||this.undeclared||!e.eval&&this.scope.pinned()||e.keep_fnames&&(this.orig[0]instanceof Xt||this.orig[0]instanceof Gt)}};var yi=hn("delete ++ --");function g(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new mn,e.variables=new mn,n&&(e.make_def=n.make_def)}function b(e,n){g(e,n),e.uses_eval=!1,e.uses_with=!1}function y(e,n){var t,i=e.names_in_use;return i||(e.cname=-1,e.cname_holes=[],e.names_in_use=i=Object.create(null),t=n.cache&&n.cache.props,e.enclosed.forEach(function(e){e.unmangleable(n)&&(i[e.name]=!0),e.global&&t&&t.has(e.name)&&(i[t.get(e.name)]=!0)})),i}function w(e){return e=Z(e,{eval:!1,ie8:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),ln(e.reserved,"arguments"),e.reserved.has=hn(e.reserved),e}Hn.DEFMETHOD("figure_out_scope",function(c){c=Z(c,{cache:null,ie8:!1});var u=this,o=null,t=0,a=u.parent_scope=null,l=new di(function(i,e){if(Gn(i))return i.name.walk(l),t(function(){i.argnames.forEach(function(e){e.walk(l)}),i.rest&&i.rest.walk(l),Tn(i,l)}),!0;if(i instanceof st)return i.init_vars(a),e(),!0;if(i instanceof ut)return t(function(){Tn(i,l)}),i.bcatch&&i.bcatch.walk(l),i.bfinally&&i.bfinally.walk(l),!0;if(i instanceof Cn){for(var n=a;!(n=n.resolve()).uses_with&&(n.uses_with=!0,n=n.parent_scope););return t(e),!0}if(i instanceof Sn)return t(e),!0;function t(e){i.init_vars(a);var n=o,t=a;i instanceof Nn&&(o=i),a=i,e(),a=t,o=n}function r(e,n){e!==n&&(i.mark_enclosed(c),n=n.find_variable(i.name),i.thedef!==n&&((i.thedef=n).orig.push(i),i.mark_enclosed(c)))}i instanceof Bt&&(i.scope=a),i instanceof ee&&((i.thedef=i).references=[]),i instanceof Kt||i instanceof Lt?a.def_variable(i).defun=o:i instanceof Gt?(o.def_function(i,l.parent()),r(o,a)):i instanceof Jt?(o.def_variable(i),r(o,a)):i instanceof Xt?(e=o.def_function(i,"arguments"==i.name?void 0:o),c.ie8&&(e.defun=o.parent_scope.resolve())):i instanceof Vt?a.def_variable(i):i instanceof Wt&&(o.def_variable(i,null),r(o,a))});u.make_def=function(e,n){return new _(++t,this,e,n)},u.walk(l),u.globals=new mn;var p=[],l=new di(function(e){if(e instanceof lt)return e.argname instanceof jt?(p.push(e),e.argname.walk(l),p.pop(),Tn(e,l),!0):void 0;if(e instanceof Pn)return p.push(e),e.argnames.forEach(function(e){e.walk(l)}),e.rest&&e.rest.walk(l),p.pop(),Bn(e,l),!0;if(e instanceof tt)return e.label&&e.label.thedef.references.push(e),!0;if(e instanceof Yt){if(e instanceof Kt){var n=e.definition().redefined();if(n)for(var t=e.scope;t&&(ln(t.enclosed,n),t!==n.scope);t=t.parent_scope);}else{var i;e instanceof Lt&&((i=e.definition().redefined())&&(i.const_redefs=!0))}return"arguments"!=e.name?!0:((r=e instanceof Wt&&l.parent())instanceof _t&&!r.value||(a=e.scope.resolve().find_variable("arguments"))&&d(a)&&(a.scope.uses_arguments=3),!0)}if(e instanceof Qt){for(var r,o=e.name,a=e.scope.find_variable(o),s=p.length;0<s&&a&&!((s=p.lastIndexOf(a.scope,s-1))<0);){var f=a.orig[0];if(f instanceof Kt||f instanceof Jt||f instanceof Xt){e.in_arg=!0;break}a=a.scope.parent_scope.find_variable(o)}if(a?"arguments"==o&&d(a)&&((r=l.parent())instanceof $t&&r.left===e||r instanceof Tt&&yi[r.operator]?a.scope.uses_arguments=3:a.scope.uses_arguments<2&&!(r instanceof xt&&r.expression===e)?a.scope.uses_arguments=2:a.scope.uses_arguments||(a.scope.uses_arguments=!0)):a=u.def_global(e),"eval"==o)if("Call"==(r=l.parent()).TYPE&&r.expression===e)for(t=e.scope;!(t=t.resolve()).uses_eval&&(t.uses_eval=!0,t=t.parent_scope););else a.undeclared&&(u.uses_eval=!0);return e.thedef=a,e.reference(c),!0}});function d(e){return e.orig[0]instanceof Jt&&!(e.orig[1]instanceof Jt||e.orig[2]instanceof Jt)&&!Rn(e.scope)}function i(e,n){var t=e.name,i=e.thedef;if(vn(i.orig,function(e){return!(e instanceof Lt||e instanceof Vt)})){var r,o=n.find_variable(t);return o?(r=o.redefined())&&(o=r):o=u.globals.get(t),o?o.orig.push(e):o=n.def_variable(e),i.defun=o.scope,i.forEach(function(e){e.redef=i,e.thedef=o,e.reference(c)}),o.undeclared&&u.variables.set(t,o),1}}u.walk(l),c.ie8&&u.walk(new di(function(e){if(e instanceof Kt){var n=e.thedef.defun;return i(e,n=n.name instanceof Xt&&n.name.name==e.name?n.parent_scope.resolve():n),!0}if(e instanceof Xt){n=e.thedef;return i(e,e.scope.parent_scope.resolve())?void 0!==e.thedef.init?e.thedef.init=!1:n.init&&(e.thedef.init=n.init):delete n.defun,!0}}))}),Hn.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);e=this.make_def(e);return e.undeclared=!0,e.global=!0,n.set(t,e),e}),Sn.DEFMETHOD("init_vars",function(e){g(this,e)}),Nn.DEFMETHOD("init_vars",function(e){b(this,e)}),Yn.DEFMETHOD("init_vars",function(e){b(this,e)}),Vn.DEFMETHOD("init_vars",function(e){b(this,e)}),Pn.DEFMETHOD("init_vars",function(e){return b(this,e),this.uses_arguments=!1,this.def_variable(new Jt({name:"arguments",start:this.start,end:this.end})),this}),Bt.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(ln(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){ln(n.scope.enclosed,e)}),t!==n.scope);t=t.parent_scope);}),Bt.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),Sn.DEFMETHOD("find_variable",function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),Sn.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return t.init&&!Gn(t.init)||(t.init=n),this.functions.set(e.name,t),t}),Sn.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),Un(t.init)&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),Bt.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),ee.DEFMETHOD("unmangleable",an),Bt.DEFMETHOD("definition",function(){return this.thedef}),Hn.DEFMETHOD("mangle_names",function(o){o=w(o);var n,r=-1;o.cache&&o.cache.props&&(n=y(this,o),o.cache.props.each(function(e){n[e]=!0}));var a=[],s=new di(function(n,e){if(n instanceof An){var t=r;return e(),o.v8&&function(e){var n,t=0;for(;n=e.parent(t++);){if(n instanceof Dn)return n instanceof Hn&&!o.toplevel;if(n instanceof An)return!0}}(s)||(r=t),!0}var i;if(n instanceof Sn)return o.webkit&&n instanceof zn&&n.init instanceof vt&&n.init.definitions.forEach(function(e){e.name.match_symbol(function(e){var n,t,i;e instanceof Vt&&(n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e),e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i})})},!0),n.to_mangle=[],n.variables.each(function(e){!function(n){var e=n.orig[0],t=n.redefined();if(!t){if(!(e instanceof Lt))return!1;var i=n.scope.resolve();if(n.scope===i)return!1;if(n.scope.parent_scope.find_variable(e.name))return!1;t=i.def_variable(e),i.to_mangle.push(t)}a.push(n),n.references.forEach(r),(e instanceof Kt||e instanceof Lt)&&r(e);return!0;function r(e){e.thedef=t,e.reference(o),e.thedef=n}}(e)&&n.to_mangle.push(e)}),e(),o.cache&&n instanceof Hn&&n.globals.each(f),n instanceof Kn&&s.has_directive("use asm")&&((e=new Qt(n.name)).scope=n,e.reference(o)),n.to_mangle.forEach(f),!0;if(n instanceof ee){for(;i=L(++r),m[i];);return n.mangled_name=i,!0}});function f(e){o.reserved.has[e.name]||e.mangle(o)}this.walk(s),a.forEach(f)}),Hn.DEFMETHOD("find_colliding_names",function(t){var i=t.cache&&t.cache.props,n=Object.create(m);return t.reserved.forEach(r),this.globals.each(o),this.walk(new di(function(e){e instanceof Sn&&e.variables.each(o)})),n;function r(e){n[e]=!0}function o(e){var n=e.name;if(e.global&&i&&i.has(n))n=i.get(n);else if(!e.unmangleable(t))return;r(n)}}),Hn.DEFMETHOD("expand_names",function(i){L.reset(),L.sort(),i=w(i);var r=this.find_colliding_names(i),o=0;function n(n){var e,t;n.global&&i.cache||n.unmangleable(i)||i.reserved.has[n.name]||(e=n.redefined(),t=e?e.rename||e.name:function(){for(var e;e=L(o++),r[e];);return e}(),n.rename=t,n.forEach(function(e){e.definition()===n&&(e.name=t)}))}this.globals.each(n),this.walk(new di(function(e){e instanceof Sn&&e.variables.each(n)}))}),bn.DEFMETHOD("tail_node",fn),wt.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),Hn.DEFMETHOD("compute_char_frequency",function(e){e=w(e),L.reset();var n=Bt.prototype.add_source_map;try{Bt.prototype.add_source_map=function(){this.unmangleable(e)||L.consider(this.name,-1)},e.properties&&(kt.prototype.add_source_map=function(){L.consider(this.property,-1)},Et.prototype.add_source_map=function(){!function e(n){n instanceof ni?L.consider(n.value,-1):n instanceof zt?(e(n.consequent),e(n.alternative)):n instanceof wt&&e(n.tail_node())}(this.property)}),L.consider(this.print_to_string(),1)}finally{Bt.prototype.add_source_map=n,delete kt.prototype.add_source_map,delete Et.prototype.add_source_map}L.sort()});var x,k,E,S,B,Y,L=(x=Object.create(null),S=V("0123456789"),B=V("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),G.consider=function(e,n){for(var t=e.length;0<=--t;)E[e[t]]+=n},G.sort=function(){k=B.sort(J).concat(S.sort(J))},(G.reset=W)(),G);function V(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(i),x[i]=-.01*t}return n}function W(){E=Object.create(x)}function J(e,n){return E[n]-E[e]}function G(e){var n="",t=54;for(e++;n+=k[--e%t],e=Math.floor(e/t),t=64,0<e;);return n}function wi(e,n){if(!(this instanceof wi))return new wi(e,n);hi.call(this,this.before,this.after),this.options=Z(e,{arguments:!n,arrows:!n,assignments:!n,awaits:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,default_values:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,inline:!n,join_vars:!n,keep_fargs:n,keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,negate_iife:!n,objects:!n,passes:1,properties:!n,pure_funcs:null,pure_getters:!n&&"strict",reduce_funcs:!n,reduce_vars:!n,rests:!n,sequences:!n,side_effects:!n,spreads:!n,strings:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n},!0);n=this.options.evaluate;this.eval_threshold=/eager/.test(n)?1/0:+n;var t=this.options.global_defs;if("object"==typeof t)for(var i in t)/^@/.test(i)&&_n(t,i)&&(t[i.slice(1)]=bi(t[i],{expression:!0}));!0===this.options.inline&&(this.options.inline=3),this.drop_fargs=this.options.keep_fargs?an:function(e,n){if(e.length_read)return!1;var t=e.name;if(!t)return n&&"Call"==n.TYPE&&n.expression===e;if(t.fixed_value()!==e)return!1;t=t.definition();if(t.direct_access)return!1;t=t.escaped;return t&&1!=t.depth};var r=this.options.pure_funcs;"function"==typeof r?this.pure_funcs=r:"string"==typeof r?this.pure_funcs=function(e){return r!==e.expression.print_to_string()}:Array.isArray(r)?this.pure_funcs=function(e){return!tn(e.expression.print_to_string(),r)}:this.pure_funcs=sn;n=this.options.sequences;this.sequences_limit=1==n?800:0|n;var o=this.options.top_retain;o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return tn(e.name,o)});n=this.options.toplevel;this.toplevel="string"==typeof n?{funcs:/funcs/.test(n),vars:/vars/.test(n)}:{funcs:n,vars:n}}function X(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function xi(f){var e=!f;f=Z(f,{ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n,c=an;f.comments&&(n=f.comments,"string"==typeof f.comments&&/^\/.*\/[a-zA-Z]*$/.test(f.comments)&&(j=f.comments.lastIndexOf("/"),n=new RegExp(f.comments.substr(1,j-1),f.comments.substr(j+1))),c=n instanceof RegExp?function(e){return"comment5"!=e.type&&n.test(e.value)}:"function"==typeof n?function(e){return"comment5"!=e.type&&n(this,e)}:"some"===n?X:sn);var i=f.indent_start,r=0,o=1,u=0,a="",s=f.ascii_only?function(e,t){return(e=t?e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"}):e).replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n,t="",i=0,r=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=(n=o)&&n<=56319){if(I(e.charCodeAt(i+1))){i++;continue}}else if(!I(o))continue;t+=e.slice(r,i)+"\\u"+o.toString(16),r=i+1}return 0==r?e:t+e.slice(r)};function t(e,n){n=function(t,e){var i=0,r=0;function n(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function o(){return'"'+t.replace(/\x22/g,'\\"')+'"'}switch(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,n){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return f.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(n+1))?"\\x00":"\\0"}return e}),t=s(t),f.quote_style){case 1:return n();case 2:return o();case 3:return("'"==e?n:o)();default:return(r<i?n:o)()}}(e,n);return n=f.inline_script?(n=(n=n.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e"):n}var l,p,d=!1,h=0,v=!0,m=!1,_=!1,g=!1,b=!1,y=-1,w="",x=f.source_map&&[],k=x?function(n,t){x.forEach(function(e){e.line+=n,e.col+=t})}:on,E=x?function(){x.forEach(function(e){f.source_map.add(e.token.file,e.line,e.col,e.token.line,e.token.col,e.name||"name"!=e.token.type?e.name:e.token.value)}),x=[]}:on;function S(e){var n=a.lastIndexOf("\n");h<n&&(h=n);var t=a.slice(0,h),n=a.slice(h);for(k(e,n.length-r),o+=e,u+=e,r=n.length,a=t;e--;)a+="\n";a+=n}var T=f.max_line_len?function(){v?r>f.max_line_len&&bn.warn("Output exceeds {max_line_len} characters",f):(r>f.max_line_len&&S(1),v=!0,E())}:on,D=hn("( [ + * / - , .");function O(e){var n=(e=String(e)).charAt(0);g&&n&&(g=!1,"\n"!=n&&(O("\n"),z())),b&&n&&(b=!1,/[\s;})]/.test(n)||A()),y=-1;var t=w.slice(-1);_&&(_=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(f.semicolons||D[n]?(a+=";",r++,u++):(T(),a+="\n",u++,o++,r=0,/^\s+$/.test(e)&&(_=!0)),f.beautify||(m=!1))),m&&((R(t)&&(R(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==w||"--"==e&&"!"==w||"in"==e&&"/"==t||"--"==w&&">"==n)&&(a+=" ",r++,u++),"<"==t&&"!"==e||(m=!1)),l&&(x.push({token:l,name:p,line:o,col:r}),l=!1,v&&E()),a+=e,d="("==e.slice(-1),u+=e.length;n=e.split(/\r?\n/),t=n.length-1;o+=t,r+=n[0].length,0<t&&(T(),r=n[t].length),w=e}var A=f.beautify?function(){O(" ")}:function(){m=!0},z=f.beautify?function(e){O(function e(n,t){if(t<=0)return"";if(1==t)return n;var i=e(n,t>>1);return i+=i,1&t?i+n:i}(" ",e?i-(f.indent_level>>1):i))}:on,$=f.beautify?function(e,n){!0===e&&(e=q());var t=i;i=e;n=n();return i=t,n}:function(e,n){return n()},M=f.max_line_len||f.preserve_line?function(){T(),h=a.length,v=!1}:on,F=f.beautify?function(){if(y<0)return O("\n");"\n"!=a[y]&&(a=a.slice(0,y)+"\n"+a.slice(y),u++,o++),y++}:M,j=f.beautify?function(){O(";")}:function(){_=!0};function q(){return i+f.indent_level}function C(){return v||T(),a}function N(){var e=a.lastIndexOf("\n");return/^ *$/.test(a.slice(e+1))}var H=[];return{get:C,toString:C,indent:z,should_break:e?on:function(){return f.width&&r-i>=f.width},has_parens:function(){return d},newline:F,print:O,space:A,comma:function(){M(),O(","),M(),A()},colon:function(){O(":"),A()},last:function(){return w},semicolon:j,force_semicolon:function(){_&&O(";"),O(";")},to_utf8:s,print_name:function(e){O((e=(e=e).toString(),e=s(e,!0)))},print_string:function(e,n){O(t(e,n))},next_indent:q,with_indent:$,with_block:function(e){var n;return O("{"),F(),$(q(),function(){n=e()}),z(),O("}"),n},with_parens:function(e){return O("("),M(),e=e(),M(),O(")"),e},with_square:function(e){return O("["),M(),e=e(),M(),O("]"),e},add_mapping:x?function(e,n){l=e,p=n}:on,option:function(e){return f[e]},prepend_comments:e?on:function(e){var t,n,i,r=this,o=e instanceof Zn&&e.value,a=(a=s(e))||[];function s(e){var n=e.start;if(!n){if(!o)return;e.start=n=new P}e=n.comments_before;if(!e){if(!o)return;n.comments_before=e=[]}if(e._dumped!==r)return e._dumped=r,e}o&&((t=new di(function(e){var n=t.parent();if(!(n instanceof Zn||n instanceof At&&n.left===e||"Call"==n.TYPE&&n.expression===e||n instanceof zt&&n.condition===e||n instanceof kt&&n.expression===e||n instanceof wt&&n.expressions[0]===e||n instanceof Et&&n.expression===e||n instanceof Ot))return!0;e=s(e);e&&(a=a.concat(e))})).push(e),e.value.walk(t)),0==u&&(0<a.length&&f.shebang&&"comment5"==a[0].type&&(O("#!"+a.shift().value+"\n"),z()),(n=f.preamble)&&O(n.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))),0!=(a=a.filter(c,e)).length&&(i=N(),a.forEach(function(e,n){i||(e.nlb?(O("\n"),z(),i=!0):0<n&&A()),/comment[134]/.test(e.type)?(O("//"+e.value.replace(/[@#]__PURE__/g," ")+"\n"),z(),i=!0):"comment2"==e.type&&(O("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),i=!1)}),i||(e.start.nlb?(O("\n"),z()):A()))},append_comments:e||c===an?on:function(e,t){var n,i=e.end;!i||(n=i[t?"comments_before":"comments_after"])&&n._dumped!==this&&(e instanceof yn||vn(n,function(e){return!/comment[134]/.test(e.type)}))&&(n._dumped=this,i=a.length,n.filter(c,e).forEach(function(e,n){b=!1,g?(O("\n"),z(),g=!1):e.nlb&&(0<n||!N())?(O("\n"),z()):(0<n||!t)&&A(),/comment[134]/.test(e.type)?(O("//"+e.value.replace(/[@#]__PURE__/g," ")),g=!0):"comment2"==e.type&&(O("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),b=!0)}),a.length>i&&(y=i))},line:function(){return o},col:function(){return r},pos:function(){return u},push_node:function(e){H.push(e)},pop_node:f.preserve_line?function(){var e=H.pop();e.start&&e.start.line>o&&S(e.start.line-o)}:function(){H.pop()},parent:function(e){return H[H.length-2-(e||0)]}}}function K(e,n){e.DEFMETHOD("_codegen",n)}function Q(e,n){e.DEFMETHOD("needs_parens",n)}function ce(e){if(!e.has_parens()&&gn(e))return!0;var n;if(e.option("webkit")&&((n=e.parent())instanceof xt&&n.expression===this))return!0;if(e.option("wrap_iife")&&((n=e.parent())instanceof bt&&n.expression===this))return!0}function ue(e){return!e.has_parens()&&gn(e,!0)}function le(e,n){n=n.parent();return n instanceof Mt||(n instanceof At?!(n instanceof $t):n instanceof bt?n.expression===e:n instanceof zt?n.condition===e:n instanceof xt?n.expression===e:n instanceof Tt||void 0)}function pe(e,t,i,n){var r=e.length-1,o=n,n=Y;e.forEach(function(e,n){o&&(e instanceof xn?"use asm"==e.value&&(Y=!0):e instanceof kn||(e instanceof En&&e.body instanceof ni&&i.force_semicolon(),o=!1)),e instanceof kn||(i.indent(),e.print(i),n==r&&t||(i.newline(),t&&i.newline()))}),Y=n}function de(e,n){n.print("{"),n.with_indent(n.next_indent(),function(){n.append_comments(e,!0)}),n.print("}")}function he(e,n,t){0<e.body.length?n.with_block(function(){pe(e.body,!1,n,t)}):de(e,n)}function ve(e,t){t.with_parens(function(){e.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)}),e.rest&&(e.argnames.length&&t.comma(),t.print("..."),e.rest.print(t))})}function me(e,n){1==e.argnames.length&&e.argnames[0]instanceof Jt&&!e.rest?e.argnames[0].print(n):ve(e,n),n.space(),n.print("=>"),n.space(),e.value?e.value.print(n):he(e,n,!0)}function _e(e,n){e.name&&(n.space(),e.name.print(n)),ve(e,n),n.space(),he(e,n,!0)}function ge(e){e.print("async"),e.space(),e.print("function"),_e(this,e)}function be(t,i){return function(e){e.print(t);var n=this[i];n&&(e.space(),n.print(e)),e.semicolon()}}function ye(e,n){n.newline(),e.body.forEach(function(e){n.indent(),e.print(n),n.newline()})}function we(n){return function(t){t.print(n),t.space(),this.definitions.forEach(function(e,n){n&&t.comma(),e.print(t)});var e=t.parent();(e&&e.init!==this||!(e instanceof jn||e instanceof qn))&&t.semicolon()}}function xe(e,n,t){var i=!1;t&&e.walk(new di(function(e){return!!i||(e instanceof At&&"in"==e.operator?i=!0:e instanceof Nn&&(!Rn(e)||!e.value)||void 0)})),e.print(n,i)}function ke(e,t){(e.expression instanceof bt||e.expression instanceof Pn)&&t.add_mapping(e.start),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})})}function Ee(e,n){var t=e.key;t instanceof bn?n.with_square(function(){t.print(n)}):n.option("quote_keys")?n.print_string(t):""+ +t==t&&0<=t?n.print(Ae(t)):(e=e.start&&e.start.quote,(m[t]?n.option("ie8"):!vi(t))||e&&n.option("keep_quoted_props")?n.print_string(t,e):n.print_name(t))}function Se(e){Ee(this,e),e.colon(),this.value.print(e)}function Te(n){return function(e){e.print(n),e.space(),Ee(this,e),_e(this.value,e)}}function De(e,n){n.option("braces")&&!(e instanceof ht||e instanceof vt)?ze(e,n):!e||e instanceof kn?n.force_semicolon():e.print(n)}function Oe(e,n){return 0<e.args.length||n.option("beautify")}function Ae(e){var n,t,i=e.toString(10).replace(/^0\./,".").replace("e+","e"),r=[i];return Math.floor(e)===e&&(e<0?r.push("-0x"+(-e).toString(16).toLowerCase()):r.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(i))?(t=n[0].length,e=i.slice(t),r.push(e+"e-"+(e.length+t-1))):(n=/0+$/.exec(i))?(t=n[0].length,r.push(i.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(i))&&r.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(r)}function ze(e,n){!e||e instanceof kn?n.print("{}"):e instanceof On?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function $e(e,n){e.forEach(function(e){e.DEFMETHOD("add_source_map",n)})}t(wi.prototype=new hi,{option:function(e){return this.options[e]},exposed:function(e){if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof Hn))return!1;var n=this.toplevel;return!vn(e.orig,function(e){return n[e instanceof Gt?"funcs":"vars"]})},compress:function(e){e=e.resolve_defines(this),this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i=!1,r={ie8:this.option("ie8")},o=0;o<n;o++)if(e.figure_out_scope(r),(0<o||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),1<n){var a=0;if(e.walk(new di(function(){a++})),bn.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:o,min_count:t,count:a}),a<t)t=a,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&e.process_expression(!1),e},before:function(e,n,t){if(e._squeezed)return e;var i=e instanceof Nn;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_boolean_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.merge_variables(this),r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(e){function l(e,n){var t,i=n.getProperty();if(!(i instanceof bn)){if(e instanceof Ft){n=e.elements;if("length"==i)return W(n.length,e);"number"==typeof i&&i in n&&(t=n[i])}else if(e instanceof Pn){if("length"==i)return e.length_read=!0,W(e.argnames.length,e)}else if(e instanceof Ht){i=""+i;for(var r=e.properties,o=r.length;0<=--o;){if(!(r[o]instanceof It))return;t||r[o].key!==i||(t=r[o].value)}}return t instanceof Qt&&t.fixed_value()||t}}function ne(e,n,t,i,r,o,a){var s=n.parent(r);if(!(e.option("unsafe")&&s instanceof kt&&(c=i,f=s.property,c instanceof ui?R.Boolean[f]:c instanceof ti?R.Number[f]:c instanceof ni?R.String[f]:"valueOf"!=f&&(c instanceof Ft?R.Array[f]:c instanceof Pn?R.Function[f]:c instanceof Ht?R.Object[f]:c instanceof ri&&(R.RegExp[f]&&!c.value.global))))){var f,c=pe(t,s);if(c)return c;if(s instanceof Ft)return ne(e,n,s,s,r+1);if(s instanceof bt)return!o&&s.expression===t&&!s.is_expr_pure(e)&&(!Un(i)||!(s instanceof yt)&&i.contains_this());if(s instanceof qn)return s.init===t;if(s instanceof It){if(s.value!==t)return;c=n.parent(r+1);return ne(e,n,c,c,r+2)}if(s instanceof xt&&s.expression===t){i=l(i,s);return(!o||a)&&ne(e,n,s,i,r+1)}}}function te(e){return"arguments"==e.name&&e.scope.uses_arguments}function ie(e){return e.orig[0]instanceof Jt||e.orig[1]instanceof Jt}function Y(e,n){do{if(e===n)return;if(n instanceof Nn)return 1}while(n=n.parent_scope)}function re(e,n){var t=e.definition();return(!e.in_arg||!ie(t))&&vn(t.orig,function(e){return!(e instanceof Lt||e instanceof Vt||n&&e instanceof Xt)})}e(bn,function(e,n){return e}),bn.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),Nn.DEFMETHOD("process_expression",function(t,i){var r=this,o=new hi(function(e){return t&&e instanceof En?oe(et,e,{value:e.body}):!t&&e instanceof et?i?i(e):oe(En,e,{body:e.value||oe(Dt,e,{operator:"void",expression:oe(ti,e,{value:0})})}):(e instanceof Pn&&e!==r||(e instanceof Dn?0<=(n=e.body.length-1)&&(e.body[n]=e.body[n].transform(o)):e instanceof ot?(e.body=e.body.transform(o),e.alternative&&(e.alternative=e.alternative.transform(o))):e instanceof Cn&&(e.body=e.body.transform(o))),e);var n});r.transform(o)});var p=/^(0|[1-9][0-9]*)$/;function o(e,n,t){t.assignments=0,t.bool_fn=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(Un(t.init)&&t.init!==t.scope)&&t.init,Gn(t.fixed)&&!vn(t.references,function(e){var n=e.scope.resolve();do{if(t.scope===n)return 1}while(Un(n)&&(n=n.parent_scope.resolve()))})&&(e.defun_ids[t.id]=!1),t.recursive_refs=0,t.references=[],t.should_replace=void 0,t.single_use=void 0}function u(n,t,e){e.variables.each(function(e){o(n,t,e),null===e.fixed?(e.safe_ids=n.safe_ids,m(n,e)):e.fixed&&(n.loop_ids[e.id]=n.in_loop,m(n,e))}),e.may_call_this=function(){e.may_call_this=on,e.contains_this()&&e.functions.each(function(e){!Gn(e.init)||e.id in n.defun_ids||(n.defun_ids[e.id]=!1)})},e.uses_arguments&&e.each_argname(function(e){e.definition().last_ref=!1}),t.option("ie8")&&e.variables.each(function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)})}function s(n,t){if(t.id in n.defun_ids){var e=n.defun_ids[t.id];if(e){var i=n.defun_visited[t.id];if(e===n.safe_ids){if(!i)return t.fixed}else i?t.init.enclosed.forEach(function(e){t.init.variables.get(e.name)!==e&&(c(n,e)||(e.fixed=!1))}):n.defun_ids[t.id]=!1}}else{if(!n.in_loop)return n.defun_ids[t.id]=n.safe_ids,t.fixed;n.defun_ids[t.id]=!1}}function d(n,e){e.functions.each(function(e){Gn(e.init)&&!n.defun_visited[e.id]&&(n.defun_ids[e.id]=n.safe_ids,e.init.walk(n))})}function h(e){e.safe_ids=Object.create(e.safe_ids)}function v(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function m(e,n){e.safe_ids[n.id]={}}function f(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function c(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];return t?(_n(e.safe_ids,n.id)||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!te(n)&&((!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=oe(si,n.orig[0]),!0)):!t.assign||t.assign===e.safe_ids):Gn(n.fixed)}function _(e,n,t){if(t||vn(n.orig,function(e){return!(e instanceof Lt)})){if(void 0===n.fixed)return t||vn(n.orig,function(e){return!(e instanceof Vt)});if(null===n.fixed&&n.safe_ids)return n.safe_ids[n.id]=!1,delete n.safe_ids,1;if(!1!==n.fixed){t=e.safe_ids[n.id];if(!_n(e.safe_ids,n.id)){if(!t)return;if(t.read&&n.scope!==e.find_parent(Nn))return;t.assign=!(!t.assign||t.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&t.read){if(t.read!==e.safe_ids)return;if(e.loop_ids[n.id]!==e.in_loop)return}return c(e,n)&&vn(n.orig,function(e){return!(e instanceof Xt)})}}}function g(e,n){var t=oe(Qt,e,e);return t.fixed=n||oe(si,e),t}function b(e,n,t,i,r,o,a){var s,f,c=e.parent(o);if(!r||!r.is_constant()){if(s=n,f=i,(u=c)instanceof $t?"="==u.operator&&u.right===f:u instanceof bt?u.expression!==f||u instanceof yt:u instanceof Zn?u.value===f&&f.scope!==s.scope:u instanceof _t&&u.value===f)return n.escaped.push(c),!(1<a)||r&&r.is_constant_expression(t)||(a=1),void((!n.escaped.depth||n.escaped.depth>a)&&(n.escaped.depth=a));if(u=i,(f=c)instanceof Ft||(f instanceof At?le[f.operator]:f instanceof zt?f.condition!==u:f instanceof wt&&f.tail_node()===u))b(e,n,t,c,c,o+1,a);else if(c instanceof It&&c.value===i){var u=e.parent(o+1);b(e,n,t,u,u,o+2,a)}else if(c instanceof xt&&c.expression===i&&(b(e,n,t,c,r=l(r,c),o+1,a+1),r))return;0<o||c instanceof bt&&c.expression===i||c instanceof wt&&c.tail_node()!==i||c instanceof En||c instanceof Tt&&!yi[c.operator]||(n.direct_access=!0)}}function y(e){var n;e instanceof Et&&((n=e.expression)instanceof Qt&&(!te(n=n.definition())||((e=(e=e.property).is_constant()?e.value:e)instanceof bn||p.test(e))&&(n.reassigned=!0,(e instanceof bn?n.scope.argnames:[n.scope.argnames[e]]).forEach(function(e){e instanceof Jt&&(e.definition().fixed=!1)}))))}function w(o,e,n,a,t){var s=new di(function(i){if(i instanceof gt)return x(i),h(o),i.value.walk(o),v(o),(r=a)&&(a=function(){var e=r();return ue(e)?V(i,[e,i.value]):i}),i.name.walk(s),a=r,!0;if(i instanceof qt){x(i);var r=a;return i.elements.forEach(function(e,n){return e instanceof fi?x(e):(r&&(a=function(){return oe(Et,e,{expression:r(),property:oe(ti,e,{value:n})})}),void e.walk(s))}),i.rest&&(r&&(a=e.option("rests")&&function(){var e=r();return e instanceof Ft?oe(Ft,i,{elements:e.elements.slice(i.elements.length)}):i}),i.rest.walk(s)),a=r,!0}if(i instanceof Nt){x(i);r=a;return i.properties.forEach(function(t){x(t),t.key instanceof bn&&(h(o),t.key.walk(o),v(o)),r&&(a=function(){var e=t.key,n=Et;return"string"==typeof e&&(vi(e)?n=kt:e=W(e,t)),oe(n,t,{expression:r(),property:e})}),t.value.walk(s)}),i.rest&&(a=!1,i.rest.walk(s)),a=r,!0}return t(i,a,function(){for(var e=o.stack.length,n=0,t=s.stack.length-1;n<t;n++)o.stack.push(s.stack[n]);i.walk(o),o.stack.length=e}),!0});n.walk(s)}function n(e,n,t){var i=this.name.definition().id;return e.defun_visited[i]||e.defun_ids[i]!==e.safe_ids||(e.defun_visited[i]=!0,this.inlined=!1,h(e),u(e,t,this),n(),v(e),d(e,this)),!0}function a(i,e,r){var o=this;o.inlined=!1;var a=i.parent(),n=Ln(o),t=!1;o.walk(new di(function(e){return n?t=!0:e instanceof et?n=!0:e instanceof Nn&&e!==o||void 0})),t&&h(i),u(i,r,o);var s=!o.uses_arguments||i.has_directive("use strict");o.argnames.forEach(function(n,e){var t=a.args[e];w(i,r,n,function(){var e=o.argnames.indexOf(n);return(e<0?t:a.args[e])||oe(si,a)},c)}),o.rest&&w(i,r,o.rest,r.option("rests")&&function(){return oe(Ft,o,{elements:a.args.slice(o.argnames.length)})},c),Bn(o,i);var f=i.safe_ids;return v(i),d(i,o),t||(i.safe_ids=f),!0;function c(e,n){var t=e.definition();n&&s&&void 0===t.fixed?(m(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[e]):t.fixed=!1}}function x(e){e._squeezed=!1,e._optimized=!1,delete e.fixed,e instanceof Nn&&delete e._var_names}function t(t,i){return this.transform(new hi(function(e,n){return e instanceof gt?((e=e.clone()).name=e.name.transform(this),e):e instanceof jt?(n(e=e.clone(),this),e):e instanceof Ct?((e=e.clone()).value=e.value.transform(this),e):e.convert_symbol(t,i)}))}function i(e,n){e=oe(e,this,this);return n(e,this),e}function r(n,t){var i=new di(function(e){return e instanceof gt?(e.value.walk(t),e.name.walk(i),!0):e instanceof Ct?(e.key instanceof bn&&e.key.walk(t),e.value.walk(i),!0):n(e)});this.walk(i)}function k(e){return e(this)}function L(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}function oe(e,n,t){return t=t||{},n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function V(e,n){return 1==n.length?n[0]:oe(wt,e,{expressions:n.reduce(E,[])})}function W(e,n){switch(typeof e){case"string":return oe(ni,n,{value:e});case"number":return isNaN(e)?oe(ai,n):isFinite(e)?1/e<0?oe(Dt,n,{operator:"-",expression:oe(ti,n,{value:-e})}):oe(ti,n,{value:e}):e<0?oe(Dt,n,{operator:"-",expression:oe(ci,n)}):oe(ci,n);case"boolean":return oe(e?pi:li,n);case"undefined":return oe(si,n);default:if(null===e)return oe(oi,n,{value:null});if(e instanceof RegExp)return oe(ri,n,{value:e});throw new Error(pn("Can't handle constant of type: {type}",{type:typeof e}))}}function J(e,n){return n instanceof xt||fe(n)&&"eval"==n.name}function ae(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&J(0,i):n instanceof Dt&&(r="delete"==n.operator||"typeof"==n.operator&&fe(i)),r?V(t,[oe(ti,t,{value:0}),i]):i}function E(e,n){return n instanceof wt?e.push.apply(e,n.expressions):e.push(n),e}function S(e){if(null===e)return[];if(e instanceof On)return vn(e.body,function(e){return!(e instanceof ht||e instanceof vt)})?e.body:[e];if(e instanceof kn)return[];if(e instanceof yn)return[e];throw new Error("Can't convert thing to statement array")}function G(e){return null===e||(e instanceof kn||e instanceof On&&0==e.body.length)}function T(e){return vn(e.body,function(e){return G(e)||e instanceof Kn||e instanceof mt&&vn(e.definitions,function(e){return!e.value})})}function D(e){return e instanceof zn&&e.body instanceof On?e.body:e}function se(e){for(;e instanceof xt;)e=e.expression;return e}function X(e){if("Call"!=e.TYPE)return!1;e=e.expression;return e instanceof Wn||e instanceof Jn||X(e)}function fe(e){return e instanceof Qt&&e.definition().undeclared}(I=function(e,n){e.DEFMETHOD("reduce_vars",n)})(bn,on),I($t,function(r,e,o){var a=this,s=a.left;if("="==a.operator&&s.equivalent_to(a.right)&&!s.has_side_effects(o))a.right.walk(r),function e(n){{var t;n instanceof kt?e(n.expression):n instanceof Et?(e(n.expression),n.property.walk(r)):n instanceof Qt?(f(t=n.definition(),n),n.fixed=t.fixed):n.walk(r)}}(s),a.__drop=!0;else{if(!(s instanceof jt||s instanceof Qt))return void y(s);if("="==a.operator)a.right.walk(r),w(r,o,s,function(){return a.right},function(e,n,t){if(!(e instanceof Qt))return y(e),void t();var i=e.definition();i.assignments++,n&&!ne(o,r,a,a.right,0)&&!e.in_arg&&_(r,i)?(f(i,e),m(r,i),i.single_use&&s instanceof jt&&(i.single_use=!1),r.loop_ids[i.id]=r.in_loop,b(r,i,e.scope,a,a.right,0,1),e.fixed=i.fixed=n,e.fixed.assigns=[a]):(t(),i.fixed=!1)});else{var n=s.definition();n.assignments++;var t=n.fixed;if(ne(o,r,a,a,0))return void(n.fixed=!1);var i=c(r,n);a.right.walk(r),i&&!s.in_arg&&_(r,n)?(f(n,s),m(r,n),n.single_use&&(n.single_use=!1),s.fixed=n.fixed=function(){return oe(At,a,{operator:a.operator.slice(0,-1),left:g(s,t),right:a.right})},s.fixed.assigns=t&&t.assigns?t.assigns.slice():[],s.fixed.assigns.push(a)):(s.walk(r),n.fixed=!1)}}return!0}),I(Xn,n),I(At,function(e){if(le[this.operator])return this.left.walk(e),h(e),this.right.walk(e),v(e),!0}),I(Sn,function(n,e,t){this.variables.each(function(e){o(n,t,e)})}),I(bt,function(n,e){n.find_parent(Nn).may_call_this();var t=this.expression;if(Un(t)){var i=!t.name;return this.args.forEach(function(e){e.walk(n),e instanceof St&&(i=!1)}),i&&(t.reduce_vars=a),t.walk(n),i&&delete t.reduce_vars,!0}if(t instanceof Qt){var r=t.definition();if("Call"==this.TYPE&&n.in_boolean_context()&&r.bool_fn++,Gn(r.fixed)){r=s(n,r);if(r)return e(),r.walk(n),!0}}else"Call"==this.TYPE&&t instanceof $t&&"="==t.operator&&t.left instanceof Qt&&n.in_boolean_context()&&t.left.definition().bool_fn++}),I(zt,function(e){return this.condition.walk(e),h(e),this.consequent.walk(e),v(e),h(e),this.alternative.walk(e),v(e),!0}),I(gt,function(e){return this.name.walk(e),h(e),this.value.walk(e),v(e),!0}),I(Kn,n),I(Mn,function(e){var n=e.in_loop;return e.in_loop=this,h(e),this.body.walk(e),je(this,e.parent())&&(v(e),h(e)),this.condition.walk(e),v(e),e.in_loop=n,!0}),I(jn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.init&&this.init.walk(n);var i=n.in_loop;return n.in_loop=this,h(n),this.condition&&this.condition.walk(n),this.body.walk(n),this.step&&(je(this,n.parent())&&(v(n),h(n)),this.step.walk(n)),v(n),n.in_loop=i,!0}),I(qn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.object.walk(n);var i=n.in_loop;n.in_loop=this,h(n);var r=this.init;return r instanceof dt?r.definitions[0].name.mark_symbol(function(e){e instanceof Yt&&((e=e.definition()).assignments++,e.fixed=!1)},n):r instanceof jt||r instanceof Qt?r.mark_symbol(function(e){var n;e instanceof Qt&&(f(n=e.definition(),e),n.assignments++,e.is_immutable()||(n.fixed=!1))},n):r.walk(n),this.body.walk(n),v(n),n.in_loop=i,!0}),I(ot,function(e){return this.condition.walk(e),h(e),this.body.walk(e),v(e),this.alternative&&(h(e),this.alternative.walk(e),v(e)),!0}),I(An,function(e){return h(e),this.body.walk(e),v(e),!0}),I(Pn,function(e,n,t){var i=this;return i.inlined=!1,h(e),u(e,t,i),n(),v(e),i.name&&b(e,i.name.definition(),i,i.name,i,0,1),d(e,i),!0}),I(at,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.expression.walk(n);var i=!0;return this.body.forEach(function(e){e instanceof ft||(e.expression.walk(n),i&&(i=!1,h(n)))}),i||v(n),Tn(this,n),!0}),I(st,function(e){return h(e),Tn(this,e),v(e),!0}),I(Kt,function(){this.definition().fixed=!1}),I(Qt,function(e,n,t){var i,r,o,a=this.definition();f(a,this),1==a.references.length&&!a.fixed&&a.orig[0]instanceof Gt&&(e.loop_ids[a.id]=e.in_loop),!1===a.fixed?(r=a.redefined())&&Y(a.scope,this.scope)&&(r.single_use=!1):void 0!==a.fixed&&c(e,a)?a.fixed&&(this.in_arg&&a.orig[0]instanceof Xt&&(this.fixed=a.scope),o=this.fixed_value(),(i=Xe(e,a))?a.recursive_refs++:!o||(r=a,!t.option("unused")||r.scope.pinned()||!1===r.single_use||r.references.length-r.recursive_refs!=1||ie(r)&&r.scope.uses_arguments)?a.single_use=!1:(a.in_loop=e.loop_ids[a.id]!==e.in_loop,a.single_use=o instanceof Pn&&!o.pinned()&&(!a.in_loop||e.parent()instanceof bt)||!a.in_loop&&a.scope===this.scope.resolve()&&o.is_constant_expression()),ne(t,e,this,o,0,!!(t=o)&&(t.is_constant()||t instanceof Pn||t instanceof Zt),i)&&(a.single_use?a.single_use="m":a.fixed=!1),a.fixed&&e.loop_ids[a.id]!==e.in_loop&&(a.cross_loop=!0),b(e,a,this.scope,this,o,0,1)):a.fixed=!1,this.fixed||(this.fixed=a.fixed),!Gn(a.fixed)||(o=e.parent())instanceof bt&&o.expression===this||(a=s(e,a))&&a.walk(e)}),I(Hn,function(n,e,t){return this.globals.each(function(e){o(n,t,e)}),h(n),u(n,t,this),e(),v(n),d(n,this),!0}),I(ut,function(n,e,t){return this.variables.each(function(e){o(n,t,e)}),h(n),Tn(this,n),v(n),this.bcatch&&(h(n),this.bcatch.walk(n),v(n)),this.bfinally&&this.bfinally.walk(n),!0}),I(Tt,function(e,n){var t=this;if(_i[t.operator]){var i=t.expression;if(i instanceof Qt){var r=i.definition();r.assignments++;var o=r.fixed;return c(e,r)&&!i.in_arg&&_(e,r)?(f(r,i),m(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return oe(At,t,{operator:t.operator.slice(0,-1),left:oe(Dt,t,{operator:"+",expression:g(i,o)}),right:oe(ti,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof Dt?i.fixed=r.fixed:(i.fixed=function(){return oe(Dt,t,{operator:"+",expression:g(i,o)})},i.fixed.assigns=o&&o.assigns)):(i.walk(e),r.fixed=!1),!0}y(i)}}),I(_t,function(i,e,n){var r=this;if(r.value)return r.value.walk(i),w(i,n,r.name,function(){return r.value},function(e,n){var t=e.definition();n&&_(i,t,!0)?(m(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[r],(e instanceof Lt&&t.redefined()||!re(e)&&!Ne(t))&&(t.single_use=!1)):t.fixed=!1}),!0}),I(Fn,function(e,n){var t=e.in_loop;return e.in_loop=this,h(e),n(),v(e),e.in_loop=t,!0}),Hn.DEFMETHOD("reset_opt_flags",function(t){var i=new di(t.option("reduce_vars")?function(e,n){return x(e),e.reduce_vars(i,n,t)}:x);i.defun_ids=Object.create(null),i.defun_visited=Object.create(null),i.in_loop=null,i.loop_ids=Object.create(null),i.safe_ids=Object.create(null),this.walk(i)}),Bt.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return e&&((e=this.fixed?this.fixed:e)instanceof bn?e:e())}),Qt.DEFMETHOD("is_immutable",function(){var e=this.redef||this.definition();return 1==e.orig.length&&e.orig[0]instanceof Xt}),bn.DEFMETHOD("convert_symbol",on),gt.DEFMETHOD("convert_symbol",t),jt.DEFMETHOD("convert_symbol",t),Yt.DEFMETHOD("convert_symbol",i),Qt.DEFMETHOD("convert_symbol",i),gt.DEFMETHOD("mark_symbol",r),jt.DEFMETHOD("mark_symbol",r),Yt.DEFMETHOD("mark_symbol",k),Qt.DEFMETHOD("mark_symbol",k),bn.DEFMETHOD("match_symbol",function(e){return e(this)}),jt.DEFMETHOD("match_symbol",function(n,t){var i=!1,r=new di(function(e){return!!i||(e instanceof gt?t?(e.name.walk(r),!0):i=!0:e instanceof Ct?!t&&e.key instanceof bn?i=!0:(e.value.walk(r),!0):n(e)?i=!0:void 0)});return this.walk(r),i});var O=hn("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");Qt.DEFMETHOD("is_declared",function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&O[this.name]});var ce=hn("Infinity NaN undefined");function A(e){return vn(e.definitions,function(e){return!e.value})}function z(e){return e instanceof Kn||e instanceof mt&&A(e)}function $(e,c){var K,Q,Z;!function(){var e=c.self(),n=0;do{if(e instanceof lt)c.parent(n).bfinally||n++;else if(e instanceof pt)n++;else if(e instanceof zn)K=!0;else{if(e instanceof Nn){Z=e;break}e instanceof ut&&(Q=Q||e)}}while(e=c.parent(n++))}();for(var ee,n=10;ee=!1,function e(n){var t=[];for(var i=0;i<n.length;){var r=n[i];if(r instanceof On&&vn(r.body,function(e){return!(e instanceof ht||e instanceof vt)}))ee=!0,e(r.body),[].splice.apply(n,[i,1].concat(r.body)),i+=r.body.length;else{if(r instanceof xn){if(tn(r.value,t)){ee=!0,n.splice(i,1);continue}t.push(r.value)}r instanceof kn?(ee=!0,n.splice(i,1)):i++}}}(e),c.option("dead_code")&&function(n,t){for(var e,i=t.self(),r=0,o=0,a=n.length;r<a;r++){var s,f=n[r];if(f instanceof tt?(s=t.loopcontrol_target(f),f instanceof it&&!(s instanceof zn)&&D(s)===i||f instanceof rt&&D(s)===i?f.label&&dn(f.label.thedef.references,f):n[o++]=f):n[o++]=f,be(f)){e=n.slice(r+1);break}}n.length=o,ee=o!=a,e&&e.forEach(function(e){M(t,e,n)})}(e,c),c.option("if_return")&&function(t,r){for(var o=r.self(),e=r.parent(),i=v(function(e){return e instanceof Pn}),n=i&&e&&"Call"==e.TYPE,a=function(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof ot&&i.body instanceof et&&1<++n)return!0}return!1}(t),s=t.length;0<=--s;){var f=t[s],c=y(s),u=t[c];if(i&&!u&&f instanceof et){if(!f.value){ee=!0,t.splice(s,1);continue}var l=f.value.tail_node();if(l instanceof Dt&&"void"==l.operator){ee=!0,l===f.value?d=l.expression:(d=f.value.clone()).expressions[d.length-1]=l.expression,t[s]=oe(En,f,{body:d});continue}}if(f instanceof ot){var p=be(f.body);if(_(p)){p.label&&dn(p.label.thedef.references,p),ee=!0,(f=f.clone()).condition=f.condition.negate(r);var d=b(f.body,p);f.body=oe(On,f,{body:S(f.alternative).concat(g())}),f.alternative=oe(On,f,{body:d}),t[s]=f,t[s]=f.transform(r);continue}if(p&&!f.alternative&&f.body instanceof On&&u instanceof Qn){var h=f.condition.negate(r);if(h.print_to_string().length<=f.condition.print_to_string().length){ee=!0,(f=f.clone()).condition=h,t[c]=f.body,f.body=u,t[s]=f,t[s]=f.transform(r);continue}}var h=be(f.alternative);if(_(h)){h.label&&dn(h.label.thedef.references,h),ee=!0,(f=f.clone()).body=oe(On,f.body,{body:S(f.body).concat(g())});d=b(f.alternative,h);f.alternative=oe(On,f.alternative,{body:d}),t[s]=f,t[s]=f.transform(r);continue}r.option("typeofs")&&(p&&!h&&qe(f.condition,null,oe(On,o,{body:t.slice(s+1)})),!p&&h&&qe(f.condition,oe(On,o,{body:t.slice(s+1)})))}f instanceof ot&&f.body instanceof et&&(p=f.body.value,h=f.body.in_bool||u instanceof et&&u.in_bool,p||f.alternative||!(i&&!u||u instanceof et&&!u.value)?!f.alternative&&u instanceof et?(ee=!0,(f=f.clone()).alternative=u,t.splice(s,1,f.transform(r)),t.splice(c,1)):f.alternative||u||!i||!(h||p&&a)?(p=t[function(e){for(var n=e;0<=--n&&z(t[n]););return n}(s)],r.option("sequences")&&i&&!f.alternative&&(!p&&n||p instanceof ot&&p.body instanceof et)&&y(c)==t.length&&u instanceof En&&(ee=!0,(f=f.clone()).alternative=oe(On,u,{body:[u,oe(et,u,{value:null})]}),t.splice(s,1,f.transform(r)),t.splice(c,1))):(ee=!0,(f=f.clone()).alternative=oe(et,f,{value:null}),t.splice(s,1,f.transform(r))):(ee=!0,t[s]=oe(En,f.condition,{body:f.condition})))}function v(e){var n,t=o,i=0;do{do{if(e(t))return!0}while((t=r.parent(i++))instanceof ot&&(n=t))}while((t instanceof On||t instanceof Nn)&&function(e,n){var t=e.lastIndexOf(n);if(!(t<0)){for(;++t<e.length;)if(!z(e[t]))return;return 1}}(t.body,n))}function m(n){return v(function(e){return e===n})}function _(e){if(e instanceof et)return i&&(!(n=e.value)||n instanceof Dt&&"void"==n.operator);if(e instanceof tt){var n=r.loopcontrol_target(e);return e instanceof rt?m(D(n)):!(n instanceof zn)&&m(n)}}function g(){var e=t.slice(s+1);return t.length=s+1,e.filter(function(e){return!(e instanceof Kn)||(t.push(e),!1)})}function b(e,n){for(var t,e=S(e),i=e;(t=i[i.length-1])!==n;)i=t.body;return i.pop(),n.value&&i.push(oe(En,n.value,{body:n.value.expression})),e}function y(e){for(var n=e+1;n<t.length&&z(t[n]);n++);return n}}(e,c),0<c.sequences_limit&&(function(n,e){if(!(n.length<2)){for(var t=[],i=0,r=0,o=n.length;r<o;r++){var a,s=n[r];s instanceof En?(t.length>=e.sequences_limit&&f(),a=s.body,(a=0<t.length?a.drop_side_effect_free(e):a)&&E(t,a)):(z(s)||f(),n[i++]=s)}f(),(n.length=i)!=o&&(ee=!0)}function f(){var e;t.length&&(e=V(t[0],t),n[i++]=oe(En,e,{body:e}),t=[])}}(e,c),function(e,n){function t(e){r--,ee=!0;var n=i.body;return V(n,[n,e])}for(var i,r=0,o=0;o<e.length;o++){var a,s=e[o];if(i&&(s instanceof Zn?s.value=t(s.value||oe(si,s)).transform(n):s instanceof jn?s.init instanceof dt||(a=!1,i.body.walk(new di(function(e){return!!(a||e instanceof Nn)||(e instanceof At&&"in"==e.operator?a=!0:void 0)})),a||(s.init?s.init=t(s.init):(s.init=i.body,r--,ee=!0))):s instanceof qn?s.object=t(s.object):s instanceof ot?s.condition=t(s.condition):(s instanceof at||s instanceof Cn)&&(s.expression=t(s.expression))),n.option("conditionals")&&s instanceof ot){var f=[],c=p(s.body,f),u=p(s.alternative,f);if(!1!==c&&!1!==u&&0<f.length){var l=f.length;f.push(oe(ot,s,{condition:s.condition,body:c||oe(kn,s.body),alternative:u})),f.unshift(r,1),[].splice.apply(e,f),o+=l,r+=l+1,ee=!(i=null);continue}}e[r++]=s,i=s instanceof En?s:null}e.length=r}(e,c)),c.option("join_vars")&&function(e){for(var r,n=0,t=-1;n<e.length;n++){var i,o,a=e[n],s=e[t];if(a instanceof dt)s&&s.TYPE==a.TYPE?(s.definitions=s.definitions.concat(a.definitions),ee=!0):r&&r.TYPE==a.TYPE&&A(a)?(r.definitions=r.definitions.concat(a.definitions),ee=!0):(e[++t]=a)instanceof mt&&(r=a);else{if(a instanceof Zn)a.value=f(a.value);else if(a instanceof jn)if(o=u(s,a.init))ee=!0,a.init=o.length?V(a.init,o):null;else{if(s instanceof mt&&(!a.init||a.init.TYPE==s.TYPE)){a.init&&(s.definitions=s.definitions.concat(a.init.definitions)),r=a.init=s,e[t]=c(a),ee=!0;continue}r&&a.init&&r.TYPE==a.init.TYPE&&A(a.init)?(r.definitions=r.definitions.concat(a.init.definitions),a.init=null,ee=!0):a.init instanceof mt&&(r=a.init)}else if(a instanceof qn)r&&r.TYPE==a.init.TYPE&&(i=r.definitions.slice(),a.init=a.init.definitions[0].name.convert_symbol(Qt,function(e,n){i.push(oe(_t,n,{name:n,value:null})),n.definition().references.push(e)}),r.definitions=i,ee=!0),a.object=f(a.object);else if(a instanceof ot)a.condition=f(a.condition);else if(a instanceof En){if(o=u(s,a.body)){if(ee=!0,!o.length)continue;a.body=V(a.body,o)}}else(a instanceof at||a instanceof Cn)&&(a.expression=f(a.expression));e[++t]=r?c(a):a}}function f(e){var n=u(s,e,1);if(!n)return e;ee=!0;var t=e.tail_node();return n[n.length-1]!==t&&n.push(t.left),V(e,n)}function c(e){return e.transform(new hi(function(e,n,t){if(e instanceof dt){if(r===e)return e;if(r.TYPE!=e.TYPE)return e;var i=this.parent();return i instanceof qn&&i.init===e?e:A(e)?(r.definitions=r.definitions.concat(e.definitions),ee=!0,i instanceof jn&&i.init===e?null:t?un.skip:oe(kn,e)):e}return!(e instanceof Nn)&&e instanceof yn?void 0:e}))}e.length=t+1}(e),c.option("collapse_vars")&&function(o,l){if(!Z.pinned())for(var p,n,r=Object.create(null),d=[],a=Object.create(null),s=o.length,c=new hi(function(e,n){if(M)return e;if(!$)return e!==f[u]?e:++u<f.length?P(e,c):($=!0,(m=(v?function e(n,t){var i=c.parent(t);if(i instanceof Ft)return e(i,t+1);if(i instanceof $t)return k(i)||i.left.match_symbol(function(e){return e instanceof Qt&&(g.name==e.name||v.name==e.name)})?n:e(i,t+1);if(i instanceof At){if(le[i.operator]&&i.left!==n){for(;n=i,i=c.parent(++t),i instanceof At&&i.operator==n.operator;);return n}return e(i,t+1)}if(i instanceof bt)return i;if(i instanceof ct)return i.expression!==n?n:e(i,t+1);if(i instanceof zt)return i.condition!==n?n:e(i,t+1);if(i instanceof dt)return Y(i,t+1);if(i instanceof Mn)return n;if(i instanceof Zn)return Y(i,t+1);if(i instanceof jn)return i.init!==n&&i.condition!==n?n:e(i,t+1);if(i instanceof qn)return i.init!==n?n:e(i,t+1);if(i instanceof ot)return i.condition!==n?n:e(i,t+1);if(i instanceof Pt){var r=c.parent(t+1);return vn(r.properties,function(e){return e instanceof It})?e(r,t+2):r}if(i instanceof xt)return e(i,t+1);if(i instanceof wt)return(i.tail_node()===n?e:Y)(i,t+1);if(i instanceof En)return Y(i,t+1);if(i instanceof St)return e(i,t+1);if(i instanceof at)return i.expression!==n?n:e(i,t+1);if(i instanceof Tt)return"delete"==i.operator?n:e(i,t+1);if(i instanceof _t)return i.name.match_symbol(function(e){return e instanceof Yt&&(g.name==e.name||v.name==e.name)})?n:e(i,t+1);if(i instanceof Fn)return i.condition!==n?n:e(i,t+1);return null}:function e(n,t){var i=c.parent(t);if(i instanceof Ft)return n;if(i instanceof $t)return n;if(i instanceof Mt)return n;if(i instanceof At)return n;if(i instanceof bt)return n;if(i instanceof ct)return n;if(i instanceof zt)return n;if(i instanceof dt)return Y(i,t+1);if(i instanceof Zn)return n;if(i instanceof ot)return n;if(i instanceof zn)return n;if(i instanceof Pt)return n;if(i instanceof xt)return n;if(i instanceof wt)return(i.tail_node()===n?e:Y)(i,t+1);if(i instanceof En)return Y(i,t+1);if(i instanceof St)return n;if(i instanceof at)return n;if(i instanceof Tt)return n;if(i instanceof _t)return n;return null})(e,0))===e&&(M=!0),e);var t=c.parent();if(function(e,n){if(e===O)return!0;if(n instanceof jn)return e!==n.init;if(e instanceof $t)return"="!=e.operator&&g.equivalent_to(e.left);if(e instanceof bt)return g instanceof xt&&(!!g.equivalent_to(e.expression)&&!(O instanceof Jn&&!O.contains_this()));if(e instanceof wn)return!0;if(e instanceof Kn)return x&&g.name===e.name.name;if(e instanceof Ct)return e.key instanceof bn;if(e instanceof $n)return!0;if(e instanceof tt)return!0;if(e instanceof Qt){if(e.is_declared(l)){if(e.fixed_value())return!1;if(re(e))return!(n instanceof xt&&n.expression===e)&&te(e.definition())}else if(I(e,n))return!1;return z?w=!1:!0}return e instanceof ut||e instanceof Cn}(e,t))return M=!0,e;if(!_&&R(e,t)&&(_=t),e.single_use&&t instanceof _t&&t.value===e)return e;if(!(e instanceof Yt)&&(y&&g.equivalent_to(e)||w&&(i=w(e,this)))){if(!q||_&&(i||!D||!z))return i||v||(M=!0),e;if(pe(e,t))return v&&!i&&(j=!0,F++),e;if(v)return i||F++,e;if(F++,ee=M=!0,bn.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),"Binary"==h.TYPE)return oe($t,h,{operator:"=",left:h.right.left,right:oe(zt,h,{condition:"&&"==h.operator?h.left:h.left.negate(l),consequent:h.right.right,alternative:e})});if(h instanceof Ot)return g instanceof Qt&&(g.definition().fixed=!1),oe(Dt,h,h);if(h instanceof _t){var i=h.name.definition();return i.references.length-i.replaced!=1||l.exposed(i)?oe($t,h,{operator:"=",left:oe(Qt,h.name,h.name),right:h.value}):(i.replaced++,ae(0,t,e,h.value))}return h.write_only=!1,h}if((U(e,t)||k(e))&&(m=e)instanceof Nn&&(M=!0),e instanceof In){var r=q;return q=!1,n(e,c),q=r,H(e)}if(e instanceof jt){r=q;return q=!1,n(e,c),q=r,H(e)}if(e instanceof gt){e.name=e.name.transform(c);r=q;return q=!1,e.value=e.value.transform(c),q=r,H(e)}return P(e,c)},H),i=new hi(function(e){if(M)return e;if(!$){if(e!==f[u])return e;switch(u++,f.length-u){case 0:if($=!0,j)return e;if(e instanceof _t)return e;C.replaced++;var n=i.parent();return n instanceof wt&&n.tail_node()!==e?(v.replaced++,un.skip):O;case 1:if(!j&&e.body===h)return $=!0,C.replaced++,v.replaced++,null;default:return}}if(e instanceof Qt&&e.name==C.name){if(--F||(M=!0),pe(e,i.parent()))return e;C.replaced++;var t=O.clone();return v.references.push(t),t}return e instanceof ft||e instanceof Nn?e:void 0},W);0<=--s;){0==s&&l.option("unused")&&function(){var e,n,t=l.self();if(Un(t)&&!t.name&&!t.uses_arguments&&!t.pinned()&&(e=l.parent())instanceof bt&&e.expression===t&&vn(e.args,function(e){return!(e instanceof St)})){var i=l.has_directive("use strict");i&&!tn(i,t.body)&&(i=!1);for(var r=Ln(t)?function(e){return e instanceof Bt&&"await"==e.name}:function(e){return e instanceof Mt&&!o.find_parent(Nn)},o=new di(function(e){if(!u)return!0;if(r(e))return!(u=null);if(e instanceof Qt&&t.variables.has(e.name)){var n=e.definition().scope;if(n!==Z)for(;n=n.parent_scope;)if(n===Z)return!0;u=null}return e instanceof Zt&&(i||!o.find_parent(Nn))?!(u=null):void 0}),a=(p=e.args.slice()).length,s=Object.create(null),f=t.argnames.length;0<=--f;){var c=t.argnames[f],u=p[f];if(c instanceof gt&&(n=c.value,c=c.name,p[a+f]=n),c instanceof jt){if(!function n(e,t){if(!t)return!(e instanceof Bt);if(e instanceof gt)return t.has_side_effects(l)||e.value.has_side_effects(l)||n(e.name,ue(t)&&e.value);if(e instanceof jt)return!(!e.rest||!n(e.rest))||(e instanceof qt?!(t instanceof Ft||t.is_string(l))||!vn(e.elements,function(e){return!n(e)}):e instanceof Nt?!t.is_defined(l)||!vn(e.properties,function(e){return!(e instanceof bn&&e.has_side_effects(l))&&!n(e.value)}):void 0)}(c,u))continue;d.length=0;break}c.name in s||(s[c.name]=!0,(u=n?!u||ue(u)?n:null:u)||n?u instanceof Pn&&u.pinned()?u=null:u&&u.walk(o):u=oe(si,c).transform(l),u&&((c=oe(_t,c,{name:c,value:u})).name_index=f,c.arg_index=n?a+f:f,d.unshift([c])))}}}();var f=[];for(B(o[s]);0<d.length;){f=d.pop();var u=0,h=f[f.length-1],v=null,m=null,_=null,g=function(e){if(e instanceof $t){var n=e.left;return!("="==e.operator&&n instanceof Qt&&(t=n.definition()).references[0]===n)||Z.uses_arguments&&ie(t)||l.exposed(t)||1<(i=t.references.length-t.replaced)&&L(e.right),n}if(e instanceof At)return e.right.left;if(e instanceof Tt)return e.expression;if(e instanceof _t){var t=e.name.definition();if(!t.const_redefs&&(tn(e.name,t.orig)&&(!Z.uses_arguments||!ie(t)))){var n=t.orig.length-t.eliminated-(a[t.name]||0),i=t.references.length-t.replaced-(r[t.name]||0);return 1<n&&!(e.name instanceof Jt)?(L(e.value),oe(Qt,e.name,e.name)):L(e.value)||1==i&&!l.exposed(t)?oe(Qt,e.name,e.name):void 0}}}(h),b=g&&g.has_side_effects(l),y=g&&!b&&!function e(n,t){if(n instanceof Zt)return!0;if(n instanceof Qt){if(n.is_immutable())return!0;var i=n.definition();return t.exposed(i)&&ce[i.name]}if(n instanceof xt){if((n=n.expression)instanceof Qt){if(n.is_immutable())return!1;n=n.fixed_value()}return!n||(!!n.is_constant()||e(n,t))}return!1}(g,l),w=function(n){if(n instanceof $t&&n.right.single_use)return;var t,i=Object.create(null),e=new di(function(e){e instanceof Qt&&(i[e.definition().id]=!0)});for(;n instanceof $t&&"="==n.operator;)n.left.walk(e),n=n.right;if(n instanceof Qt){var r=n.evaluate(l);return r===n?o:V(r,o)}if(n instanceof Zt)return o;if(n.is_truthy())return V(!0,an);if(n.is_constant()){r=n.evaluate(l);if(!(r instanceof bn))return V(r,o)}return g instanceof Qt&&(!!function e(n){if(n instanceof Ft)return!1;if(n instanceof At&&le[n.operator])return e(n.left)&&e(n.right);if(n instanceof bt)return!1;if(n instanceof zt)return e(n.consequent)&&e(n.alternative);if(n instanceof Ht)return!1;return!n.has_side_effects(l)}(n)&&(n.walk(new di(function(e){if(t)return!0;e instanceof Qt&&i[e.definition().id]&&(t=!0)})),!t&&o));function o(e){return n.equivalent_to(e)}}(h);if(y||w){var x=h.name instanceof Jt,k=an;if(h.may_throw(l)){if(x&&Ln(Z))continue;k=Q?function(e){return e.has_side_effects(l)}:X}var E=!1,S=!1,T=function(t){var i=new mn;t instanceof _t&&i.add(t.name.name,g);var r=Z.uses_arguments&&!l.has_directive("use strict"),o=Z instanceof Hn,a=new di(function(e){var n;e instanceof Qt?n=e.fixed_value()||e:e instanceof Zt&&(n=e),n&&i.add(e.name,ne(l,a,e,n,0)),r&&e instanceof Et&&(Z.each_argname(function(e){l.option("reduce_vars")&&!e.definition().assignments||i.add(e.name,!0)}),r=!1),o&&("Call"==e.TYPE?S||((n=e.expression)instanceof xt||n instanceof Jn&&!n.contains_this()||(S=!0)):e instanceof xt&&function e(n){if(n instanceof Qt&&!(n=n.fixed_value()))return!0;if(n instanceof $t)return"="==n.operator&&e(n.right);return n instanceof xt||n instanceof Zt}(e.expression)&&(e!==g||t instanceof Tt?E=!0:S=!0))});return t.walk(a),i}(h),D=function(e){var n=se(e);return n instanceof Qt&&n.definition().scope===Z&&!(K&&(T.has(n.name)&&T.get(n.name)[0]!==e||h instanceof Tt||h instanceof $t&&"="!=h.operator))}(g),O=function(e){if(e instanceof $t)return e.right;if(e instanceof At){var n=e.clone();return n.right=e.right.right,n}if(e instanceof _t)return e.value}(h);b=b||!(h instanceof Tt)&&O.has_side_effects(l);var A=Q||!D?function(e){return e instanceof jt}:an,z=function(e){if(e instanceof Tt)return!1;if(b)return!1;if(v)return!0;if(!(g instanceof Qt))return!1;var n;if(e instanceof _t)n=1;else{if("="!=e.operator)return!1;n=2}e=g.definition();return e.references.length-e.replaced==n}(h),$=x,M=!1,F=0,j=!1,q=!p||!$;if(!q){for(var e=h.arg_index+1;!M&&e<p.length;e++)p[e]&&p[e].transform(c);q=!0}for(var t=s;!M&&t<o.length;t++)o[t].transform(c);if(v){var C=g.definition(),N=C.references.length-C.replaced;if(h instanceof $t&&N--,!F||N!=F){d.push(f),n=!0;continue}if(M=!1,F){u=0,$=x;for(t=s;!M&&t<o.length;t++)o[t].transform(i)||o.splice(t--,1);h instanceof _t&&(F=!l.exposed(C)&&C.references.length==C.replaced),v.single_use=!1}}F&&!function(e){var n=e.name_index;if(0<=n){var t=Z.argnames[n];return t instanceof gt?(t.value=oe(ti,t,{value:0}),t.name.definition().fixed=!1):(e=l.parent().args)[n]&&(e[n]=oe(ti,e[n],{value:0}),t.definition().fixed=!1),!0}var i=f.length-1;f[i-1].body===f[i]&&i--;var r=new hi(function(e,n,t){return $||e!==f[u]?e:++u<=i?P(e,r):($=!0,e instanceof _t?(e.value=null,a[e.name.name]=(a[e.name.name]||0)+1,v&&v.replaced++,e):t?un.skip:null)},W);return $=M=!1,u=0,o[s].transform(r)}(h)&&o.splice(s,1)}}}function H(e){return M||(m===e&&(M=!0),_===e&&(_=null)),e}function P(e,n){if(e instanceof Sn){if(e instanceof Nn)return e;if(!e.variables||!e.variables.all(function(e){return!T.has(e.name)}))return M=!0,e;if(e instanceof qn)return e.object=e.object.transform(n),M=!0,e;if(e instanceof at){e.expression=e.expression.transform(n);for(var t=0;!M&&t<e.body.length;t++){var i=e.body[t];if(i instanceof ct){if(!$){if(i!==f[u])continue;u++}if(i.expression=i.expression.transform(n),!z)break;w=!1}}return M=!0,e}}}function I(e,n){return n instanceof $t?"="==n.operator&&n.left===e:n instanceof gt?n.name===e:n instanceof qt||n instanceof Ct&&n.value===e}function R(e,n){return n instanceof At?le[n.operator]&&n.left!==e:n instanceof ct?n.expression!==e:(n instanceof zt||n instanceof ot)&&n.condition!==e}function U(e,n){if(e instanceof Mt)return 1;if("Binary"==e.TYPE)return"in"==e.operator&&!Je(e.right);if(e instanceof bt){var t=e.expression;if(t instanceof Qt&&(f=t.definition(),t=t.fixed_value()),!(t instanceof Pn))return 1;if(f&&Xe(l,f))return 1;if(t.collapse_scanning)return;t.collapse_scanning=!0;var i=q;q=!1;var r=m,o=_;if(vn(t.argnames,function(e){if(e instanceof gt){if(e.value.transform(c),M)return;e=e.name}return!(e instanceof jt)}))if(Rn(t)&&t.value)t.value.transform(c);else for(var a=0;!M&&a<t.body.length;a++){var s=t.body[a];if(s instanceof et){s.value&&s.value.transform(c);break}s.transform(c)}else M=!0;return(_=o,m=r,q=i,delete t.collapse_scanning,M)?(M=!1,1):void 0}if(e instanceof Zn){if(Q){if(Q.bfinally)return 1;if(Q.bcatch&&e instanceof nt)return 1}return b||g instanceof xt||G(g)}if(e instanceof Jn)return l.option("ie8")&&e.name&&T.has(e.name.name);if(e instanceof xt){i=e.expression;return b||!v&&i.may_throw_on_access(l)||i instanceof Qt&&te(i.definition())}if(e instanceof St)return 1;if(e instanceof Qt){if(J(e))return!I(e,n);if(b&&G(e))return 1;var f=e.definition();return(Q||f.scope.resolve()!==Z)&&!re(e)}if(e instanceof Zt)return J(e);if(e instanceof _t)return A(e.name)||(e.value||n instanceof vt)&&e.name.match_symbol(function(e){return e instanceof Yt&&(T.has(e.name)||b&&G(e))},!0);e=pe(e.left,e);return e&&(e instanceof xt||(A(e)||e.match_symbol(function(e){return e instanceof Qt&&(T.has(e.name)||E&&l.exposed(e.definition()))},!0)))}function B(e,n){var t,i;f.push(e),e instanceof Ft?e.elements.forEach(function(e){B(e,n)}):e instanceof $t?(e.left instanceof jt||d.push(f.slice()),B(e.left),B(e.right),e.left instanceof Qt&&(r[e.left.name]=(r[e.left.name]||0)+1)):e instanceof Mt?B(e.expression,n):e instanceof At?(i=le[e.operator],n&&i&&e.right instanceof $t&&"="==e.right.operator&&!(e.right.left instanceof jt)&&d.push(f.slice()),B(e.left,!i&&n),B(e.right,n)):e instanceof bt?(B(e.expression),e.args.forEach(B)):e instanceof ct?B(e.expression):e instanceof zt?(B(e.condition),B(e.consequent,n),B(e.alternative,n)):e instanceof dt?e.definitions.forEach(B):e instanceof kt?B(e.expression):e instanceof $n?(B(e.condition),e.body instanceof Dn||B(e.body)):e instanceof Zn?e.value&&B(e.value):e instanceof jn?(e.init&&B(e.init,!0),e.condition&&B(e.condition),e.step&&B(e.step,!0),e.body instanceof Dn||B(e.body)):e instanceof qn?(B(e.object),e.body instanceof Dn||B(e.body)):e instanceof ot?(B(e.condition),e.body instanceof Dn||B(e.body),!e.alternative||e.alternative instanceof Dn||B(e.alternative)):e instanceof Ht?e.properties.forEach(function(e){f.push(e),e.key instanceof bn&&B(e.key),e instanceof It&&B(e.value,n),f.pop()}):e instanceof wt?(t=e.expressions.length-(n?0:1),e.expressions.forEach(function(e,n){B(e,n<t)})):e instanceof En?B(e.body,!0):e instanceof St?B(e.expression):e instanceof Et?(B(e.expression),B(e.property)):e instanceof at?(B(e.expression),e.body.forEach(B)):e instanceof Tt?_i[e.operator]?d.push(f.slice()):B(e.expression):e instanceof _t&&(e.name instanceof Wt&&(e.value?(i=e.name.definition()).references.length>i.replaced&&d.push(f.slice()):a[e.name.name]=(a[e.name.name]||0)+1),e.value&&B(e.value)),f.pop()}function Y(o,a){var s=c.parent(a);if(U(o,s))return o;if(R(o,s))return o;if(s instanceof Ft)return Y(s,a+1);if(s instanceof $t)return n(s.left);if(s instanceof Mt)return o;if(s instanceof At)return Y(s,a+1);if(s instanceof bt)return Y(s,a+1);if(s instanceof ct)return Y(s,a+1);if(s instanceof zt)return Y(s,a+1);if(s instanceof dt)return Y(s,a+1);if(s instanceof Zn)return Y(s,a+1);if(s instanceof ot)return Y(s,a+1);if(s instanceof zn)return o;if(s instanceof Pt){var e=c.parent(a+1);return vn(e.properties,function(e){return e instanceof It})?Y(e,a+2):e}if(s instanceof xt){e=s.expression;if(e===o)return Y(s,a+1);e=se(e);if(!(e instanceof Qt))return Y(s,a+1);e=T.get(e.name);return!e||vn(e,function(e){return!(e instanceof xt)})?Y(s,a+1):o}return s instanceof wt||s instanceof En?Y(s,a+1):s instanceof St?o:s instanceof at||s instanceof Tt?Y(s,a+1):s instanceof _t?n(s.name):null;function n(e){if(k(s))return o;if(e!==o&&e instanceof jt){var n=q;q=!1;var t=m,i=_,r=c.stack;if(c.stack=[s],e.transform(c),c.stack=r,_=i,m=t,q=n,M)return M=!1,o}return Y(s,a+1)}}function L(e){if(n)n=!1;else if(e instanceof Qt){e=e.definition();return e.undeclared?void 0:!te(e)&&(v=e)}}function V(t,i){return function(e,n){if(n.in_boolean_context()){if(t&&e.is_truthy()&&!e.has_side_effects(l))return!0;if(e.is_constant()){n=e.evaluate(l);if(!(n instanceof bn))return!n==!t}}return i(e)}}function W(e){if(e instanceof wt)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}function J(e){e=T.get(e.name);if(e&&!vn(e,function(e){return!e}))return e[0]!==g||void(w=!1)}function G(e){e=e.definition();return!(1==e.orig.length&&e.orig[0]instanceof Gt)&&(e.scope!==Z||(!(!S||!l.exposed(e))||!vn(e.references,function(e){return e.scope.resolve()===Z})))}function X(e,n){if(e instanceof $t)return X(e.left,!0);if(e instanceof Tt)return X(e.expression,!0);if(e instanceof _t)return e.value&&X(e.value);if(n){if(e instanceof kt)return X(e.expression,!0);if(e instanceof Et)return X(e.expression,!0);if(e instanceof Qt)return e.definition().scope!==Z}return!1}}(e,c),ee&&0<n--;);return e;function p(e,n){if(!(e instanceof On))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof mt&&A(r))n.push(r);else{if(t||r instanceof ht||r instanceof vt)return!1;t=r}}return t}function u(e,n,t){var i;if(n instanceof $t?i=[n]:n instanceof wt&&(i=n.expressions.slice()),i){for(var r=!1,o=i.length-1;0<=--o;){var a,s=i[o];s instanceof $t&&"="==s.operator&&s.left instanceof Qt&&(a=i.slice(o+1),l(s.left,s.right,a)&&(r=!0,i=i.slice(0,o+1).concat(a)))}if(e instanceof dt){t=t||0;for(o=e.definitions.length;0<=--o;){var f=e.definitions[o];if(f.value){l(f.name,f.value,i)&&(r=!0),function(e,n,t){if(!c.option("conditionals"))return;if(e.name instanceof jt)return;var i=!1,r=e.name.definition();for(;n.length>t;){var o=Be(c,r,e.value,n[0]);if(!o)break;e.value=o,n.shift(),i=!0}return i}(f,i,t)&&(r=!0);break}}e instanceof mt&&function(e,n,t){var i=!1;for(;n.length>t;){var r=n[0];if(!(r instanceof $t))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Qt))break;if(fe(o))break;if(o.scope.resolve()!==Z)break;var a=o.definition();if(a.scope!==Z)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;o=oe(Wt,o,o);e.push(oe(_t,r,{name:o,value:r.right})),a.orig.push(o),a.replaced++,n.shift(),i=!0}return i}(e.definitions,i,t)&&(r=!0)}return r&&i}}function l(e,n,t){if(n instanceof Ht){var i=!1;do{var r=t[0];if(!(r instanceof $t))break;if("="!=r.operator)break;if(!(r.left instanceof xt))break;var o=r.left.expression;if(!(o instanceof Qt))break;if(e.name!=o.name)break;if(!r.right.is_constant_expression(Z))break;var a=r.left.property;if((a=a instanceof bn?a.evaluate(c):a)instanceof bn)break;o="__proto__"==(a=""+a)||c.has_directive("use strict")?function(e){return"string"==typeof e.key&&e.key!=a}:function(e){return!(e instanceof Ut||e instanceof Rt)||"string"==typeof e.key&&e.key!=a}}while(vn(n.properties,o)&&(n.properties.push(oe(It,r,{key:a,value:r.right})),t.shift(),i=!0,t.length));return i}}}function M(i,r,o){var a;function s(e){a?(a.push(e),(e instanceof ht||e instanceof vt)&&(a.required=!0)):o.push(e)}r instanceof dt||Gn(r)||bn.warn("Dropping unreachable code [{file}:{line},{col}]",r.start),r.walk(new di(function(e,n){if(e instanceof dt){var t=[];return e.remove_initializers(i,t)&&bn.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",e.start),0<t.length&&(e.definitions=t,s(e)),!0}if(Gn(e))return s(e),!0;if(e instanceof Nn)return!0;if(e instanceof Sn){e=a;return a=[],n(),a.required?o.push(oe(On,r,{body:a})):a.length&&[].push.apply(o,a),a=e,!0}}))}function ue(e,n){return e.is_undefined||e instanceof si||e instanceof Dt&&"void"==e.operator&&!(n&&e.expression.has_side_effects(n))}function F(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof ei)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":return!0;default:return!1}}function j(e){return/strict/.test(e.option("pure_getters"))}(I=function(e,n){e.DEFMETHOD("is_truthy",n)})(bn,an),I(Ft,sn),I($t,function(){return"="==this.operator&&this.right.is_truthy()}),I(Pn,sn),I(Ht,sn),I(ri,sn),I(wt,function(){return this.tail_node().is_truthy()}),I(Qt,function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=an;e=e.is_truthy();return delete this.is_truthy,e}),(I=function(e,n){e.DEFMETHOD("is_negative_zero",n)})(bn,sn),I(Ft,an),I($t,function(){var e=this.operator;return"="==e?this.right.is_negative_zero():F(e.slice(0,-1),this.left,this.right)}),I(At,function(){return F(this.operator,this.left,this.right)}),I(ei,function(){return 0==this.value&&1/this.value<0}),I(Pn,an),I(Ht,an),I(ri,an),I(wt,function(){return this.tail_node().is_negative_zero()}),I(Qt,function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=sn;e=e.is_negative_zero();return delete this.is_negative_zero,e}),I(Dt,function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}),I=function(e,n){e.DEFMETHOD("_dot_throw",n)},bn.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),I(bn,j),I(Ft,an),I($t,function(e){if("="!=this.operator)return!1;var n=this.right;if(!n._dot_throw(e))return!1;var t=this.left;return!(t instanceof Qt)||(!(n instanceof At&&"||"==n.operator&&t.name==n.left.name)||n.right._dot_throw(e))}),I(At,function(e){switch(this.operator){case"&&":return this.left._dot_throw(e)||this.right._dot_throw(e);case"||":return this.right._dot_throw(e);default:return!1}}),I(zt,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),I(ei,an),I(kt,function(e){if(!j(e))return!1;e=this.expression;return!((e=e instanceof Qt?e.fixed_value():e)instanceof Pn&&"prototype"==this.property)}),I(Pn,an),I(oi,sn),I(Ht,function(e){return j(e)&&!vn(this.properties,function(e){return e instanceof It})}),I(wt,function(e){return this.tail_node()._dot_throw(e)}),I(Qt,function(e){if(this.is_undefined)return!0;if(!j(e))return!1;if(fe(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var n=this.definition();if(te(n)&&vn(n.scope.argnames,function(e){return e instanceof Jt}))return 2<n.scope.uses_arguments;n=this.fixed_value();return!n||(this._dot_throw=sn,n._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=an,!1))}),I(Zt,function(e){return j(e)&&!this.scope.new}),I(Dt,function(){return"void"==this.operator}),I(Ot,an),I(si,sn),(I=function(e,n){e.DEFMETHOD("is_defined",n)})(bn,an),I(Ft,sn),I($t,function(e){return"="!=this.operator||this.right.is_defined(e)}),I(At,function(e){switch(this.operator){case"&&":return this.left.is_defined(e)&&this.right.is_defined(e);case"||":return this.left.is_truthy()||this.right.is_defined(e);default:return!0}}),I(zt,function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)}),I(ei,sn),I(fi,an),I(Pn,sn),I(Ht,sn),I(wt,function(e){return this.tail_node().is_defined(e)}),I(Qt,function(e){if(this.is_undefined)return!1;if(fe(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=an;e=n.is_defined(e);return delete this.is_defined,e}),I(Dt,function(){return"void"!=this.operator}),I(Ot,sn),I(si,an),function(e){e(bn,an),e($t,function(e){return"="==this.operator&&this.right.is_boolean(e)});var n=hn("in instanceof == != === !== < <= >= >");e(At,function(e){return n[this.operator]||le[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)}),e(ui,sn);var t=hn("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(bt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof kt&&(t[e.property]||"test"==e.property&&e.expression instanceof ri)}),e(zt,function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)}),e(yt,an),e(wt,function(e){return this.tail_node().is_boolean(e)}),e(Qt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=an;e=n.is_boolean(e);return delete this.is_boolean,e});var i=hn("! delete");e(Dt,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(bn,an);var n=hn("- * / % & | ^ << >> >>>");e($t,function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)}),e(At,function(e){return!!n[this.operator]||"+"==this.operator&&((this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e)))});var t=hn(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toExponential","toFixed","toPrecision"]);e(bt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof kt&&(t[e.property]||fe(e.expression)&&"Math"==e.expression.name)}),e(zt,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)}),e(yt,an),e(ti,sn),e(wt,function(e){return this.tail_node().is_number(e)}),e(Qt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_number=an;e=n.is_number(e);return delete this.is_number,e});var i=hn("+ - ~ ++ --");e(Tt,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(bn,an),e($t,function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}}),e(At,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))});var n=hn(["charAt","substr","substring","toLowerCase","toString","toUpperCase","trim"]);e(bt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof kt&&n[e.property]}),e(zt,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(wt,function(e){return this.tail_node().is_string(e)}),e(ni,sn),e(Qt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=an;e=n.is_string(e);return delete this.is_string,e}),e(Dt,function(){return"typeof"==this.operator})}(function(e,n){e.DEFMETHOD("is_string",n)});var le=hn("&& ||");function pe(e,n){return n instanceof $t?n.left===e&&e:n instanceof gt?n.name===e&&e:n instanceof jt||n instanceof Ct?e:n instanceof Tt?yi[n.operator]&&n.expression:void 0}function q(e){bn.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}function K(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function C(e,n,t){return K(oe(En,e,{body:e}),oe(En,n,{body:n}),t).body}function Q(e,n,t,i){return(gn(e)?C:K)(n,t,i)}function N(n){var t=Object.create(null);return Object.keys(n).forEach(function(e){t[e]=hn(n[e])}),t}function H(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof xn))return t}}function P(){return this.value?oe(et,this.value,{value:this.value}):H(this.body)}function Z(e,n){var t=n.evaluate(e);return t===n?n:Q(e,n,W(t,n).optimize(e),e.eval_threshold)}I=function(e,n){e.DEFMETHOD("_find_defs",n)},Hn.DEFMETHOD("resolve_defines",function(o){return o.option("global_defs")?(this.figure_out_scope({ie8:o.option("ie8")}),this.transform(new hi(function(e){var n=e._find_defs(o,"");if(n){for(var t,i=0,r=e;(t=this.parent(i++))&&t instanceof xt&&t.expression===r;)r=t;if(!pe(r,t))return n;q(e)}}))):this}),I(bn,on),I(kt,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),I(Yt,function(e){this.definition().global&&_n(e.option("global_defs"),this.name)&&q(this)}),I(Qt,function(e,n){if(this.definition().global){e=e.option("global_defs"),n=this.name+n;return _n(e,n)?function n(e,t){if(e instanceof bn)return e.clone(!0);if(Array.isArray(e))return oe(Ft,t,{elements:e.map(function(e){return n(e,t)})});if(e&&"object"==typeof e){var i,r=[];for(i in e)_n(e,i)&&r.push(oe(It,t,{key:i,value:n(e[i],t)}));return oe(Ht,t,{properties:r})}return W(e,t)}(e[n],this):void 0}}),Yn.DEFMETHOD("first_statement",P),Vn.DEFMETHOD("first_statement",P),Pn.DEFMETHOD("first_statement",function(){return H(this.body)}),Pn.DEFMETHOD("length",function(){for(var e=this.argnames,n=0;n<e.length&&!(e[n]instanceof gt);n++);return n});var I,R=N({Array:["indexOf","join","lastIndexOf","slice"].concat(I=["constructor","toString","valueOf"]),Boolean:I,Function:I,Number:["toExponential","toFixed","toPrecision"].concat(I),Object:I,RegExp:["exec","test"].concat(I),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(I)}),U=N({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode"]});function B(e){return oe(Dt,e,{operator:"!",expression:e})}function ee(e,n,t){e=B(e);if(t){t=oe(En,n,{body:n});return K(e,t)===t?n:e}return K(e,n)}!function(e){e(bn,an),e(ei,sn),e(ri,an);var n=hn("! ~ - + void");e(Dt,function(){return n[this.operator]&&this.expression instanceof ei})}(function(e,n){e.DEFMETHOD("is_constant",n)}),function(e){bn.DEFMETHOD("evaluate",function(e,n){if(!e.option("evaluate"))return this;var t=[],e=this._eval(e,n,t,1);return t.forEach(function(e){delete e._eval}),!n&&e&&!(e instanceof RegExp)&&("function"==typeof e||"object"==typeof e)?this:e});var h=new di(function(e){e instanceof $t&&f(e.left),e instanceof Tt&&_i[e.operator]&&f(e.expression)});function f(e){e instanceof qt?e.elements.forEach(f):e instanceof Nt?e.properties.forEach(function(e){f(e.value)}):e instanceof xt?f(e.expression):e instanceof Qt&&e.definition().references.forEach(function(e){delete e._eval})}e(yn,function(){throw new Error(pn("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(In,fn),e(ii,fn),e(bn,fn),e(ei,function(){return this.value}),e($t,function(e,n,t,i){var r=this.left;if(!n){if(!(r instanceof Qt))return this;if(!_n(r,"_eval")){if(!r.fixed)return this;var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this;if("m"==o.single_use)return this}}o=this.operator,o=!_n(r,"_eval")&&r instanceof Qt&&r.fixed&&r.definition().fixed?r:"="==o?this.right:oe(At,this,{operator:o.slice(0,-1),left:r,right:this.right});r.walk(h);i=o._eval(e,n,t,i);return"object"==typeof i?this:(f(r),i)}),e(wt,function(e,n,t,i){if(!n)return this;for(var r=this.expressions,o=0,a=r.length-1;o<a;o++)r[o].walk(h);var s=r[a],i=s._eval(e,n,t,i);return i===s?this:i}),e(Pn,function(e){if(e.option("unsafe")){e=function(){};return e.node=this,e.toString=function(){return"function(){}"},e}return this}),e(Ft,function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof fi)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this}),e(Ht,function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof It))return this;var s=a.key;if(s instanceof bn&&(s=s._eval(e,n,t,i))===a.key)return this;if(a.value instanceof Jn&&"function"==typeof Object.prototype[s])return this;if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this});var c=hn("! typeof void");e(Dt,function(e,n,t,i){var r=this.expression,o=this.operator;if(e.option("typeofs")&&"typeof"==o&&(r instanceof Pn||r instanceof Qt&&r.fixed_value()instanceof Pn))return"function";var a=r instanceof Qt&&r.definition();c[o]||a&&a.fixed||i++,r.walk(h);var s=r._eval(e,n,t,i);if(s===r)return n&&"void"==o?void 0:this;switch(o){case"!":return!s;case"typeof":return s instanceof RegExp?this:typeof s;case"void":return;case"~":return~s;case"-":return-s;case"+":return+s;case"++":case"--":if(!a)return this;if(!n){if(a.undeclared)return this;if(a.last_ref!==r)return this}return _n(r,"_eval")&&(s=+(o[0]+1)+ +s),f(r),s}return this}),e(Ot,function(e,n,t,i){var r=this.expression;if(r instanceof Qt){if(!_n(r,"_eval")){if(!r.fixed)return this;if(!n){var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this}}}else if(!n)return this;r instanceof Qt&&r.definition().fixed||i++,r.walk(h);i=r._eval(e,n,t,i);return i===r?this:(f(r),+i)});var u=hn("&& || === !==");e(At,function(e,n,t,i){u[this.operator]||i++;var r=this.left._eval(e,n,t,i);if(r===this.left)return this;if(this.operator==(r?"||":"&&"))return r;var o,a=n&&!(r&&"object"==typeof r),s=this.right._eval(e,a,t,i);if(s===this.right)return this;switch(this.operator){case"&&":o=r&&s;break;case"||":o=r||s;break;case"|":o=r|s;break;case"&":o=r&s;break;case"^":o=r^s;break;case"+":o=r+s;break;case"-":o=r-s;break;case"*":o=r*s;break;case"/":o=r/s;break;case"%":o=r%s;break;case"<<":o=r<<s;break;case">>":o=r>>s;break;case">>>":o=r>>>s;break;case"==":o=r==s;break;case"===":o=r===s;break;case"!=":o=r!=s;break;case"!==":o=r!==s;break;case"<":o=r<s;break;case"<=":o=r<=s;break;case">":o=s<r;break;case">=":o=s<=r;break;case"**":o=Math.pow(r,s);break;case"in":if(s&&"object"==typeof s&&_n(s,r)){o=!0;break}default:return this}if(isNaN(o))return e.find_parent(Cn)?this:o;if(e.option("unsafe_math")&&!n&&o&&"number"==typeof o&&("+"==this.operator||"-"==this.operator)){n=Math.max(0,f(r),f(s));if(n<16)return+o.toFixed(n)}return o;function f(e){e=/(\.[0-9]*)?(e.+)?$/.exec(+e);return(e[1]||".").length-1-(e[2]||"").slice(1)}}),e(zt,function(e,n,t,i){var r=this.condition._eval(e,n,t,i);if(r===this.condition)return this;r=r?this.consequent:this.alternative,i=r._eval(e,n,t,i);return i===r?this:i}),e(Qt,function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(_n(o,"_eval"))r=o._eval();else{if(this._eval=fn,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(n,e){var t=n.definition().escaped;switch(t.length){case 0:return 1;case 1:var i=!1;return t[0].walk(new di(function(e){return!!i||(e===n?i=!0:e instanceof Nn||void 0)})),i;default:return e<=t.depth}}(this,i)?this:r});var v={Array:Array,Math:Math,Number:Number,Object:Object,String:String},s=N({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),l=hn("global ignoreCase multiline source");e(xt,function(e,n,t,i){if(e.option("unsafe")){var r,o=this.expression;if(!fe(o)&&(null==(r=o._eval(e,n,t,i+1))||r===o))return this;var a=this.property;if(a instanceof bn&&(a=a._eval(e,n,t,i))===this.property)return this;if(void 0===r){i=s[o.name];if(!i||!i[a])return this;r=v[o.name]}else if(r instanceof RegExp){if(!l[a])return this}else if("object"==typeof r){if(!_n(r,a))return this}else if("function"==typeof r)switch(a){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.length();default:return this}return r[a]}return this}),e(bt,function(o,a,s,f){var e=this.expression,n=e instanceof Qt?e.fixed_value():e;if(n instanceof Yn||n instanceof Kn||n instanceof Jn){if(n.evaluating)return this;if(n.name&&0<n.name.definition().recursive_refs)return this;if(this.is_expr_pure(o))return this;var r=d(this.args);if(!vn(n.argnames,function(e,n){if(e instanceof gt){if(!r)return;if(void 0!==r[n])return;var t=e.value._eval(o,a,s,f);if(t===e.value)return;r[n]=t,e=e.name}return!(e instanceof jt)}))return this;if(!r&&!a)return this;var t=n.first_statement();if(!(t instanceof et)){if(a){n.walk(h);var i=!1;if(Tn(n,new di(function(e){return!!i||(e instanceof et?(e.value&&void 0!==e.value._eval(o,!0,s,f)&&(i=!0),!0):e instanceof Nn&&e!==n||void 0)})),!i)return}return this}if(!(u=t.value))return;var c=[];return r&&!vn(n.argnames,function(e,n){var t=(e=e instanceof gt?e.name:e).definition();if(t.orig[t.orig.length-1]===e){var i=r[n];return t.references.forEach(function(e){e._eval=function(){return i},c.push(e)}),1}})&&!a||(n.evaluating=!0,u=u._eval(o,a,s,f),delete n.evaluating),c.forEach(function(e){delete e._eval}),u===t.value?this:u}if(o.option("unsafe")&&e instanceof xt){var u,l=e.property;if(l instanceof bn&&(l=l._eval(o,a,s,f))===e.property)return this;e=e.expression;if(fe(e)){var p=U[e.name];if(!p||!p[l])return this;u=v[e.name]}else{if(null==(u=e._eval(o,a,s,f+1))||u===e)return this;p=R[u.constructor.name];if(!p||!p[l])return this;if(u instanceof RegExp&&u.global&&!(e instanceof ri))return this}if(!(r=d(this.args)))return this;if("replace"==l&&"function"==typeof r[1])return this;try{return u[l].apply(u,r)}catch(e){bn.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{u instanceof RegExp&&(u.lastIndex=0)}}return this;function d(e){for(var n=[],t=0;t<e.length;t++){var i=e[t],r=i._eval(o,a,s,f);if(i===r)return;n.push(r)}return n}}),e(yt,fn)}(function(e,n){e.DEFMETHOD("_eval",n)}),(I=function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})})(bn,function(){return B(this)}),I(yn,function(){throw new Error("Cannot negate a statement")}),I(Yn,function(){return B(this)}),I(Vn,function(){return B(this)}),I(Wn,function(){return B(this)}),I(Jn,function(){return B(this)}),I(Dt,function(){return"!"==this.operator?this.expression:B(this)}),I(wt,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),V(this,n)}),I(zt,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),ee(this,t,n)}),I(At,function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),ee(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),ee(this,t,n)}return B(this)});var de=hn("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");function he(e){for(;(e=e.tail_node())instanceof Qt;)if(!(e=e.fixed_value()))return!0;return!(e instanceof Ft||"Binary"==e.TYPE&&!le[e.operator]||e instanceof ei||e instanceof Pn||e instanceof Ht&&vn(e.properties,function(e){return!(e instanceof Ut||e instanceof St)})||e instanceof Zt||e instanceof Tt)}function ve(e,n,t){return!vn(e,t?function(e){return e instanceof St?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function me(e,n){return!e.expression.is_string(n)||e.expression.has_side_effects(n)}function _e(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}function ge(e){for(var n=e.length;0<=--n;)if(!e[n].is_constant_expression())return!1;return!0}function be(e){return e&&e.aborts()}function ye(){var e=this.body.length;return 0<e&&be(this.body[e-1])}bt.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(fe(n)&&de[n.name])return!0;if(n instanceof kt&&fe(n.expression)){var t=U[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return this.pure||!e.pure_funcs(this)}),bn.DEFMETHOD("is_call_pure",an),bt.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof kt))return!1;var t,i=n.expression,r=n.property;if(i instanceof Ft)t=R.Array;else if(i.is_boolean(e))t=R.Boolean;else if(i.is_number(e))t=R.Number;else if(i instanceof ri)t=R.RegExp;else if(i.is_string(e)){if(t=R.String,"replace"==r){i=this.args[1];if(i&&!i.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=R.Object);return t&&t[r]}),(I=function(e,n){e.DEFMETHOD("has_side_effects",n)})(bn,sn),I(Ft,function(e){return ve(this.elements,e,me)}),I($t,function(e){var n=this.left;if(!(n instanceof xt))return!0;var t=n.expression;return!(t instanceof Zt)||!t.scope.new||n instanceof Et&&n.property.has_side_effects(e)||this.right.has_side_effects(e)}),I(At,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||"in"==this.operator&&!Je(this.right)}),I(Dn,function(e){return ve(this.body,e)}),I(bt,function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||ve(this.args,e,me)}),I(ct,function(e){return this.expression.has_side_effects(e)||ve(this.body,e)}),I(zt,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),I(ei,an),I(dt,function(e){return ve(this.definitions,e)}),I(qt,function(e){return ve(this.elements,e)}),I(Ct,function(e){return this.key instanceof bn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),I(Nt,function(e){return ve(this.properties,e)}),I(kt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),I(kn,an),I(ot,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),I(An,function(e){return this.body.has_side_effects(e)}),I(Pn,an),I(Ht,function(e){return ve(this.properties,e,function(e,n){e=e.expression;return he(e)||e.has_side_effects(n)})}),I(Pt,function(e){return this.key instanceof bn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),I(wt,function(e){return ve(this.expressions,e)}),I(En,function(e){return this.body.has_side_effects(e)}),I(Et,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),I(at,function(e){return this.expression.has_side_effects(e)||ve(this.body,e)}),I(Yt,an),I(Qt,function(e){return!this.is_declared(e)||!re(this)}),I(Zt,an),I(ut,function(e){return ve(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),I(Tt,function(e){return yi[this.operator]||this.expression.has_side_effects(e)}),I(_t,function(e){return this.value}),(I=function(e,n){e.DEFMETHOD("may_throw",n)})(bn,sn),I(ei,an),I(kn,an),I(Pn,an),I(Yt,an),I(Zt,an),I(Ft,function(e){return _e(this.elements,e)}),I($t,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Qt)&&this.left.may_throw(e)}),I(At,function(e){return this.left.may_throw(e)||this.right.may_throw(e)||"in"==this.operator&&!Je(this.right)}),I(Dn,function(e){return _e(this.body,e)}),I(bt,function(e){return!!_e(this.args,e)||!this.is_expr_pure(e)&&(!!this.expression.may_throw(e)||(!(this.expression instanceof Pn)||_e(this.expression.body,e)))}),I(ct,function(e){return this.expression.may_throw(e)||_e(this.body,e)}),I(zt,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),I(dt,function(e){return _e(this.definitions,e)}),I(kt,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),I(ot,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),I(An,function(e){return this.body.may_throw(e)}),I(Ht,function(e){return _e(this.properties,e)}),I(Pt,function(e){return this.key instanceof bn&&this.key.may_throw(e)||this.value.may_throw(e)}),I(et,function(e){return this.value&&this.value.may_throw(e)}),I(wt,function(e){return _e(this.expressions,e)}),I(En,function(e){return this.body.may_throw(e)}),I(Et,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),I(at,function(e){return this.expression.may_throw(e)||_e(this.body,e)}),I(Qt,function(e){return!this.is_declared(e)}),I(ut,function(e){return(this.bcatch?this.bcatch.may_throw(e):_e(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)}),I(Tt,function(e){return!("typeof"==this.operator&&this.expression instanceof Qt)&&this.expression.may_throw(e)}),I(_t,function(e){return!!this.value&&this.value.may_throw(e)}),(I=function(e,n){e.DEFMETHOD("is_constant_expression",n)})(bn,an),I(Ft,function(){return ge(this.elements)}),I(At,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()&&("in"!=this.operator||Je(this.right))}),I(ei,sn),I(Pn,function(i){var r=this,o=!0,a=[];return r.walk(new di(function(e,n){if(!o)return!0;if(e instanceof Sn)return e===r?void 0:(a.push(e),n(),a.pop(),!0);if(e instanceof Qt){if(r.inlined||e.redef)return!(o=!1);if(r.variables.has(e.name))return!0;var t=e.definition();if(tn(t.scope,a))return!0;if(i&&!t.redefined()){n=i.find_variable(e.name);if(t.undeclared?!n:n===t)return o="f",!0}return!(o=!1)}return e instanceof Zt?(0==a.length&&Rn(r)&&(o=!1),!0):void 0})),o}),I(Ht,function(){return ge(this.properties)}),I(Pt,function(){return"string"==typeof this.key&&this.value.is_constant_expression()}),I(Tt,function(){return this.expression.is_constant_expression()}),(I=function(e,n){e.DEFMETHOD("aborts",n)})(yn,cn),I(Qn,fn),I(On,ye),I(st,ye),I(ot,function(){return this.alternative&&be(this.body)&&be(this.alternative)&&this});var we=hn(["use asm","use strict"]);function xe(e,n){switch(e.body.length){case 0:return n?un.skip:oe(kn,e);case 1:var t=e.body[0];if(!(t instanceof ht||t instanceof vt))return t}return e}function ke(e,n){n.option("rests")&&(e.uses_arguments||e.rest instanceof qt&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=null))}function Ee(e,n){if(!n.option("arrows"))return e;ke(e,n);var t=$(e.value?[e.first_statement()]:e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof et){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}return e}function Se(e,n){for(var t=n.length;0<=--t;)n[t]||(n[t]=oe(fi,e))}function Te(n,t){n.walk(new di(function(e){return e instanceof et?(t(e),!0):e instanceof Nn&&e!==n||void 0}))}function De(e){var n=Object.create(null);return Te(e,function(e){e=e.value;(e=e&&e.tail_node())instanceof Qt&&(e=e.definition().id,n[e]=(n[e]||0)+1)}),n}function Oe(e,n,t){return e.bool_fn+(n[e.id]||0)===e.references.length-e.replaced&&!t.exposed(e)}function Ae(e,i){Te(e,function(e){e.in_bool=!0;var n,t=e.value;t&&((n=t.is_truthy()||t.evaluate(i,!0))?!n||n instanceof bn||(t=t.drop_side_effect_free(i),e.value=t?V(e.value,[t,oe(ti,e.value,{value:1})]):oe(ti,e.value,{value:1})):(t=t.drop_side_effect_free(i),e.value=t?V(e.value,[t,oe(ti,e.value,{value:0})]):null))})}function ze(e,n){if(!e.name||!n.option("ie8"))return 1;e=e.name.definition();return!n.exposed(e)&&vn(e.references,function(e){return!(e instanceof Qt)})}function $e(e,n,t,i){var r=e.length;if(!r)return null;for(var o=[],a=!1,s=0;s<r;s++){var f=e[s],c=i&&f instanceof St?i(f,n,t):f.drop_side_effect_free(n,t);c!==f&&(a=!0),c&&(o.push(c),t=!1)}return a?o.length?o:null:e}function Me(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function Fe(e){return e instanceof St?oe(Ft,e,{elements:[e]}):e}function je(n,e,t){t=t||tt;var i=!1,r=new di(function(e){return!!(i||e instanceof Nn)||(e instanceof t&&r.loopcontrol_target(e)===n?i=!0:void 0)});return e instanceof An&&r.push(e),r.push(n),n.body.walk(r),i}function qe(e,n,t){if(e instanceof At)if(e.left instanceof ni){if(e.right instanceof Dt&&"typeof"==e.right.operator){var i=e.right.expression;if(fe(i)){var r,o,a,s="undefined"==e.left.value;switch(e.operator){case"==":r=s?t:n;break;case"!=":r=s?n:t;break;default:return}r&&(o=i.definition(),a=new di(function(e){if(e instanceof Nn){var n=a.parent();return n instanceof bt&&n.expression===e?void 0:!0}e instanceof Qt&&e.definition()===o&&(e.defined=!0)}),r.walk(a))}}}else switch(e.operator){case"&&":qe(e.left,n),qe(e.right,n);break;case"||":qe(f(e.left),t),qe(f(e.right),t)}function f(e){if(e instanceof At)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function Ce(r){return function(n,t){var i=!1;return this.definitions.forEach(function(e){e.value&&(i=!0),e.name.match_symbol(function(e){e instanceof Yt&&t.push(oe(_t,e,{name:e,value:r(n,e)}))},!0)}),i}}function Ne(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof Xt?3:2)}function He(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names()[n.name])return!0}function Pe(e){return oe(mt,e,{definitions:e.definitions.map(function(e){return oe(_t,e,{name:e.name.convert_symbol(Wt,function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e;e=t.scope.resolve();t.scope!==e&&(t.scope=e).variables.set(t.name,t)}),value:e.value})})})}function Ie(e,t){return t.option("varify")&&vn(e.definitions,function(e){return!e.name.match_symbol(function(e){if(e instanceof Yt){var n=e.definition();return!e.fixed_value()||!Ne(n)||He(t,n)}},!0)})?Pe(e):e}function Re(e){var n=e.expression;if(!(n instanceof wt))return e;var t=n.expressions.slice(),n=e.clone();return n.expression=t.pop(),t.push(n),V(e,t)}function Ue(e,t,n){var i=e.expression,r=i instanceof Qt?i.fixed_value():i;if(r instanceof Pn&&(!r.uses_arguments&&!r.pinned()&&!(n&&n.indexOf(r)<0)&&vn(a=e.args,function(e){return!(e instanceof St)}))){i=r===i&&!r.name;if(r.rest){if(!i||!t.option("rests"))return;for(var o=r.argnames.length,a=a.slice(0,o);a.length<o;)a.push(oe(si,e).optimize(t));a.push(oe(Ft,e,{elements:e.args.slice(o)})),e.args=a,r.argnames=r.argnames.concat(r.rest),r.rest=null}for(var s=0,f=0,c=i&&t.option("default_values"),u=i&&t.drop_fargs(r,e)?function(e,n){return!e||(e instanceof qt?0==e.elements.length&&!e.rest&&n instanceof Ft:e instanceof Nt?0==e.properties.length&&!e.rest&&n&&!n.may_throw_on_access(t):e.__unused)}:an,l=[],p=0;p<a.length;p++){var d=r.argnames[p];if(c&&d instanceof gt&&a[p].is_defined(t)&&(r.argnames[p]=d=d.name),!d||"__unused"in d){var h=a[p].drop_side_effect_free(t);if(u(d)){d&&r.argnames.splice(p,1),a.splice(p,1),h&&l.push(h),p--;continue}if(h)l.push(h),a[s++]=V(e,l),l=[];else if(d){if(!l.length){a[s++]=oe(ti,a[p],{value:0});continue}a[s++]=V(e,l),l=[]}}else{if(d&&u(d,a[p])){h=a[p].drop_side_effect_free(t);r.argnames.splice(p,1),a.splice(p,1),h&&l.push(h),p--;continue}l.push(a[p]),a[s++]=V(e,l),l=[]}f=s}for(;p<r.argnames.length;p++)u(r.argnames[p])&&r.argnames.splice(p--,1);a.length=f,l.length&&(i=V(e,l),a.push(a.length<r.argnames.length?oe(Dt,e,{operator:"void",expression:i}):i))}}function Be(t,i,e,n){if(n instanceof At&&le[n.operator]&&n.right instanceof $t&&"="==n.right.operator&&n.right.left instanceof Qt&&n.right.left.definition()===i&&!e.has_side_effects(t)&&r(n.left)&&r(n.right.right))return i.replaced++,"&&"==n.operator?oe(zt,n,{condition:n.left,consequent:n.right.right,alternative:e}):oe(zt,n,{condition:n.left,consequent:e,alternative:n.right.right});function r(e){if(!e.has_side_effects(t)){var n=!1;return e.walk(new di(function(e){return!!n||(e instanceof Qt&&e.definition()===i?n=!0:void 0)})),!n}}}e(xn,function(e,n){return!n.option("directives")||we[e.value]&&n.has_directive(e.value)===e?e:oe(kn,e)}),e(wn,function(e,n){return n.option("drop_debugger")?oe(kn,e):e}),e(An,function(e,n){return n.option("dead_code")&&e.body instanceof it&&n.loopcontrol_target(e.body)===e.body?oe(kn,e):n.option("unused")&&0==e.label.references.length?e.body:e}),e(Dn,function(e,n){return e.body=$(e.body,n),e}),e(On,function(e,n){return e.body=$(e.body,n),xe(e)}),e(Yn,Ee),e(Vn,Ee),e(Kn,function(e,n){return ke(e,n),e.body=$(e.body,n),e}),e(Jn,function(n,e){if(ke(n,e),n.body=$(n.body,e),e.option("inline"))for(var t=0;t<n.body.length;t++){var i=n.body[t];if(!(i instanceof xn)){if(i instanceof et){var r=i.value;if(!r||"Call"!=r.TYPE)break;if(r.is_expr_pure(e))break;var o=r.expression;if(o instanceof Qt){if(n.name&&n.name.definition()===o.definition())break;o=o.fixed_value()}if(!(o instanceof Kn||o instanceof Jn))break;if(o.uses_arguments)break;if(o===r.expression){if(o.parent_scope!==n)break;if(!vn(o.enclosed,function(e){return e.scope!==n}))break}if(o.contains_this())break;var a=o.argnames.length;if(0<a&&e.option("inline")<2)break;if(a>n.argnames.length)break;if(!vn(n.argnames,function(e){return e instanceof Jt}))break;if(!vn(r.args,function(e){return!(e instanceof St)}))break;for(var s=0;s<a;s++){var f=r.args[s];if(!(f instanceof Qt))break;if(f.definition()!==n.argnames[s].definition())break}if(s<a)break;for(;s<r.args.length&&!r.args[s].has_side_effects(e);s++);if(s<r.args.length)break;if(a<n.argnames.length&&!e.drop_fargs(n,e.parent())){if(!e.drop_fargs(o,r))break;for(;o.argnames.push(o.make_var(Jt,o,"argument_"+a)),++a<n.argnames.length;);}return r.expression}break}}return n}),Nn.DEFMETHOD("merge_variables",function(o){if(o.option("merge_vars")){var f,c=this,u={},a=[],s=[],l=0,p=new mn,d=Object.create(null),h=Object.create(null),v=new di(function(i,e){if(i instanceof $t){var n=i.left;if(n instanceof jt){i.right.walk(v);var t=new di(function(e){if(!(e instanceof jt))return e instanceof gt?(w(),e.value.walk(v),x(),e.name.walk(t)):e instanceof Ct?e.key instanceof bn?(w(),(u.block=e).key.walk(v),e.value.walk(t),x()):e.value.walk(t):e instanceof Qt?k(e):e.walk(v),!0});return n.walk(t),!0}return n instanceof Qt?("="!=i.operator&&k(n,!0),i.right.walk(v),k(n),!0):void 0}if(i instanceof At)return le[i.operator]?(i.left.walk(v),w(),i.right.walk(v),x(),!0):void 0;var r;if(i instanceof it)return(s=v.loopcontrol_target(i))instanceof zn||E(s),!0;if(i instanceof bt){var o=i.expression,n=o.tail_node();return Un(n)?(o!==n&&o.expressions.slice(0,-1).forEach(function(e){e.walk(v)}),i.args.forEach(function(e){e.walk(v)}),n.walk(v),!0):void 0}if(i instanceof zt)return i.condition.walk(v),w(),i.consequent.walk(v),x(),w(),i.alternative.walk(v),x(),!0;if(i instanceof rt)return(s=v.loopcontrol_target(i))instanceof Mn&&E(s),!0;if(i instanceof Mn){w(),u.block=i,u.loop=!0;var a=u;return i.body.walk(v),u.inserted===i&&(u=a),i.condition.walk(v),x(),!0}if(i instanceof jn)return i.init&&i.init.walk(v),w(),u.block=i,u.loop=!0,i.condition&&i.condition.walk(v),i.body.walk(v),i.step&&i.step.walk(v),x(),!0;if(i instanceof qn)return i.object.walk(v),w(),u.block=i,u.loop=!0,i.init.walk(v),i.body.walk(v),x(),!0;if(i instanceof ot)return i.condition.walk(v),w(),i.body.walk(v),x(),i.alternative&&(w(),i.alternative.walk(v),x()),!0;if(i instanceof An){w(),u.block=i;a=u;return i.body.walk(v),u.inserted===i&&(u=a),x(),!0}if(i instanceof Nn)return w(),(u.block=i)===c&&(f=u),i instanceof Pn&&(i.name&&(d[i.name.definition().id]=!1),t=i.uses_arguments&&!v.has_directive("use strict")?function(e){e instanceof Jt&&(d[e.definition().id]=!1)}:function(e){e instanceof Jt&&k(e)},r=new di(function(e){if(e instanceof Yt&&(d[e.definition().id]=!1),e instanceof Qt){var n=e.definition(),t=i.variables.get(e.name);return t&&(t===n||n.undeclared||i.parent_scope.find_variable(e.name)===n)?(d[n.id]=!1,d[t.id]=!1):(t=u,x(),k(e,!0),u=t),!0}}),i.argnames.forEach(function(e){e.mark_symbol(t,r)}),i.rest&&i.rest.mark_symbol(t,r)),Bn(i,v),x(),!0;if(i instanceof at){i.expression.walk(v);a=u;return i.body.forEach(function(e){e instanceof ft||(e.expression.walk(v),a===u&&w())}),u=a,i.body.forEach(function(e){w(),u.block=i;var n=u;Tn(e,v),u.inserted===i&&(u=n),x()}),!0}if(i instanceof Qt)return k(i,!0),!0;if(i instanceof ut)return w(),Tn(u.block=i,v),x(),i.bcatch&&(i.bcatch.argname&&i.bcatch.argname.mark_symbol(function(e){e instanceof Kt&&(e=e.definition(),d[e.id]=!1,(e=e.redefined())&&(d[e.id]=!1))},v),w(),i.bfinally&&(u.block=i.bcatch),Tn(i.bcatch,v),x()),i.bfinally&&i.bfinally.walk(v),!0;if(i instanceof Tt){if(!_i[i.operator])return;var s=i.expression;return s instanceof Qt?(k(s,!0),!0):void 0}return i instanceof _t?(i.value&&i.value.walk(v),i.name.mark_symbol(i.value?function(e){if(e instanceof Yt)return e instanceof Wt?k(e):d[e.definition().id]=!1,!0}:function(e){if(e instanceof Yt){var n=e.definition().id;return e instanceof Wt?n in d?d[n]&&d[n].push(e):p.add(n,e):d[n]=!1,!0}},v),!0):i instanceof Fn?(w(),u.block=i,u.loop=!0,e(),x(),!0):void 0});v.directives=Object.create(o.directives),c.walk(v);for(var e=Object.create(null);a.length&&s.length;){var n=a.pop(),t=n.definition;if(t.id in h&&d[t.id]){for(var i={start:d[t.id].start};t.id in e;)t=e[t.id];i.end=d[t.id].end;var r=[];do{var m=s.pop();if(m&&!(m.index>n.index)){var _=m.definition.id,g=d[_];if(g){if(i.start.block===g.start.block&&T(i,g)&&(!i.start.loop||T(g,i))&&vn(g,function(e){return e.scope.find_variable(t.name)===t})){var b=[],y=[];g.forEach(function(e){e.thedef=t,e.name=t.name,(e instanceof Qt?y:b).push(e)}),t.orig=b.concat(t.orig),t.references=y.concat(t.references),t.fixed=m.definition.fixed&&t.fixed,e[_]=t;break}r.unshift(m)}}}while(s.length);r.length&&(s=s.concat(r))}}}function w(){u=Object.create(u)}function x(){u=Object.getPrototypeOf(u)}function k(e,n){var t,i,r=e.definition();if(r.id in d){if(!(i=d[r.id]))return;if(i.start.block!==u.block)return d[r.id]=!1;if(i.push(e),i.end=u,r.id in h)s[h[r.id]]=null;else if(!n)return}else{if((t=c.variables.get(r.name))!==r)return t&&f===u&&(d[t.id]=!1),d[r.id]=!1;if(o.exposed(r)||"arguments"==e.name||"await"==e.name)return d[r.id]=!1;if((i=p.get(r.id)||[]).push(e),d[r.id]=i,!n)return i.start=u,a.push({index:l++,definition:r});if(u.block!==c)return d[r.id]=!1;i.start=f}h[r.id]=s.length,s.push({index:l++,definition:r})}function E(e){for(var n=[];;){if(_n(u,"block")){var t=u.block;if((t=t instanceof An?t.body:t)===e)break}n.push(u),x()}for(u.inserted=u.block,w();n.length;){var i=n.pop();w(),_n(i,"block")&&(u.block=i.block),_n(i,"loop")&&(u.loop=i.loop)}}function S(e,n){return e===n||e.isPrototypeOf(n)}function T(e,n){return S(e.start,e.end)||S(e.start,n.start)}}),Nn.DEFMETHOD("drop_unused",function(w){if(w.option("unused")){var x=this,k=!(x instanceof Hn)||w.toplevel.funcs,E=!(x instanceof Hn)||w.toplevel.vars,S=/keep_assign/.test(w.option("unused"))?an:function(e,n){var t,i=!1;if(e instanceof $t?!e.write_only&&"="!=e.operator||(t=e.left):e instanceof Tt&&e.write_only&&(t=e.expression),/strict/.test(w.option("pure_getters")))for(;t instanceof xt&&!t.expression.may_throw_on_access(w);)t instanceof Et&&n.unshift(t.property),t=t.expression,i=!0;if(t instanceof Qt&&!w.exposed(t.definition())&&re(t,i))return t},T=Object.create(null),f=function(e){return(f=function e(n,t,i){var r=w.parent(t);if(!r)return i;if(r instanceof Ct){var o=w.parent(t+1);if(r.key===n){var a=w.parent(t+2);if(a instanceof Pn)return e(a,t+3,0<=a.argnames.indexOf(o)?function(e){var n=i(e);if(n)return n;if(n=a.variables.get(e)){var e=n.orig[0];if(e instanceof Jt||e instanceof Xt)return n}}:function(e){return i(e)||a.variables.get(e)})}return e(o,t+2,i)}return e(r,t+1,r.variables?function(e){return i(e)||r.variables.get(e)}:i)}(x,0,on))(e)},D=Object.create(null),c=[],O=Object.create(null),u=Object.create(null),l=Object.create(null),A=Object.create(null);x instanceof Hn&&w.top_retain&&x.variables.each(function(e){!w.top_retain(e)||e.id in O||(O[e.id]=!0,c.push(e))});var p=new mn,d=new mn,z=this,h=new di(function(r,e){if(r instanceof Pn&&r.uses_arguments&&!h.has_directive("use strict")&&r.each_argname(function(e){e=e.definition();e.id in O||(O[e.id]=!0,c.push(e))}),r!==x){if(z===x){if(Gn(r)){var n=r.name.definition();return k||n.id in O||(O[n.id]=!0,c.push(n)),d.add(n.id,r),!0}if(r instanceof dt)return r.definitions.forEach(function(t){var i=t.value&&(t.name instanceof jt||t.value.has_side_effects(w));t.name.mark_symbol(function(e){if(e instanceof Yt){var n=e.definition();return A[n.id]=(A[n.id]||0)+1,r instanceof mt&&n.orig[0]instanceof Kt&&((e=n.redefined())&&(A[e.id]=(A[e.id]||0)+1)),n.id in O||E&&(r instanceof ht?!n.redefined():!n.const_redefs)&&(r instanceof mt||Ne(n))||(O[n.id]=!0,c.push(n)),t.value&&(i||d.add(n.id,t.value),p.add(n.id,t)),!0}},h),i&&t.value.walk(h)}),!0;if(r instanceof Jt){n=r.definition();return A[n.id]=(A[n.id]||0)+1,p.add(n.id,r),!0}}return t(r,e,!0)}});h.directives=Object.create(w.directives),x.walk(h),h=new di(t);for(var e=0;e<c.length;e++){var n=d.get(c[e].id);n&&n.forEach(function(e){e.walk(h)})}Object.keys(T).forEach(function(e){var n,t=T[e];t?(t=t.reduce(function(n,e){return e.forEach(function(e){ln(n,e)}),n},[]),n=(p.get(e)||[]).filter(function(n){return rn(n instanceof Tt?function(e){return e===n}:function(e){return e===n||!(e instanceof Tt)&&i(e)===i(n)},t)}),t.length==n.length?T[e]=n:delete T[e]):delete T[e]});var $=w.option("keep_fnames")?an:w.option("ie8")?function(e){return!w.exposed(e)&&e.references.length==e.replaced}:function(e){return!(e.id in O)||!(e.orig.length<2)&&(e.orig[1]instanceof Jt||vn(e.references,function(e){return!e.in_arg}))},M=[],F=[],j=[],q=[],C=new hi(function(t){if(t instanceof gt)return y(C,t);if(t instanceof jt&&t.rest&&(t.rest=t.rest.transform(C)),t instanceof qt){for(var e=!t.rest,n=t.elements.length;0<=--n;){var i=t.elements[n].transform(C);i?(t.elements[n]=i,e=!1):e?t.elements.pop():t.elements[n]=oe(fi,t.elements[n])}return t}if(t instanceof Nt){var r=[];return t.properties.forEach(function(e){var n=!1;e.key instanceof bn&&(e.key=e.key.transform(N),n=e.key.has_side_effects(w)),(n||t.rest)&&b(e.value)?(e.value=e.value.transform(N),r.push(e)):(n=!(n=e.value.transform(C))&&t.rest?e.value instanceof qt?oe(qt,e.value,{elements:[]}):oe(Nt,e.value,{properties:[]}):n)&&(e.value=n,r.push(e))}),t.properties=r,t}return t instanceof Yt?t.definition().id in O?t:null:void 0}),N=new hi(function(c,e,n){var u=N.parent();if(E){var t=[];if(r=S(c,t)){var i=(o=r.definition()).id in O;if(c instanceof $t?(!i||c.left===r&&R(o,c)<0)&&(b=U(c),!0===c.write_only&&(b=b.drop_side_effect_free(w)||oe(ti,c,{value:0}))):(!i||c.expression===r&&R(o,c)<0)&&(b=oe(ti,c,{value:0})),b)switch((b=u instanceof wt&&u.tail_node()!==c?b.drop_side_effect_free(w):b)&&t.push(b),t.length){case 0:return un.skip;case 1:return ae(0,u,c,t[0].transform(N));default:return V(c,t.map(function(e){return e.transform(N)}))}}else if(c instanceof Ot&&c.expression instanceof Qt&&R(c.expression.definition(),c)<0)return oe(Dt,c,{operator:"+",expression:c.expression})}if(c instanceof bt&&j.push(c),z===x){if(c instanceof Pn){if(k&&c!==x&&Gn(c))if(!((o=c.name.definition()).id in O))return H(c.name,"Dropping unused function {name}"),o.eliminated++,n?un.skip:oe(kn,c);if(Un(c)&&c.name&&$(c.name.definition())&&F.push(c),!(c instanceof In)){c.rest&&(c.rest=c.rest.transform(C),c.uses_arguments&&!N.has_directive("use strict")||!(c.rest instanceof qt&&0==c.rest.elements.length||c.rest instanceof Nt&&0==c.rest.properties.length)||(c.rest=null));for(var r,o,a=c.argnames,s=w.drop_fargs(c,u)&&!c.rest,f=s?-1:c.length(),l=a.length;0<=--l;)(r=a[l])instanceof Jt?(o=r.definition()).id in O?(s=!1,R(o,r)<0&&(r.__unused=null)):s?(H(r,"Dropping unused function argument {name}"),a.pop()):r.__unused=!0:r.transform(C)?s=!1:s?(H(r.name,"Dropping unused default argument {name}"),a.pop()):f<l?(H(r.name,"Dropping unused default argument assignment {name}"),r.name.__unused=!0,a[l]=r.name):(H(r.name,"Dropping unused default argument value {name}"),r.value=oe(ti,r,{value:0}));q.push(c)}}if(c instanceof lt&&c.argname instanceof jt&&c.argname.transform(C),c instanceof dt&&!(u instanceof qn&&u.init===c)){var p=[],d=[],h=[],v=[],m=0,_=c instanceof mt;switch(c.definitions.forEach(function(n){n.value&&(n.value=n.value.transform(N));var e,t,i,r,o,a=n.value;function s(e){var n=e.definition();return n.orig[0]instanceof Kt&&n.scope.resolve()===e.scope.resolve()}function f(){0<v.length&&(0==h.length?p.push(oe(En,c,{body:V(c,v)})):a?(v.push(a),n.value=V(a,v)):n.value=oe(Dt,n,{operator:"void",expression:V(n,v)}),v=[]),h.push(n)}n.name instanceof jt?B(n.name,a,function(e){return!E||e.definition().id in O||s(e)||_&&!re(e)?e:null})?f():(a=a.drop_side_effect_free(w))&&v.push(a):(e=n.name.definition(),!(t=_?re(n.name):Ne(e))||!E||e.id in O?(a&&R(e,n)<0&&(r=a.write_only,a=a.drop_side_effect_free(w),n.value!==a?(a&&(bn.warn("Side effects in last use of variable {name} [{file}:{line},{col}]",P(n.name)),v.push(a)),a=null,M.push(n)):a.write_only!==r&&(a.write_only=r)),a||c instanceof vt?w.option("functions")&&!w.option("ie8")&&!(c instanceof ht||c instanceof vt)&&1==A[e.id]&&0==e.assignments&&a instanceof Jn&&(e.references.length?vn(e.references,function(e){return a===e.fixed_value()}):a===n.name.fixed_value())&&(!a.name||0==(i=a.name.definition()).assignments&&(i.name==n.name.name||vn(i.references,function(e){return e.scope.find_variable(n.name.name)===n.name.definition()})))&&(w.has_directive("use strict")?u instanceof Nn:u instanceof Dn||u instanceof jn&&u.init===c||u instanceof ot)&&function(e,n){n=e.variables.get(n);return!n||e.name&&n===e.name.definition()}(a,n.name.name)?(bn.warn("Declaring {name} as function [{file}:{line},{col}]",P(n.name)),(r=oe(Kn,n,a)).name=oe(Gt,n.name,n.name),o=n.name.scope.resolve().def_function(r.name),i&&i.forEach(function(e){e.name=o.name,e.thedef=o,e.reference({})}),p.push(r)):(t&&1<A[e.id]&&e.orig.indexOf(n.name)>e.eliminated&&(A[e.id]--,m++),f()):t&&1<A[e.id]?(bn.info("Dropping declaration of variable {name} [{file}:{line},{col}]",P(n.name)),A[e.id]--,e.eliminated++):d.push(n)):s(n.name)?((a=a&&a.drop_side_effect_free(w))&&v.push(a),1<A[e.id]?(bn.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",P(n.name)),A[e.id]--,e.eliminated++):(n.value=null,d.push(n))):((a=a&&!a.single_use&&a.drop_side_effect_free(w))?(bn.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",P(n.name)),v.push(a)):H(n.name,"Dropping unused variable {name}"),e.eliminated++))}),d.length){case 0:if(0==h.length)break;if(h.length==m){[].unshift.apply(v,h.map(function(e){bn.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",P(e.name));var n=e.name.definition(),t=oe(Qt,e.name,e.name);n.references.push(t);t=oe($t,e,{operator:"=",left:t,right:e.value}),e=R(n,e);return 0<=e&&(T[n.id][e]=t),n.eliminated++,t}));break}case 1:if(0==h.length){var g=d[0].name.definition().id;if(g in D){c.definitions=d,D[g].init=c;break}}default:c.definitions=d.concat(h),p.push(c)}return 0<v.length&&p.push(oe(En,c,{body:V(c,v)})),I(p,c,n)}if(c instanceof $t){if(e(c,N),c.left instanceof jt){var b=B(c.left,c.right,function(e){return e});if(!b)return c.right;c.left=b}return c}if(c instanceof An&&c.body instanceof jn){if(e(c,N),c.body instanceof On){var y=c.body;return c.body=y.body.pop(),y.body.push(c),n?un.splice(y.body):y}return c}if(c instanceof Nn){y=z;return e(z=c,N),z=y,c}}},function(e,n){if(e instanceof On)return xe(e,n);if(e instanceof jn)return e.init instanceof On&&(r=e.init,e.init=r.body.pop(),r.body.push(e)),e.init instanceof Kn?((r=r||oe(On,e,{body:[e]})).body.splice(-1,0,e.init),e.init=null):e.init instanceof En?e.init=e.init.body:G(e.init)&&(e.init=null),r?n?un.splice(r.body):r:e;if(e instanceof qn){if(E&&w.option("loops")&&G(e.body)){var t=g(e);if(t){var i=t.definition();if(!(i.id in O)){H(t,"Dropping unused loop variable {name}"),D[i.id]===e&&delete D[i.id];var r=[],t=e.object.drop_side_effect_free(w);return t&&(bn.warn("Side effects in object of for-in loop [{file}:{line},{col}]",t.start),r.push(oe(En,e,{body:t}))),e.init instanceof dt&&i.orig[0]instanceof Kt&&r.push(e.init),I(r,e,n)}}}}else if(e instanceof wt&&1==e.expressions.length)return e.expressions[0]});N.push(w.parent()),x.transform(N),x instanceof Pn&&1==x.body.length&&x.body[0]instanceof xn&&"use strict"==x.body[0].value&&(x.body.length=0),M.forEach(function(e){e.value=null}),F.forEach(function(e){e.name=null}),j.forEach(function(e){Ue(e,w,q)})}function H(e,n){bn[0<e.definition().references.length?"info":"warn"](n+" [{file}:{line},{col}]",P(e))}function P(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function i(e){return e[e instanceof $t?"right":"value"]}function I(e,n,t){switch(e.length){case 0:return t?un.skip:oe(kn,n);case 1:return e[0];default:return t?un.splice(e):oe(On,n,{body:e})}}function v(e,n){return e.scope===x&&(e.fixed&&n.fixed||(T[e.id]=!1),!1!==T[e.id])}function m(e,n){T[e.id]||(T[e.id]=[]),n.fixed.assigns&&ln(T[e.id],n.fixed.assigns)}function R(e,n){e=T[e.id];return e&&e.indexOf(n)}function _(e,n,t){e.id in O||(n&&t?(O[e.id]=!0,c.push(e)):(u[e.id]=n,l[e.id]=t))}function U(e){var n=e.right;if(!e.write_only)return n;if(!(n instanceof At&&le[n.operator]))return n;if(!(n.left instanceof Qt))return n;if(!(e.left instanceof Qt))return n;e=e.left.definition();return n.left.definition()!==e||n.right.has_side_effects(w)?n:(v(e,n.left)&&m(e,n.left),n.right)}function g(e){var n=e.init;if(n instanceof dt)return(n=n.definitions[0].name)instanceof Yt&&n;for(;n instanceof xt;)n=n.expression.tail_node();return n instanceof Qt?n:void 0}function t(e,n,t){e instanceof $t&&e.left instanceof Qt&&(i=e.left.definition()).scope===x&&p.add(i.id,e),e instanceof Tt&&e.expression instanceof Qt&&(i=e.expression.definition()).scope===x&&p.add(i.id,e);var i,r=[],o=S(e,r);if(o&&x.variables.get(o.name)===(s=o.definition())&&(!te(s)||vn(x.argnames,function(e){return!e.match_symbol(function(e){if(e instanceof Jt){e=e.definition();return e.references.length>e.replaced}},!0)}))){if(r.forEach(function(e){e.walk(h)}),e instanceof $t){if("p"===e.write_only&&e.right.may_throw_on_access(w))return;var a,r=U(e);t&&!0===e.write_only&&s.scope===x&&!r.has_side_effects(w)?d.add(s.id,r):r.walk(h),e.left===o?e.write_only||_(s,!0,l[s.id]):(a=o.fixed_value())&&a.is_constant()||_(s,u[s.id],!0)}return v(s,o)&&pe(o,e)!==o&&m(s,o),!0}if(e instanceof qn){if(e.init instanceof Qt&&z===x&&((a=e.init.definition().id)in D||(D[a]=e)),!E||!w.option("loops"))return;if(!G(e.body))return;if(e.init.has_side_effects(w))return;if(!(o=g(e)))return;if((i=o.definition()).scope!==x){o=f(o.name);if(o===i||o&&o.redefined()===i)return}return e.object.walk(h),!0}if(e instanceof Qt)return(s=e.definition()).id in O||(O[s.id]=!0,c.push(s)),Y(s.scope,e.scope)&&(!(i=s.redefined())||i.id in O||(O[i.id]=!0,c.push(i))),v(s,e)&&m(s,e),!0;if(e instanceof Nn){var s=z;return z=e,n(),z=s,!0}}function b(e){return(e instanceof gt?e.name:e)instanceof Yt}function y(e,n){n.value=n.value.transform(N);var t=n.name.transform(e);if(!t){e=n.value.drop_side_effect_free(w);if(!e)return null;(t=n.name)instanceof jt?((t=t.clone())[t instanceof qt?"elements":"properties"]=[],e instanceof Ft||e.is_string(w)||t instanceof Nt&&(e instanceof Ht||e.is_boolean(w)||e.is_number(w))||(e=oe(Ft,e,{elements:[e]})),n.name=t):H(t,"Side effects in default value of unused variable {name}"),n.value=e}return n}function B(e,s,f){var c=new hi(function(t){if(t instanceof gt){if(!(w.option("default_values")&&s&&s.is_defined(w)))return y(c,t);t=t.name}if(t instanceof qt){var e=s,i=(s=s instanceof Qt?s.fixed_value():s)instanceof Ft&&s.elements,r=[];if(t.elements.forEach(function(e,n){(s=i&&i[n])instanceof St&&(s=i=null),e instanceof fi||(e=e.transform(c))&&(r[n]=e)}),t.rest&&(w.option("rests")?(s=i&&oe(Ft,e,{elements:i.slice(t.elements.length)}),t.rest=t.rest.transform(c)):t.rest=t.rest.transform(N)),s=e,t.rest)r.length=t.elements.length;else if(i&&0==r.length)return null;return Se(t,r),t.elements=r,t}if(t instanceof Nt){e=s;if((s=s instanceof Qt?s.fixed_value():s)instanceof Ht){i=Object.create(null);for(var n=0;n<s.properties.length;n++){var o=s.properties[n];if("string"!=typeof o.key){i=null;break}i[o.key]=o.value}}var a=[];return(t.properties.forEach(function(e){var n=e.key instanceof bn?(e.key=e.key.transform(N),s=null,e.key.has_side_effects(w)):(s=i&&i[e.key],!1);(n||t.rest)&&b(e.value)?(e.value=e.value.transform(N),a.push(e)):(n=!(n=e.value.transform(c))&&t.rest?e.value instanceof qt?oe(qt,e.value,{elements:[]}):oe(Nt,e.value,{properties:[]}):n)&&(e.value=n,a.push(e))}),t.rest&&(w.option("rests")?(s=i&&oe(Ht,e,{properties:[]}),t.rest=t.rest.transform(c)):t.rest=t.rest.transform(N)),s=e,0!=a.length||t.rest||!s||s.may_throw_on_access(w))?(t.properties=a,t):null}return f(t)});return e.transform(c)}}),Nn.DEFMETHOD("hoist_declarations",function(r){var o,a,s,n,f,c,u,l,p,d,h;r.has_directive("use asm")||(o=r.option("hoist_funs"),a=r.option("hoist_vars"),s=this,a&&(n=0,s.walk(new di(function(e){return 1<n||(e instanceof Nn&&e!==s||(e instanceof mt?(n++,!0):void 0))})),n<=1&&(a=!1)),(o||a)&&(f=Object.create(null),c=[],u=[],l=new mn,p=0,d=new hi(function(e){if(e!==s){if(e instanceof xn)return c.push(e),oe(kn,e);if(o&&e instanceof Kn&&(d.parent()===s||!r.has_directive("use strict")))return u.push(e),oe(kn,e);if(a&&e instanceof mt){if(!vn(e.definitions,function(e){e=e.name;return e instanceof Wt&&!f[e.name]&&s.find_variable(e.name)===e.definition()}))return e;e.definitions.forEach(function(e){l.set(e.name.name,e),++p});var n=e.to_assignments(),t=d.parent();if(t instanceof qn&&t.init===e){if(n)return n;var i=e.definitions[0].name;return oe(Qt,i,i)}return t instanceof jn&&t.init===e?n:n?oe(En,e,{body:n}):oe(kn,e)}return e instanceof Nn?e:e instanceof Lt?(f[e.name]=!0,e):void 0}}),s.transform(d),0<p&&(h=[],l.each(function(e,n){s instanceof Pn&&!vn(s.argnames,function(e){return e.name!=n})?l.del(n):((e=e.clone()).value=null,h.push(e),l.set(n,e))}),0<h.length&&(function e(n){for(;n.length;){var t=n[0];if(t instanceof En){var i,r,o=t.body;if(o instanceof $t&&"="==o.operator&&(i=o.left)instanceof Bt&&l.has(i.name)){var a=l.get(i.name);if(a.value)break;a.value=o.right,dn(h,a),h.push(a),n.shift();continue}if(o instanceof wt&&(r=o.expressions[0])instanceof $t&&"="==r.operator&&(i=r.left)instanceof Bt&&l.has(i.name)){var a=l.get(i.name);if(a.value)break;a.value=r.right,dn(h,a),h.push(a),t.body=V(o,o.expressions.slice(1));continue}}if(t instanceof kn)n.shift();else{if(!(t instanceof On)||e(t.body))break;n.shift()}}return n.length}(s.body),h=oe(mt,s,{definitions:h}),u.push(h))),s.body=c.concat(u,s.body)))}),Nn.DEFMETHOD("process_boolean_returns",on),Kn.DEFMETHOD("process_boolean_returns",function(e){var n;e.option("booleans")&&(n=De(this),Oe(this.name.definition(),n,e)&&Ae(this,e))}),Jn.DEFMETHOD("process_boolean_returns",function(e){if(e.option("booleans")){var n=De(this);if(!this.name||Oe(this.name.definition(),n,e)){var t=e.parent();if(t instanceof $t){if("="!=t.operator)return;if(!((i=t.left)instanceof Qt))return;if(!Oe(i.definition(),n,e))return}else if(t instanceof bt&&t.expression!==this){var i,r=t.expression;if(!((r=r instanceof Qt?r.fixed_value():r)instanceof Pn))return;if(r.uses_arguments||r.pinned())return;if((i=(i=r.argnames[t.args.indexOf(this)])instanceof gt?i.name:i)instanceof Jt&&!Oe(i.definition(),n,e))return}else{if("Call"!=t.TYPE)return;e.pop();t=e.in_boolean_context();if(e.push(this),!t)return}Ae(this,e)}}}),Sn.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=Object.create(null),this.enclosed.forEach(function(e){t[e.name]=!0}),this.variables.each(function(e,n){t[n]=!0})),t}),Nn.DEFMETHOD("make_var",function(e,n,t){var i=[this];n instanceof Yt&&n.definition().references.forEach(function(e){var n=e.scope;if(!tn(n,i))for(;ln(i,n),n=n.parent_scope,n&&n!==this;);});for(var r=t=t.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_"),o=0;!vn(i,function(e){return!e.var_names()[r]});o++)r=t+"$"+o;var n=oe(e,n,{name:r,scope:this}),a=this.def_variable(n);return i.forEach(function(e){e.enclosed.push(a),e.var_names()[r]=!0}),n}),Nn.DEFMETHOD("hoist_properties",function(e){var s,r,f;function c(e,n,t){if(e instanceof Bt){var i=e.definition();return i.assignments==t?!i.direct_access&&(1!=i.escaped.depth&&(i.references.length-i.replaced!=t&&(!i.single_use&&(!r(i)&&(e.fixed_value()===n&&(n instanceof Ht&&0<n.properties.length&&vn(n.properties,function(e){return e instanceof It&&"string"==typeof e.key})&&vn(i.references,function(e){return e.fixed_value()===n})&&re(e))))))):void 0}}e.option("hoist_props")&&!e.has_directive("use asm")&&(r=(s=this)instanceof Hn&&e.top_retain||an,f=Object.create(null),s.transform(new hi(function(t,e){if(t instanceof $t){if("="!=t.operator)return;if(!t.write_only)return;if(t.left.scope!==s)return;if(!c(t.left,t.right,1))return;e(t,this);var i=new mn,r=[],o=[];return t.right.properties.forEach(function(e){var n=a(t.left,e.key);o.push(oe(_t,t,{name:n,value:null}));n=oe(Qt,t,{name:n.name,scope:s,thedef:n.definition()});n.reference({}),r.push(oe($t,t,{operator:"=",left:n,right:e.value}))}),f[t.left.definition().id]=i,s.body.splice(s.body.indexOf(this.stack[1])+1,0,oe(mt,t,{definitions:o})),V(t,r)}if(t instanceof Nn)return t===s?void 0:t;if(t instanceof _t&&c(t.name,t.value,0)){e(t,this);var i=new mn,n=[];return t.value.properties.forEach(function(e){n.push(oe(_t,t,{name:a(t.name,e.key),value:e.value}))}),f[t.name.definition().id]=i,un.splice(n)}function a(e,n){e=s.make_var(Wt,e,e.name+"_"+n);return i.set(n,e.definition()),e}})),s.transform(new hi(function(i,e){if(i instanceof At)return t("right");if(i instanceof xt){if(!(i.expression instanceof Qt))return;var n=f[i.expression.definition().id];if(!n)return;n=n.get(i.getProperty()),n=oe(Qt,i,{name:n.name,scope:i.expression.scope,thedef:n});return n.reference({}),n}return i instanceof Tt&&!yi[i.operator]?t("expression"):void 0;function t(e){var n=i[e];if(n instanceof Qt&&n.definition().id in f){var t=i.clone();return t[e]=oe(Ht,n,{properties:[]}),t}}})))}),(I=function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})(bn,fn),I(In,cn),I(Ft,function(e,n){n=$e(this.elements,e,n,Me);return n?n===this.elements&&vn(n,function(e){return e instanceof St})?this:V(this,n.map(Fe)):null}),I(Yn,cn),I($t,function(e){var n=this.left;if(n instanceof xt){var t=n.expression;if(t instanceof $t&&"="==t.operator&&!t.may_throw_on_access(e)&&(t.write_only="p"),e.has_directive("use strict")&&t.is_constant())return this}return n.has_side_effects(e)?this:(this.write_only=!0,se(n).is_constant_expression(e.find_parent(Nn))?this.right.drop_side_effect_free(e):this)}),I(Vn,cn),I(Wn,cn),I(Mt,function(e){if(!e.option("awaits"))return this;var n=this.expression.drop_side_effect_free(e);if(n===this.expression)return this;e=this.clone();return e.expression=n||oe(ti,this,{value:0}),e}),I(At,function(e,n){if("in"==this.operator&&!Je(this.right))return(t=this.left.drop_side_effect_free(e,n))===this.left?this:((i=this.clone()).left=t||oe(ti,this.left,{value:0}),i);var t,i,r=this.right.drop_side_effect_free(e,n);return r?!le[this.operator]||r instanceof Jn?(t=this.left.drop_side_effect_free(e,n))?V(this,[t,r.drop_side_effect_free(e)]):r:(r!==(i=this).right&&((i=this.clone()).right=r.drop_side_effect_free(e)),(n?C:K)(i,oe(At,this,{operator:"&&"==i.operator?"||":"&&",left:i.left.negate(e,n),right:i.right}))):this.left.drop_side_effect_free(e,n)}),I(bt,function(t,e){var n=this;if(n.is_expr_pure(t)){n.pure&&bn.warn("Dropping __PURE__ call [{file}:{line},{col}]",n.start);var i=$e(n.args,t,e,Me);return i&&V(n,i.map(Fe))}var r=n.expression;if(n.is_call_pure(t))return(o=n.args.slice()).unshift(r.expression),(o=$e(o,t,e,Me))&&V(n,o.map(Fe));if(r instanceof Jn&&!(r.name&&(a=r.name.definition()).references.length>a.replaced)&&(r.process_expression(!1,function(e){var n=e.value&&e.value.drop_side_effect_free(t,!0);return n?oe(En,e,{body:n}):oe(kn,e)}),Te(r,function(e){e.value&&(e.value=e.value.drop_side_effect_free(t))}),(n=n.clone()).expression=r.clone()),n instanceof yt){i=r;if((i=i instanceof Qt?i.fixed_value():i)instanceof Pn){i.new=!0;var o,a=vn(i.body,function(e){return!e.has_side_effects(t)});if(delete i.new,a)return(o=n.args.slice()).unshift(r),(o=$e(o,t,e,Me))&&V(n,o.map(Fe));if(!i.contains_this())return oe(bt,n,n)}}return n}),I(zt,function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie8")&&(n=[],i instanceof Jn&&(n.push(i),i=null),r instanceof Jn&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=oe(At,this,{operator:"&&",left:this.condition,right:i}):t=r?oe(At,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),e.option("ie8")?(t&&n.push(t),0==n.length?null:V(this,n)):t)}),I(ei,cn),I(kt,function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)}),I(Jn,function(e){return ze(this,e)?null:this}),I(Ht,function(e,n){var t=[];this.properties.forEach(function(e){e instanceof St?t.push(e):(e.key instanceof bn&&t.push(e.key),t.push(e.value))});n=$e(t,e,n,function(e,n,t){var i=e.expression;return he(i)?e:i.drop_side_effect_free(n,t)});return n?n!==t||vn(n,function(e){return!(e instanceof St)})?V(this,n.map(function(e){return e instanceof St?oe(Ht,e,{properties:[e]}):e})):this:null}),I(wt,function(e,n){var t=$e(this.expressions,e,n);if(!t)return null;var i,r,o,a=t.length-1,n=t[a];return e.option("awaits")&&0<a&&n instanceof Mt&&n.expression.is_constant()&&(t=t.slice(0,-1),a--,n.expression=t[a],t[a]=n),e.option("conditionals")&&0<a&&(i=t[a-1])instanceof $t&&"="==i.operator&&(o=i.left)instanceof Qt&&(r=Be(e,o.definition(),i.right,n))&&((i=i.clone()).right=r,(t=t.slice(0,-2)).push(i)),t===this.expressions?this:V(this,t)}),I(Et,function(e,n){if(this.expression.may_throw_on_access(e))return this;var t=this.expression.drop_side_effect_free(e,n);if(!t)return this.property.drop_side_effect_free(e,n);e=this.property.drop_side_effect_free(e);return e?V(this,[t,e]):t}),I(Qt,function(e){return this.is_declared(e)&&re(this)?null:this}),I(Zt,cn),I(Tt,function(e,n){var t=this.expression;if(yi[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Qt&&re(t))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&X(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i}),e(En,function(e,n){if(n.option("side_effects")){var t=e.body,n=t.drop_side_effect_free(n,!0);if(!n)return bn.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),oe(kn,e);if(n!==t)return oe(En,e,{body:n})}return e}),e(Fn,function(e,n){return n.option("loops")?oe(jn,e,e).optimize(n):e}),e(Mn,function(t,e){if(!e.option("loops"))return t;var n=t.condition.is_truthy()||t.condition.evaluate(e,!0);if(!(n instanceof bn)){if(n&&!je(t,e.parent(),rt))return oe(jn,t,{body:oe(On,t.body,{body:[t.body,oe(En,t.condition,{body:t.condition})]})}).optimize(e);if(!je(t,e.parent()))return oe(On,t.body,{body:[t.body,oe(En,t.condition,{body:t.condition})]}).optimize(e)}if(t.body instanceof On&&!je(t,e.parent(),rt)){for(var i=t.body.body,r=i.length;0<=--r;){var o=i[r];if(o instanceof ot&&!o.alternative&&o.body instanceof it&&e.loopcontrol_target(o.body)===t){if(a(o.condition))break;t.condition=oe(At,t,{operator:"&&",left:o.condition.negate(e),right:t.condition}),i.splice(r,1)}else if(o instanceof En){if(a(o.body))break;t.condition=V(t,[o.body,t.condition]),i.splice(r,1)}else if(!z(o))break}t.body=xe(t.body)}return t.body instanceof kn?oe(jn,t,t).optimize(e):t.body instanceof En?oe(jn,t,{condition:V(t.condition,[t.body.body,t.condition]),body:oe(kn,t)}).optimize(e):t;function a(e){var n=!1;return e.walk(new di(function(e){return!!n||(e instanceof Qt?(tn(e.definition(),t.enclosed)||(n=!0),!0):void 0)})),n}}),e(jn,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t,i=e.condition.evaluate(n);if(i instanceof bn?i=e.condition.is_truthy()||e.condition.evaluate(n,!0):i?e.condition=null:n.option("dead_code")||(t=e.condition,e.condition=W(i,e.condition),e.condition=K(e.condition.transform(n),t)),i)!e.condition||i instanceof bn||(e.body=oe(On,e.body,{body:[oe(En,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){i=[];return e.init instanceof yn?i.push(e.init):e.init&&i.push(oe(En,e.init,{body:e.init})),i.push(oe(En,e.condition,{body:e.condition})),M(n,e.body,i),oe(On,e,{body:i}).optimize(n)}}return function n(t,i){var e=a(t.body);if(i.option("dead_code")&&(e instanceof it||e instanceof rt&&s(e)||e instanceof Zn)){var r=[];t.init instanceof yn?r.push(t.init):t.init&&r.push(oe(En,t.init,{body:t.init}));var o=s(e)||e instanceof Zn;return t.condition&&o?r.push(oe(ot,t,{condition:t.condition,body:e,alternative:null})):t.condition?r.push(oe(En,t.condition,{body:t.condition})):o&&r.push(e),M(i,t.body,r),oe(On,t,{body:r})}if(e instanceof ot){if((o=a(e.body))instanceof it&&!s(o))return t.condition?t.condition=oe(At,t.condition,{left:t.condition,operator:"&&",right:e.condition.negate(i)}):t.condition=e.condition.negate(i),r=S(e.alternative),M(i,e.body,r),f(r);if((o=a(e.alternative))instanceof it&&!s(o))return t.condition?t.condition=oe(At,t.condition,{left:t.condition,operator:"&&",right:e.condition}):t.condition=e.condition,r=S(e.body),M(i,e.alternative,r),f(r)}return t;function a(e){return e instanceof On?e.body[0]:e}function s(e){return i.loopcontrol_target(e)!==i.self()}function f(e){return t.body instanceof On?(t.body=t.body.clone(),t.body.body=e.concat(t.body.body.slice(1)),t.body=t.body.transform(i)):t.body=oe(On,t.body,{body:e}).transform(i),n(t,i)}}(e,n)}),e(qn,function(e,n){var t;return n.option("varify")&&(e.init instanceof ht||e.init instanceof vt)&&(((t=e.init.definitions[0].name)instanceof jt||t instanceof Vt)&&!t.match_symbol(function(e){if(e instanceof Yt)return He(n,e.definition())},!0)&&(e.init=Pe(e.init))),e}),e(ot,function(e,f){if(G(e.alternative)&&(e.alternative=null),!f.option("conditionals"))return e;var n=e.condition.evaluate(f);if(f.option("dead_code")||n instanceof bn||(c=e.condition,e.condition=W(n,c),e.condition=K(e.condition.transform(f),c)),f.option("dead_code")){if(!(n=n instanceof bn?e.condition.is_truthy()||e.condition.evaluate(f,!0):n)){bn.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var t=[oe(En,e.condition,{body:e.condition})];return M(f,e.body,t),e.alternative&&t.push(e.alternative),oe(On,e,{body:t}).optimize(f)}if(!(n instanceof bn)){bn.warn("Condition always true [{file}:{line},{col}]",e.condition.start);t=[oe(En,e.condition,{body:e.condition}),e.body];return e.alternative&&M(f,e.alternative,t),oe(On,e,{body:t}).optimize(f)}}var i=e.condition.negate(f),r=e.condition.print_to_string().length,o=i.print_to_string().length,a=o<r;e.alternative&&a&&(a=!1,e.condition=i,u=e.body,e.body=e.alternative||oe(kn,e),e.alternative=u);var t=[],s=[],c=[],n=p(e.body,t,s,c),u=p(e.alternative,t,s,c);if(n&&u)return 0<s.length&&t.push(oe(mt,e,{definitions:s})),0==n.length?t.push(oe(En,e.condition,{body:0<u.length?oe(At,e,{operator:"||",left:e.condition,right:V(e.alternative,u)}).transform(f):e.condition.clone()}).optimize(f)):0==u.length?(r===o&&!a&&e.condition instanceof At&&"||"==e.condition.operator&&(a=!0),t.push(oe(En,e,{body:oe(At,e,{operator:a?"||":"&&",left:a?i:e.condition,right:V(e.body,n)}).transform(f)}).optimize(f))):t.push(oe(En,e,{body:oe(zt,e,{condition:e.condition,consequent:V(e.body,n),alternative:V(e.alternative,u)})}).optimize(f)),c.forEach(function(e){e.definition().references.push(e)}),oe(On,e,{body:t}).optimize(f);if((e=G(e.body)?oe(ot,e,{condition:i,body:e.alternative,alternative:null}):e).body instanceof Zn&&e.alternative instanceof Zn&&e.body.TYPE==e.alternative.TYPE){var l=oe(e.body.CTOR,e,{value:oe(zt,e,{condition:e.condition,consequent:e.body.value||oe(si,e.body).transform(f),alternative:e.alternative.value||oe(si,e.alternative).transform(f)})});return l instanceof et&&(l.in_bool=e.body.in_bool||e.alternative.in_bool),l}if(e.body instanceof ot&&!e.body.alternative&&!e.alternative&&(e=oe(ot,e,{condition:oe(At,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),be(e.body)&&e.alternative){l=e.alternative;return e.alternative=null,oe(On,e,{body:[e,l]}).optimize(f)}if(be(e.alternative)){t=e.body;return e.body=e.alternative,e.condition=a?i:e.condition.negate(f),e.alternative=null,oe(On,e,{body:[e,t]}).optimize(f)}return f.option("typeofs")&&qe(e.condition,e.body,e.alternative),e;function p(e,n,t,i){if(null==e)return[];if(e instanceof On){for(var r=[],o=0;o<e.body.length;o++){var a=e.body[o];if(Gn(a))n.push(a);else if(!(a instanceof kn))if(a instanceof En){if(!f.option("sequences")&&0<r.length)return;r.push(a.body)}else{if(!(a instanceof mt))return;if(!f.option("sequences")&&0<r.length)return;a.remove_initializers(f,t),a.definitions.forEach(s)}}return r}if(Gn(e))return n.push(e),[];if(e instanceof kn)return[];if(e instanceof En)return[e.body];if(e instanceof mt){r=[];return e.remove_initializers(f,t),e.definitions.forEach(s),r}function s(e){e.value&&r.push(oe($t,e,{operator:"=",left:e.name.convert_symbol(Qt,function(e){i.push(e)}),right:e.value}))}}}),e(at,function(i,t){if(!t.option("switches"))return i;var e,n,r=i.expression.evaluate(t);if(r instanceof bn||(n=i.expression,i.expression=W(r,n),i.expression=K(i.expression.transform(t),n)),!t.option("dead_code"))return i;r instanceof bn&&(r=i.expression.evaluate(t,!0));for(var o,a,s,f=[],c=[],u=0,l=i.body.length;u<l&&!s;u++){if((e=i.body[u])instanceof ft){var p=c[c.length-1];if(o||_(e.body[0],t)&&(!p||be(p))){b(e,p);continue}o=e}else if(!(r instanceof bn)){if(!((d=e.expression.evaluate(t))instanceof bn)&&d!==r){b(e,c[c.length-1]);continue}(d=d instanceof bn?e.expression.evaluate(t,!0):d)===r&&(s=e,o&&(a=c.indexOf(o),c.splice(a,1),b(o,c[a-1]),o=null))}be(e)&&be(p=c[c.length-1])&&p.body.length==e.body.length&&oe(On,p,p).equivalent_to(oe(On,e,e))&&(p.body=[]),c.push(e)}for(;u<l;)b(i.body[u++],c[c.length-1]);for(;e=c[c.length-1];){if(_(e.body[e.body.length-1],t)&&e.body.pop(),e===o){if(!T(e))break}else{if(e.expression.has_side_effects(t))break;if(o){if(!T(o))break;if(c[c.length-2]!==o)break;o.body=o.body.concat(e.body),e.body=[]}else if(!T(e))break}b(e),c.pop()===o&&(o=null)}if(0==c.length)return oe(On,i,{body:f.concat(oe(En,i.expression,{body:i.expression}))}).optimize(t);if(c[0].body=f.concat(c[0].body),i.body=c,t.option("conditionals"))switch(c.length){case 1:if(!g(c[0]))break;var d=c[0].expression,h=c[0].body.slice();return c[0]!==o&&c[0]!==s?oe(ot,i,{condition:oe(At,i,{operator:"===",left:i.expression,right:d}),body:oe(On,i,{body:h}),alternative:null}).optimize(t):(d&&h.unshift(oe(En,d,{body:d})),h.unshift(oe(En,i.expression,{body:i.expression})),oe(On,i,{body:h}).optimize(t));case 2:if(!tn(o,c)||!g(c[1]))break;var v=(h=c[0].body.slice()).length&&_(h[h.length-1],t);if(v&&h.pop(),!vn(h,g))break;var m=c[1].body.length&&oe(On,c[1],c[1]),h=oe(ot,i,{condition:oe(At,i,c[0]===o?{operator:"!==",left:i.expression,right:c[1].expression}:{operator:"===",left:i.expression,right:c[0].expression}),body:oe(On,c[0],{body:h}),alternative:v&&m||null});return(h=!v&&m?oe(On,i,{body:[h,m]}):h).optimize(t)}return i;function _(e,n){return e instanceof it&&n.loopcontrol_target(e)===i}function g(e){var n=!1,t=new di(function(e){if(n||e instanceof Pn||e instanceof En)return!0;_(e,t)&&(n=!0)});return t.push(i),e.walk(t),!n}function b(e,n){n&&!be(n)?n.body=n.body.concat(e.body):M(t,e,f)}}),e(ut,function(e,n){if(e.body=$(e.body,n),n.option("dead_code")){if(T(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol(function(e){return e instanceof Kt&&!re(e)},!0))){var t=[];return e.bcatch&&(M(n,e.bcatch,t),t.forEach(function(e){e instanceof mt&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),t.unshift(oe(On,e,e).optimize(n)),e.bfinally&&t.push(oe(On,e.bfinally,e.bfinally).optimize(n)),oe(On,e,{body:t}).optimize(n)}if(e.bfinally&&T(e.bfinally)){t=oe(On,e.bfinally,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return oe(On,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e}),ht.DEFMETHOD("remove_initializers",Ce(function(e,n){return oe(si,n).optimize(e)})),vt.DEFMETHOD("remove_initializers",Ce(cn)),mt.DEFMETHOD("remove_initializers",Ce(cn)),dt.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){var t,i=n.name.definition();return n.value&&(t=oe(Qt,n.name,n.name),e.push(oe($t,n,{operator:"=",left:t,right:n.value})),i.references.push(t)),i.eliminated++,i.single_use=!1,e},[]);return 0==e.length?null:V(this,e)}),e(ht,Ie),e(vt,Ie),e(bt,function(l,f){var a=l.expression;if(f.option("sequences"))if(a instanceof xt){if((k=Re(a))!==a){var e=l.clone();return e.expression=k.expressions.pop(),k.expressions.push(e),k.optimize(f)}}else if(!J(0,a.tail_node()))if((k=Re(l))!==l)return k.optimize(f);if(f.option("unused")&&Ue(l,f),f.option("unsafe"))if(fe(a))switch(a.name){case"Array":if(1==l.args.length){if((s=l.args[0])instanceof ti)try{var n=s.value;if(6<n)break;for(var t=Array(n),i=0;i<n;i++)t[i]=oe(fi,l);return oe(Ft,l,{elements:t})}catch(e){bn.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:n,file:l.start.file,line:l.start.line,col:l.start.col});break}if(!s.is_boolean(f)&&!s.is_string(f))break}return oe(Ft,l,{elements:l.args});case"Object":if(0==l.args.length)return oe(Ht,l,{properties:[]});break;case"String":if(0==l.args.length)return oe(ni,l,{value:""});if(1==l.args.length)return oe(At,l,{operator:"+",left:oe(ni,l,{value:""}),right:l.args[0]}).optimize(f);break;case"Number":if(0==l.args.length)return oe(ti,l,{value:0});if(1==l.args.length)return oe(Dt,l,{operator:"+",expression:oe(At,l,{operator:"+",left:oe(ni,l,{value:""}),right:l.args[0]})}).optimize(f);break;case"Boolean":if(0==l.args.length)return oe(li,l).optimize(f);if(1==l.args.length)return oe(Dt,l,{operator:"!",expression:oe(Dt,l,{operator:"!",expression:l.args[0]})}).optimize(f);break;case"RegExp":var r=[];if(vn(l.args,function(e){var n=e.evaluate(f);return r.unshift(n),e!==n}))try{return Q(f,l,oe(ri,l,{value:RegExp.apply(RegExp,r)}))}catch(e){bn.warn("Error converting {expr} [{file}:{line},{col}]",{expr:l,file:l.start.file,line:l.start.line,col:l.start.col})}}else if(a instanceof kt)switch(a.property){case"toString":if(0==l.args.length&&!a.expression.may_throw_on_access(f))return oe(At,l,{operator:"+",left:oe(ni,l,{value:""}),right:a.expression}).optimize(f);break;case"join":if(a.expression instanceof Ft&&l.args.length<2){var o=l.args[0];if(0==a.expression.elements.length)return o?V(l,[o,oe(ni,l,{value:""})]).optimize(f):oe(ni,l,{value:""});if(!(o&&(o=o.evaluate(f))instanceof bn)){var s,t=[],c=[];return(a.expression.elements.forEach(function(e){var n=e.evaluate(f);n!==e?c.push(n):(0<c.length&&(t.push(oe(ni,l,{value:c.join(o)})),c.length=0),t.push(e))}),0<c.length&&t.push(oe(ni,l,{value:c.join(o)})),1==t.length)?t[0].is_string(f)?t[0]:oe(At,t[0],{operator:"+",left:oe(ni,l,{value:""}),right:t[0]}):""==o?(s=t[0].is_string(f)||t[1].is_string(f)?t.shift():oe(ni,l,{value:""}),t.reduce(function(e,n){return oe(At,n,{operator:"+",left:e,right:n})},s).optimize(f)):((j=l.clone()).expression=j.expression.clone(),j.expression.expression=j.expression.expression.clone(),j.expression.expression.elements=t,Q(f,l,j))}}break;case"charAt":if(l.args.length<2)return(j=oe(Et,l,{expression:a.expression,property:l.args.length?oe(At,l.args[0],{operator:"|",left:oe(ti,l,{value:0}),right:l.args[0]}):oe(ti,l,{value:0})})).is_string=sn,j.optimize(f);break;case"apply":if(2==l.args.length&&l.args[1]instanceof Ft)return(M=l.args[1].elements.slice()).unshift(l.args[0]),oe(bt,l,{expression:oe(kt,a,{expression:a.expression,property:"call"}),args:M}).optimize(f);break;case"call":var u=a.expression;if((u=u instanceof Qt?u.fixed_value():u)instanceof Pn&&!u.contains_this())return(l.args.length?V(this,[l.args[0],oe(bt,l,{expression:a.expression,args:l.args.slice(1)})]):oe(bt,l,{expression:a.expression,args:[]})).optimize(f)}if(f.option("unsafe_Function")&&fe(a)&&"Function"==a.name){if(0==l.args.length)return oe(Jn,l,{argnames:[],body:[]}).init_vars(a.scope);if(vn(l.args,function(e){return e instanceof ni}))try{var p=bi(m="n(function("+l.args.slice(0,-1).map(function(e){return e.value}).join()+"){"+l.args[l.args.length-1].value+"})"),d={ie8:f.option("ie8")};p.figure_out_scope(d);var h,v=new wi(f.options);(p=p.transform(v)).figure_out_scope(d),p.compute_char_frequency(d),p.mangle_names(d),p.walk(new di(function(e){return!!h||(e instanceof Pn?(h=e,!0):void 0)}));var m=xi();return On.prototype._codegen.call(h,m),l.args=[oe(ni,l,{value:h.argnames.map(function(e){return e.print_to_string()}).join()}),oe(ni,l.args[l.args.length-1],{value:m.get().replace(/^\{|\}$/g,"")})],l}catch(e){if(!(e instanceof mi))throw e;bn.warn("Error parsing code passed to new Function [{file}:{line},{col}]",l.args[l.args.length-1].start),bn.warn(e.toString())}}var _=a instanceof Qt?a.fixed_value():a,g=_ instanceof Pn&&(!Ln(_)||f.option("awaits")&&f.parent()instanceof Mt),b=g&&_.first_statement(),y=0,w=!1,x=!vn(l.args,function(e){return!(e instanceof St)}),e=g&&vn(_.argnames,function(e,n){if(1==y&&l.args[n]instanceof St&&(y=2),e instanceof gt){n=1==(y=y||1)&&l.args[n];if(n&&!ue(n)&&(y=2),C(e.value))return;e=e.name}return!(e instanceof jt&&(w=!0,C(e)))}),k=e&&f.option("inline")&&!l.is_expr_pure(f);if(k&&b instanceof et){var E=b.value;if(a===_&&(!E||E.is_constant_expression()&&P(E)))return V(l,H(E)).optimize(f)}if(g){var S,T=!1;if(k&&!_.uses_arguments&&!_.pinned()&&(!_.name||!Un(_))&&(a===_||!Xe(f,S=a.definition())&&_.is_constant_expression(L(f)))&&!x&&(E=function(e){var n=_.body.length;if(n<2&&(e=I(e)))return e;if(f.option("inline")<3)return!1;e=null;for(var t=0;t<n;t++){var i=_.body[t];if(i instanceof mt){var r=T||!vn(i.definitions,function(e){return!e.value});if(r&&(T=!0,e))return!1}else if(!(i instanceof Xn||i instanceof Kn||i instanceof kn)){if(e)return!1;e=i}}return I(e)}(b))&&!_.contains_this()){var D,O,A,z,$=a===_||S.single_use&&S.references.length-S.replaced==1;if(function(){if(y||w||T||_.rest)return;if(f.option("inline")<2&&_.argnames.length)return;if(!_.variables.all(function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Jt}))return;var i,r=!1,o=[],a=!1,s=!0;if(E.walk(new di(function(e,n){if(r)return!0;if(!(e instanceof At&&le[e.operator]||e instanceof zt)){if(e instanceof Nn)return r=!0;if(s&&e instanceof Bt&&"await"==e.name){if(Ln(f.find_parent(Nn)))return r=!0;s=!1}if(e instanceof Qt){var t=e.definition();if(_.variables.get(e.name)!==t)return void(o=null);if(Gn(t.init))return r=!0;if(pe(e,this.parent()))return r=!0;t=R(t);return(i<t||(i=t),o)?void(a?o=null:o.push(_.argnames[t])):void 0}return e.has_side_effects(f)?(n(),a=!0):void 0}o=null})),r)return;var e=l.args.length;if(o&&_.argnames.length>=e){for(e=_.argnames.length;e-- >i&&_.argnames[e]===o.pop(););e++}var n=a&&!o&&f.find_parent(Nn);return e<=i||vn(l.args.slice(i,e),n?function(e){return e.is_constant_expression(n)}:function(e){return!e.has_side_effects(f)})}()){var M=l.args.slice(),F=[];M.push(E.clone(!0).transform(new hi(function(e){if(e instanceof Qt){var n=e.definition();if(_.variables.get(e.name)!==n)return F.push(e),e;var t=R(n),n=M[t];if(!n)return oe(si,l);M[t]=null;t=this.parent();return t?ae(0,t,e,n):n}})));var j=V(l,M.filter(function(e){return e})).optimize(f);if(j=ae(0,f.parent(),f.self(),j),$||K(j,l)===j)return F.forEach(function(e){var n=e.definition();n.references.push(e),$?n.replaced++:n.single_use=!1}),j}if($&&function(){var e,n=Object.create(null),t=0;z=f.self();do{if(z.variables&&z.variables.each(function(e){n[e.name]=!0}),e=z,(z=f.parent(t++))instanceof $n)A=[];else if(z instanceof jn)z.init!==e&&(A=[]);else if(z instanceof qn)z.init!==e&&z.object!==e&&(A=[]);else if(z instanceof Qt&&z.fixed_value()instanceof Nn)return!1}while(!(z instanceof Nn));if(!(O=z.body.indexOf(e)+1))return!1;if(!P(_))return!1;var i=a!==_||_.parent_scope.resolve()===z;z instanceof Hn&&(f.toplevel.vars?n.arguments=!0:i=!1);var r=f.option("inline");if(D=Object.create(n),!function(n,t,i){var r=!1;return _.each_argname(function(e){if(!r&&!e.__unused){if(e instanceof gt&&(e=e.name),!i||U(n,e.name))return r=!0;t[e.name]=!0,A&&A.push(e.definition())}}),!r}(n,D,2<=r&&i))return!1;var o=Object.create(D);return!!function(n,e,t){for(var i=0;i<_.body.length;i++){var r=_.body[i];if(Gn(r)){if(!t||U(e,r.name.name))return!1;if(!vn(r.enclosed,function(e){return e.scope===r||!n[e.name]}))return!1}else if(r instanceof mt){if(!t)return!1;for(var o=r.definitions.length;0<=--o;){var a=r.definitions[o].name;if(U(n,a.name))return!1;A&&A.push(a.definition())}}}return!0}(n,o,3<=r&&i)&&(!A||0==A.length||!Qe(_,A))}()){_._squeezed=!0,a!==_&&(_.parent_scope=a.scope);j=V(l,function(){var e=[],n=[];(1<y||w||_.rest?function(i,r){function n(e,n){var t=oe(Wt,n,n);n.definition().orig.push(t),B(i,r,t)}r.push(oe($t,l,{operator:"=",left:oe(qt,l,{elements:_.argnames.map(function(e){return e.convert_symbol(Qt,n)}),rest:_.rest&&_.rest.convert_symbol(Qt,n)}),right:oe(Ft,l,{elements:l.args.slice()})}))}:function(e,n){for(var t=_.argnames.length,i=l.args.length;--i>=t;)n.push(l.args[i]);var r,o=[];for(i=t;0<=--i;){var a=_.argnames[i];r=a instanceof gt?(o.push(a),a.name):a;var s,f=l.args[i];r.__unused||z.var_names()[r.name]?f&&n.push(f):(s=oe(Wt,r,r),r.definition().orig.push(s),"__unused"in r?(B(e,n,s),f&&n.push(f)):(!f&&A&&a===r&&(f=oe(si,l)),B(e,n,s,f)))}for(e.reverse(),n.reverse(),i=o.length;0<=--i;){var c,u=o[i];"__unused"in u.name?n.push(u.value):(c=oe(Qt,u.name,u.name),u.name.definition().references.push(c),n.push(oe($t,u,{operator:"=",left:c,right:u.value})))}})(e,n);(function(e,n){for(var t=n.length,i=0;i<_.body.length;i++){var r=_.body[i];if(r instanceof mt)for(var o=0;o<r.definitions.length;o++){var a,s=r.definitions[o],f=s.name,c=f.definition().redefined();c&&((f=f.clone()).thedef=c),B(e,n,f,s.value),A&&!_n(D,f.name)&&(a=_.variables.get(f.name),c=oe(Qt,f,f),a.references.push(c),n.splice(t++,0,oe($t,s,{operator:"=",left:c,right:oe(si,f)})))}}})(e,n),n.push(E);var t=_.body.filter(function(e){if(Gn(e)){e=e.name.definition();return z.functions.set(e.name,e),z.variables.set(e.name,e),z.enclosed.push(e),z.var_names()[e.name]=!0}});t.unshift(O,0),e.length&&t.push(oe(mt,_,{definitions:e}));return[].splice.apply(z.body,t),_.enclosed.forEach(function(e){z.var_names()[e.name]||(z.enclosed.push(e),z.var_names()[e.name]=!0)}),n}()).optimize(f);return ae(0,f.parent(),f.self(),j)}}if(f.option("side_effects")&&e&&vn(_.body,G)&&(_===a?ze(_,f):!y&&!w&&!_.rest)&&(!Rn(_)||!_.value))return V(l,H()).optimize(f)}if(f.option("drop_console")&&a instanceof xt){for(var q=a.expression;q.expression;)q=q.expression;if(fe(q)&&"console"==q.name)return oe(si,l).optimize(f)}return f.option("negate_iife")&&f.parent()instanceof En&&X(l)?l.negate(f,!0):Z(f,l);function C(e){var n=!1;return e.walk(new di(function(e){return!!n||(e instanceof Qt&&_.variables.get(e.name)===e.definition()?n=!0:void 0)})),n}function N(e){return oe(Et,e,{expression:oe(ti,e,{value:0}),property:oe(ti,e,{value:0})})}function H(e){var a,t,n=l.args.slice(),i=1<y||w||_.rest;return(i||x)&&(n=[oe(Ft,l,{elements:n})]),i?(a=new hi(function(i,e){if(i instanceof gt)return oe(gt,i,{name:i.name.transform(a)||N(i),value:i.value});if(i instanceof qt){var t=[];return i.elements.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),Se(i,t),oe(qt,i,{elements:t})}if(i instanceof Nt){var r=[],o=[];return i.properties.forEach(function(e){var n=e.key,t=e.value.transform(a);t?(o.push(n instanceof bn?n:W(n,e)),r.push(oe(Ct,e,{key:V(i,o),value:t})),o=[]):n instanceof bn&&o.push(n)}),o.length&&r.push(oe(Ct,i,{key:V(i,o),value:N(i)})),oe(Nt,i,{properties:r})}return i instanceof Jt?null:void 0}),t=[],_.argnames.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),(i=_.rest&&_.rest.transform(a))&&(t.length=_.argnames.length),Se(_,t),n[0]=oe($t,l,{operator:"=",left:oe(qt,_,{elements:t,rest:i}),right:n[0]})):_.argnames.forEach(function(e){e instanceof gt&&n.push(e.value)}),n.push(e||oe(si,l)),n}function P(e){if(!Ln(z||f.find_parent(Nn)))return 1;var t=!0,i=new di(function(e){if(!t)return!0;if(e instanceof Nn){if(e===_)return;if(Rn(e))for(var n=0;t&&n<e.argnames.length;n++)e.argnames[n].walk(i);else Gn(e)&&"await"==e.name.name&&(t=!1);return!0}e instanceof Bt&&"await"==e.name&&e!==_.name&&(t=!1)});return e.walk(i),t}function I(e){return e?e instanceof et?e.value||oe(si,l):e instanceof En?oe(Dt,e,{operator:"void",expression:e.body}):void 0:oe(si,l)}function R(e){for(var n=_.argnames.length;0<=--n;)if(_.argnames[n].definition()===e)return n}function U(e,n){return e[n]||ce[n]||z.var_names()[n]}function B(e,n,t,i){var r=t.definition();z.variables.set(t.name,r),z.enclosed.push(r),z.var_names()[t.name]||(z.var_names()[t.name]=!0,e.push(oe(_t,t,{name:t,value:null}))),i&&(t=oe(Qt,t,t),r.references.push(t),n.push(oe($t,l,{operator:"=",left:t,right:i})))}}),e(yt,function(e,n){if(n.option("sequences")){var t=Re(e);if(t!==e)return t.optimize(n)}if(n.option("unsafe")){t=e.expression;if(fe(t))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return oe(bt,e,e).transform(n)}}return e}),e(wt,function(e,o){var i=function(){if(!o.option("side_effects"))return e.expressions;var t=[],i=gn(o),r=e.expressions.length-1;return e.expressions.forEach(function(e,n){(e=n<r?e.drop_side_effect_free(o,i):e)&&(E(t,e),i=!1)}),t}(),r=i.length-1;return function(){if(o.option("conditionals"))for(var e=1;e<r;e++){var n,t=i[e-1];t instanceof $t&&"="==t.operator&&t.left instanceof Qt&&(n=t.left.definition(),(n=Be(o,n,t.right,i[e]))&&(t.right=n,i.splice(e,1),r--))}}(),function(){if(o.option("side_effects")){for(;0<r&&ue(i[r],o);)r--;r<i.length-1&&(i[r]=oe(Dt,e,{operator:"void",expression:i[r]}),i.length=r+1)}}(),0==r?(e=ae(0,o.parent(),o.self(),i[0]))instanceof wt?e:e.optimize(o):(e.expressions=i,e)}),e(Ot,function(e,n){if(n.option("sequences")){var t=Re(e);if(t!==e)return t.optimize(n)}return Z(n,e)});var Ye=hn("+ -"),Le=hn("* / %");e(Dt,function(e,n){var t=e.operator,i=e.expression;if(n.option("evaluate")&&"delete"==t&&!(i instanceof Qt||i instanceof xt||((r=i)instanceof ci||r instanceof ai||r instanceof si)))return i instanceof wt?((i=i.expressions.slice()).push(oe(pi,e)),V(e,i).optimize(n)):V(e,[i,oe(pi,e)]).optimize(n);if(n.option("sequences")&&("typeof"!=t||!fe(i.tail_node()))){var r=Re(e);if(r!==e)return r.optimize(n)}if(n.option("side_effects")&&"void"==t)return(i=i.drop_side_effect_free(n))?(e.expression=i,e):oe(si,e).optimize(n);if(n.option("booleans")){if("!"==t&&i.is_truthy())return V(e,[i,oe(li,e)]).optimize(n);if(n.in_boolean_context())switch(t){case"!":if(i instanceof Dt&&"!"==i.operator)return i.expression;i instanceof At&&(e=Q(n,e,i.negate(n,gn(n))));break;case"typeof":bn.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var o=[oe(pi,e)];return i instanceof Qt&&re(i)||o.unshift(i),V(e,o).optimize(n)}}return"-"==t&&i instanceof ci&&(i=i.transform(n)),n.option("evaluate")&&i instanceof At&&Ye[t]&&Le[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?oe(At,e,{operator:i.operator,left:oe(Dt,i.left,{operator:t,expression:i.left}),right:i.right}):"-"==t&&(i instanceof ti||i instanceof ci)?e:Z(n,e)}),e(Mt,function(e,n){if(!n.option("awaits"))return e;if(n.option("sequences")){var t=Re(e);if(t!==e)return t.optimize(n)}if(n.option("side_effects")){n=e.expression;if(n instanceof Mt)return n;if(n instanceof Dt){if(n.expression instanceof Mt)return n;if("void"==n.operator)return oe(Dt,e,{operator:"void",expression:oe(Mt,e,{expression:n.expression})})}}return e}),At.DEFMETHOD("lift_sequences",function(e){if(this.left instanceof xt){if(!(this.left.expression instanceof wt))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),V(this,n)}if(this.left instanceof wt){n=this.left.expressions.slice();return(t=this.clone()).left=n.pop(),n.push(t),V(this,n)}if(this.right instanceof wt){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Qt,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),V(this,n);if(0<o)return(t=this.clone()).right=V(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),V(this,n)}return this});var Ve=hn("indexOf lastIndexOf"),We=hn("== === != !== * & | ^");function Je(e){return e instanceof $t?"="==e.operator&&Je(e.right):e instanceof wt?Je(e.tail_node()):e instanceof Qt?Je(e.fixed_value()):e instanceof Ft||e instanceof Pn||e instanceof yt||e instanceof Ht}function Ge(e,n){return n instanceof kt?Ge(e,n.expression):n instanceof Et?Ge(e,n.expression)&&Ge(e,n.property):n instanceof Bt||!n.has_side_effects(e)}function Xe(e,n){var t=0,i=e.self();do{if(i instanceof Pn&&i.name&&i.name.definition()===n)return i}while(i=e.parent(t++))}function Ke(e,n){return e instanceof Qt||e.TYPE===n.TYPE}function Qe(t,n){var i=!1,r=new di(function(e){return!!i||(e instanceof Qt&&tn(e.definition(),n)?i=!0:void 0)}),o=new di(function(e){if(i)return!0;if(e instanceof Nn&&e!==t){var n=o.parent();if(!(n instanceof bt&&n.expression===e))return e.walk(r),!0}});return t.walk(o),i}e(At,function(t,a){function n(){return t.left.is_constant()||t.right.is_constant()||!t.left.has_side_effects(a)&&!t.right.has_side_effects(a)}function e(e){n()&&(e&&(t.operator=e),e=t.left,t.left=t.right,t.right=e)}function i(){var e=t.right;t.left=oe(At,t,{operator:t.operator,left:t.left,right:e.left,start:t.left.start,end:e.left.end}),t.right=e.right,t.left=t.left.transform(a)}if(!We[t.operator]||!t.right.is_constant()||t.left.is_constant()||t.left instanceof At&&gi[t.left.operator]>=gi[t.operator]||e(),a.option("sequences")){var r=t.lift_sequences(a);if(r!==t)return r.optimize(a)}if(a.option("assignments")&&le[t.operator]){var o=t.right;if(t.left instanceof Qt&&o instanceof $t&&"="==o.operator&&t.left.equivalent_to(o.left))return t.right=o.right,o.right=t,o}if(a.option("comparisons"))switch(t.operator){case"===":case"!==":if(ue(t.left,a)&&t.right.is_defined(a))return bn.warn("Expression always defined [{file}:{line},{col}]",t.start),V(t,[t.right,oe("==="==t.operator?li:pi,t)]).optimize(a);var s=!0;(t.left.is_string(a)&&t.right.is_string(a)||t.left.is_number(a)&&t.right.is_number(a)||t.left.is_boolean(a)&&t.right.is_boolean(a)||Ge(a,t.left)&&t.left.equivalent_to(t.right))&&(t.operator=t.operator.slice(0,2));case"==":case"!=":if(!s&&ue(t.left,a))t.left=oe(oi,t.left);else if(a.option("typeofs")&&t.left instanceof ni&&"undefined"==t.left.value&&t.right instanceof Dt&&"typeof"==t.right.operator){var f=t.right.expression;(f instanceof Qt?!f.is_declared(a):f instanceof xt&&a.option("ie8"))||(t.right=f,t.left=oe(si,t.left).optimize(a),2==t.operator.length&&(t.operator+="="))}else if(t.left instanceof Qt&&t.right instanceof Qt&&t.left.definition()===t.right.definition()&&Je(t.left))return oe("="==t.operator[0]?pi:li,t).optimize(a);break;case"&&":case"||":if((m=(m=t.left).operator==t.operator?m.right:m)instanceof At&&m.operator==("&&"==t.operator?"!==":"===")&&t.right instanceof At&&m.operator==t.right.operator&&(ue(m.left,a)&&t.right.left instanceof oi||m.left instanceof oi&&ue(t.right.left,a))&&!m.right.has_side_effects(a)&&m.right.equivalent_to(t.right.right)){f=oe(At,t,{operator:m.operator.slice(0,-1),left:oe(oi,t),right:m.right});return f=m!==t.left?oe(At,t,{operator:t.operator,left:t.left.left,right:f}):f}}var c=a.option("booleans")&&a.in_boolean_context();if(c)switch(t.operator){case"+":var u=t.left.evaluate(a),l=t.right.evaluate(a);if(u&&"string"==typeof u)return bn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),V(t,[t.right,oe(pi,t)]).optimize(a);if(l&&"string"==typeof l)return bn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),V(t,[t.left,oe(pi,t)]).optimize(a);break;case"==":if(t.left instanceof ni&&""==t.left.value&&t.right.is_string(a))return oe(Dt,t,{operator:"!",expression:t.right}).optimize(a);break;case"!=":if(t.left instanceof ni&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a)}var p,d,h=a.parent();if(a.option("comparisons")&&t.is_boolean(a)){if(!(h instanceof At)||h instanceof $t){o=Q(a,t,oe(Dt,t,{operator:"!",expression:t.negate(a,gn(a))}));if(o!==t)return o}switch(t.operator){case">":e("<");break;case">=":e("<=")}}if(a.option("conditionals")&&le[t.operator]&&t.right instanceof At&&t.operator==t.right.operator&&i(),a.option("strings")&&"+"==t.operator){if(t.right instanceof ni&&""==t.right.value&&t.left.is_string(a))return t.left.optimize(a);if(t.left instanceof ni&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a);if(t.left instanceof At&&"+"==t.left.operator&&t.left.left instanceof ni&&""==t.left.left.value&&t.right.is_string(a))return t.left=t.left.right,t.optimize(a);t.right instanceof At&&t.operator==t.right.operator&&(t.left.is_string(a)&&t.right.is_string(a)||t.right.left.is_string(a)&&(t.left.is_constant()||!t.right.right.has_side_effects(a)))&&i()}if(a.option("evaluate")){var v,m,_,g=!0;switch(t.operator){case"&&":if(!(u=E(t.left)))return bn.warn("Condition left of && always false [{file}:{line},{col}]",t.start),ae(0,h,a.self(),t.left).optimize(a);if(!(u instanceof bn))return bn.warn("Condition left of && always true [{file}:{line},{col}]",t.start),V(t,[t.left,t.right]).optimize(a);if(l=t.right.evaluate(a)){if(!(l instanceof bn)&&(c||"&&"==h.operator&&h.left===a.self()))return bn.warn("Dropping side-effect-free && [{file}:{line},{col}]",t.start),t.left.optimize(a)}else{if(c)return bn.warn("Boolean && always false [{file}:{line},{col}]",t.start),V(t,[t.left,oe(li,t)]).optimize(a);t.falsy=!0}if("||"==t.left.operator)if(!(v=t.left.right.evaluate(a,!0)))return oe(zt,t,{condition:t.left.left,consequent:t.right,alternative:t.left.right}).optimize(a);break;case"||":if(!(u=E(t.left)))return bn.warn("Condition left of || always false [{file}:{line},{col}]",t.start),V(t,[t.left,t.right]).optimize(a);if(!(u instanceof bn))return bn.warn("Condition left of || always true [{file}:{line},{col}]",t.start),ae(0,h,a.self(),t.left).optimize(a);if(l=t.right.evaluate(a)){if(!(l instanceof bn)){if(c)return bn.warn("Boolean || always true [{file}:{line},{col}]",t.start),V(t,[t.left,oe(pi,t)]).optimize(a);t.truthy=!0}}else if(c||"||"==h.operator&&h.left===a.self())return bn.warn("Dropping side-effect-free || [{file}:{line},{col}]",t.start),t.left.optimize(a);if("&&"==t.left.operator)if((v=t.left.right.is_truthy()||t.left.right.evaluate(a,!0))&&!(v instanceof bn))return oe(zt,t,{condition:t.left.left,consequent:t.left.right,alternative:t.right}).optimize(a);break;case"+":if((t=(t=t.left instanceof ei&&t.right instanceof At&&"+"==t.right.operator&&t.right.left instanceof ei&&t.right.is_string(a)?oe(At,t,{operator:"+",left:oe(ni,t.left,{value:""+t.left.value+t.right.left.value,start:t.left.start,end:t.right.left.end}),right:t.right.right}):t).right instanceof ei&&t.left instanceof At&&"+"==t.left.operator&&t.left.right instanceof ei&&t.left.is_string(a)?oe(At,t,{operator:"+",left:t.left.left,right:oe(ni,t.right,{value:""+t.left.right.value+t.right.value,start:t.left.right.start,end:t.right.end})}):t).right instanceof Dt&&"-"==t.right.operator&&t.left.is_number(a)){t=oe(At,t,{operator:"-",left:t.left,right:t.right.expression});break}if(t.left instanceof Dt&&"-"==t.left.operator&&n()&&t.right.is_number(a)){t=oe(At,t,{operator:"-",left:t.right,right:t.left.expression});break}if(a.option("unsafe_math")&&t.left instanceof At&&gi[t.left.operator]==gi[t.operator]&&t.right.is_constant()&&(t.right.is_boolean(a)||t.right.is_number(a))&&t.left.is_number(a)&&!t.left.right.is_constant()&&(t.left.left.is_boolean(a)||t.left.left.is_number(a))){t=oe(At,t,{operator:t.left.operator,left:oe(At,t,{operator:t.operator,left:t.right,right:t.left.left}),right:t.left.right});break}case"-":if(t.right instanceof Dt&&"-"==t.right.operator&&t.left.is_number(a)&&t.right.expression.is_number(a)){t=oe(At,t,{operator:"+",left:t.left,right:t.right.expression});break}case"*":case"/":g=a.option("unsafe_math"),"+"!=t.operator&&["left","right"].forEach(function(e){var n=t[e];n instanceof Dt&&"+"==n.operator&&(((n=n.expression).is_boolean(a)||n.is_number(a)||n.is_string(a))&&(t[e]=n))});case"&":case"|":case"^":if("-"==t.operator||"/"==t.operator||!t.left.is_boolean(a)&&!t.left.is_number(a)||!t.right.is_boolean(a)&&!t.right.is_number(a)||!n()||t.left instanceof At&&t.left.operator!=t.operator&&gi[t.left.operator]>=gi[t.operator]||(_=oe(At,t,{operator:t.operator,left:t.right,right:t.left}),t=t.right instanceof ei&&!(t.left instanceof ei)?Q(a,_,t):Q(a,t,_)),!g||!t.is_number(a))break;!(t.right instanceof At&&"%"!=t.right.operator&&gi[t.right.operator]==gi[t.operator]&&t.right.is_number(a)&&("+"!=t.operator||t.right.left.is_boolean(a)||t.right.left.is_number(a)))||"-"==t.operator&&t.left.is_negative_zero()||!t.right.left.is_constant_expression()&&t.right.right.has_side_effects(a)||(p=t.right.right,d=!1,p.walk(new di(function(e){if(d)return!0;if(e instanceof $t){if(e.left instanceof xt)return d=!0}else if(e instanceof Tt&&yi[e.operator]&&e.expression instanceof xt)return d=!0})),d)||"+"!=(t=oe(At,t,{operator:x(t.operator,t.right.operator),left:oe(At,t.left,{operator:t.operator,left:t.left,right:t.right.left,start:t.left.start,end:t.right.left.end}),right:t.right.right})).operator||t.right.is_boolean(a)||t.right.is_number(a)||(t.right=oe(Dt,t.right,{operator:"+",expression:t.right})),t.right instanceof ei&&t.left instanceof At&&"%"!=t.left.operator&&gi[t.left.operator]==gi[t.operator]&&t.left.is_number(a)&&(t.left.left instanceof ei?(m=k(t.left,t.operator,t.left.left,t.right,t.left.left.start,t.right.end),t=k(t,t.left.operator,Z(a,m),t.left.right)):t.left.right instanceof ei&&(_=x(t.left.operator,t.operator),!(_=Z(a,k(t.left,_,t.left.right,t.right))).is_constant()||"-"==t.left.operator&&0!=t.right.value&&0==+_.value&&t.left.left.is_negative_zero()||(t=k(t,t.left.operator,t.left.left,_))))}if(!(h instanceof Dt&&"delete"==h.operator)){if(t.left instanceof ti&&!t.right.is_constant())switch(t.operator){case"+":if(0==t.left.value){if(t.right.is_boolean(a))return oe(Dt,t,{operator:"+",expression:t.right}).optimize(a);if(t.right.is_number(a)&&!t.right.is_negative_zero())return t.right}break;case"*":if(1==t.left.value)return t.right.is_number(a)?t.right:oe(Dt,t,{operator:"+",expression:t.right}).optimize(a)}if(t.right instanceof ti&&!t.left.is_constant())switch(t.operator){case"+":if(0==t.right.value){if(t.left.is_boolean(a))return oe(Dt,t,{operator:"+",expression:t.left}).optimize(a);if(t.left.is_number(a)&&!t.left.is_negative_zero())return t.left}break;case"-":if(0==t.right.value)return t.left.is_number(a)?t.left:oe(Dt,t,{operator:"+",expression:t.left}).optimize(a);break;case"/":if(1==t.right.value)return t.left.is_number(a)?t.left:oe(Dt,t,{operator:"+",expression:t.left}).optimize(a)}}}if(a.option("typeofs"))switch(t.operator){case"&&":qe(t.left,t.right,null);break;case"||":qe(t.left,null,t.right)}if(a.option("unsafe")){var b=S(t.right);if(c&&b&&("=="==t.operator||"!="==t.operator)&&t.left instanceof ti&&0==t.left.value)return("=="==t.operator?oe(Dt,t,{operator:"!",expression:t.right}):t.right).optimize(a);var y=S(t.left);if(a.option("comparisons")&&function(){switch(t.operator){case"<=":return b&&t.left instanceof ti&&0==t.left.value;case"<":if(y&&t.right instanceof ti&&0==t.right.value)return!0;case"==":case"!=":return b?t.left instanceof ti&&-1==t.left.value||t.left instanceof Dt&&"-"==t.left.operator&&t.left.expression instanceof ti&&1==t.left.expression.value:!1}}()){var w=oe(Dt,t,{operator:"!",expression:oe(Dt,t,{operator:"~",expression:y?t.left:t.right})});switch(t.operator){case"<":if(y)break;case"<=":case"!=":w=oe(Dt,t,{operator:"!",expression:w})}return w.optimize(a)}}return Z(a,t);function x(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function k(e,n,t,i,r,o){return"+"==n&&(t.is_boolean(a)||t.is_number(a)||(t=oe(Dt,t,{operator:"+",expression:t})),i.is_boolean(a)||i.is_number(a)||(i=oe(Dt,i,{operator:"+",expression:i}))),oe(At,e,{operator:n,left:t,right:i,start:r,end:o})}function E(e){return!!e.truthy||!e.falsy&&(!!e.is_truthy()||e.evaluate(a,!0))}function S(e){return"Call"==e.TYPE&&e.expression instanceof kt&&Ve[e.expression.property]}}),e(Qt,function(e,n){if(!n.option("ie8")&&fe(e)&&(!e.scope.resolve().uses_with||!n.find_parent(Cn)))switch(e.name){case"undefined":return oe(si,e).optimize(n);case"NaN":return oe(ai,e).optimize(n);case"Infinity":return oe(ci,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&pe(n.self(),t)!==n.self()){var i,r,o=e.definition(),a=e.fixed_value(),t=o.single_use&&!(t instanceof bt&&t.is_expr_pure(n));if(t)if(a instanceof Pn){if(o.scope===e.scope.resolve()&&!o.in_loop||n.option("reduce_funcs")&&1!=o.escaped.depth&&!a.inlined)if(Xe(n,o))t=!1;else if(a.name&&a.name.definition()!==o)t=!1;else if(a.parent_scope!==e.scope.resolve()||ie(o)){if("f"==(t=a.is_constant_expression(e.scope)))for(var s=e.scope;(Gn(s)||Un(s))&&(s.inlined=!0),s=s.parent_scope;);}else a.name&&"await"==a.name.name&&Ln(a)&&(t=!1);else t=!1;t&&(a.parent_scope=e.scope)}else a&&a.is_constant_expression()&&!a.drop_side_effect_free(n)||(t=!1);if(t)return o.single_use=!1,a._squeezed=!0,a.single_use=!0,a instanceof Xn?(a=oe(Wn,a,a)).name=oe(Xt,a.name,a.name):a instanceof Kn&&((a=oe(Jn,a,a)).name=oe(Xt,a.name,a.name)),a instanceof Pn&&(s=e.scope.resolve(),a.enclosed.forEach(function(e){a.variables.has(e.name)||s.var_names()[e.name]||(s.enclosed.push(e),s.var_names()[e.name]=!0)})),0<o.recursive_refs?(i=(l=a.clone(!0)).name.definition(),(c=(r=l.variables.get(l.name.name))&&r.orig[0])instanceof Xt||(((c=oe(Xt,l.name,l.name)).scope=l).name=c,(r=l.def_function(c)).recursive_refs=o.recursive_refs),l.walk(new di(function(e){var n,t;e instanceof Qt&&((n=e.definition())===i?(e.thedef=r).references.push(e):(n.single_use=!1,(t=e.fixed_value())instanceof Pn&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&a.variables.get(t.name.name)===n&&(t.name=t.name.clone(),t=l.variables.get(t.name.name)||l.def_function(t.name),(e.thedef=t).references.push(e))))}))):(l=a.optimize(n))===a&&(l=l.transform(new hi(function(e,n){return e instanceof Nn||n(e=e.clone(),this),e}))),o.replaced++,l;var f,c,u,l,t=e.fixed!==o.fixed;if(a&&(t||!1!==o.should_replace))if(a instanceof Zt?!ie(o)&&p(o)&&(f=a):(u=a.evaluate(n,!0))!==a&&"function"!=typeof u&&("object"!=typeof u||u instanceof RegExp&&n.option("unsafe_regexp")&&!o.cross_loop&&p(o))&&(f=W(u,a)),f)if(t||void 0!==o.should_replace||(c=f.optimize(n).print_to_string().length,d(a)||(c=Math.min(c,a.print_to_string().length)),u=o.name.length,n.option("unused")&&!n.exposed(o)&&(u+=(u+2+c)/(o.references.length-o.replaced-o.assignments)),u=c-Math.floor(u),o.should_replace=u<n.eval_threshold),t||o.should_replace)return d(a)?(l=f.optimize(n))===f&&(l=l.clone(!0)):(l=K(f.optimize(n),a))!==f&&l!==a||(l=l.clone(!0)),o.replaced++,l}return e;function p(e){var n=e.scope.resolve();return vn(e.references,function(e){return n===e.scope.resolve()})}function d(e){var n;return e.walk(new di(function(e){if(n=e instanceof Qt?!0:n)return!0})),n}}),e(si,function(e,n){if(n.option("unsafe_undefined")){var t=L(n).find_variable("undefined");if(t){t=oe(Qt,e,{name:"undefined",scope:t.scope,thedef:t});return t.is_undefined=!0,t}}n=pe(n.self(),n.parent());return n&&Ke(n,e)?e:oe(Dt,e,{operator:"void",expression:oe(ti,e,{value:0})})}),e(ci,function(e,n){var t=pe(n.self(),n.parent());return(!t||!Ke(t,e))&&(!n.option("keep_infinity")||t||L(n).find_variable("Infinity"))?oe(At,e,{operator:"/",left:oe(ti,e,{value:1}),right:oe(ti,e,{value:0})}):e}),e(ai,function(e,n){var t=pe(n.self(),n.parent());return(!t||!Ke(t,e))&&(t||L(n).find_variable("NaN"))?oe(At,e,{operator:"/",left:oe(ti,e,{value:0}),right:oe(ti,e,{value:0})}):e});var Ze=hn("+ - * / % >> << >>> | ^ &"),en=hn("* | ^ &");function nn(e,n){if(e=e instanceof Qt?e.fixed_value():e){if(!(e instanceof Pn))return 1;var t=n.parent();return"Call"!=t.TYPE||(t.expression!==n.self()||!e.contains_this())}}e($t,function(o,a){if(a.option("dead_code"))if(o.left instanceof xt){if("="==o.operator){if(o.__drop){var e=[o.left.expression];return o.left instanceof Et&&e.push(o.left.property),e.push(o.right),V(o,e).optimize(a)}if(o.left.equivalent_to(o.right)&&!o.left.has_side_effects(a))return o.right;e=o.left.expression;if(e instanceof Pn||!a.has_directive("use strict")&&e instanceof ei&&!e.may_throw_on_access(a))return o.left instanceof kt?o.right:V(o,[o.left.property,o.right]).optimize(a)}}else if(o.left instanceof Qt&&vn(o.left.definition().orig,function(e){return!(e instanceof Lt)})){if("="==o.operator&&o.left.equivalent_to(o.right)&&!((f=a.parent())instanceof Dt&&"delete"==f.operator))return o.right;if(o.left.is_immutable())return p();var n,t=o.left.definition(),s=t.scope.resolve(),i=s===a.find_parent(Pn),r=0,f=a.self();do{if(n=f,(f=a.parent(r++))instanceof $t){var c=!1;if(f.left.match_symbol(function(e){if(e instanceof xt)return!0;if(!c&&e instanceof Qt&&e.definition()===t){if(l(r,f))return!0;t.fixed=!1,c=!0}}))break;if(c)return p()}else{if(f instanceof Zn){if(!i)break;if(l(r,f))break;if(Qe(s,[t]))break;return t.fixed=!1,p()}if(f instanceof _t&&f.name instanceof Yt&&f.name.definition()===t){if(l(r,f))break;return t.fixed=!1,p()}}}while(f instanceof At&&f.right===n||f instanceof zt&&f.condition!==n||f instanceof wt&&f.tail_node()===n||f instanceof Dt)}if(a.option("sequences")){var u=o.lift_sequences(a);if(u!==o)return u.optimize(a)}if(a.option("assignments")){if("="==o.operator&&o.left instanceof Qt&&o.right instanceof At){if(o.right.left instanceof Qt&&o.right.left.name==o.left.name&&Ze[o.right.operator])return oe($t,o,{operator:o.right.operator+"=",left:o.left,right:o.right.right});if(o.right.right instanceof Qt&&o.right.right.name==o.left.name&&en[o.right.operator]&&!o.right.left.has_side_effects(a))return oe($t,o,{operator:o.right.operator+"=",left:o.left,right:o.right.left})}if(("-="==o.operator||"+="==o.operator&&(o.left.is_boolean(a)||o.left.is_number(a)))&&o.right instanceof ti&&1==o.right.value){u=o.operator.slice(0,-1);return oe(Dt,o,{operator:u+u,expression:o.left})}}return Z(a,o);function l(e,n){var t=o.right;o.right=oe(oi,t);var i,r=n.may_throw(a);for(o.right=t;i=a.parent(e++);){if(i===s)return;if(i instanceof ut){if(i.bfinally)return 1;if(r&&i.bcatch)return 1}}}function p(){return("="!=o.operator?oe(At,o,{operator:o.operator.slice(0,-1),left:o.left,right:o.right}):ae(0,a.parent(),o,o.right)).optimize(a)}}),e(zt,function(r,n){if(n.option("sequences")&&r.condition instanceof wt){var e=r.condition.expressions.slice();return r.condition=e.pop(),e.push(r),V(r,e)}if(!n.option("conditionals"))return r;var o=r.condition.is_truthy()||r.condition.evaluate(n,!0);if(!o)return bn.warn("Condition always false [{file}:{line},{col}]",r.start),V(r,[r.condition,r.alternative]).optimize(n);if(!(o instanceof bn))return bn.warn("Condition always true [{file}:{line},{col}]",r.start),V(r,[r.condition,r.consequent]).optimize(n);var t=o.negate(n,gn(n));Q(n,o,t)===t&&(r=oe(zt,r,{condition:t,consequent:r.alternative,alternative:r.consequent}),t=o,o=r.condition);var i=r.consequent,a=r.alternative;if(Ge(n,o)){if(o.equivalent_to(i))return oe(At,r,{operator:"||",left:o,right:a}).optimize(n);if(o.equivalent_to(a))return oe(At,r,{operator:"&&",left:o,right:i}).optimize(n)}var s=i.tail_node();if(s instanceof $t){var f="="==s.operator,e=f?a.tail_node():a;if((f||i===s)&&e instanceof $t&&s.operator==e.operator&&s.left.equivalent_to(e.left)&&(f&&s.left instanceof Qt||!o.has_side_effects(n)&&m(i)&&m(a)))return oe($t,r,{operator:s.operator,left:s.left,right:oe(zt,r,{condition:o,consequent:_(i),alternative:_(a)})})}if(i.equivalent_to(a))return V(r,[o,i]).optimize(n);var c,f=function e(n,t,i){if(!v(n,t))return!i&&oe(zt,r,{condition:o,consequent:n,alternative:t});var t=e(n.expression,t.expression);if(!t)return;var n=n.clone();n.expression=t;return n}(i,a,!0);if(f)return f;if(i instanceof bt&&a.TYPE==i.TYPE&&0<=(c=h(i,a))&&i.expression.equivalent_to(a.expression)&&!o.has_side_effects(n)&&!i.expression.has_side_effects(n)){s=i.clone(),f=i.args[c];return s.args[c]=f instanceof St?oe(St,r,{expression:oe(zt,r,{condition:o,consequent:f.expression,alternative:a.args[c].expression})}):oe(zt,r,{condition:o,consequent:f,alternative:a.args[c]}),s}if(i instanceof zt&&i.alternative.equivalent_to(a))return oe(zt,r,{condition:oe(At,r,{left:o,operator:"&&",right:i.condition}),consequent:i.consequent,alternative:a});if(i instanceof zt&&i.consequent.equivalent_to(a))return oe(zt,r,{condition:oe(At,r,{left:t,operator:"||",right:i.condition}),consequent:a,alternative:i.alternative});if(a instanceof zt&&i.equivalent_to(a.consequent))return oe(zt,r,{condition:oe(At,r,{left:o,operator:"||",right:a.condition}),consequent:i,alternative:a.alternative});if(a instanceof zt&&i.equivalent_to(a.alternative))return oe(zt,r,{condition:oe(At,r,{left:t,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:i});if((i instanceof wt||a instanceof wt)&&i.tail_node().equivalent_to(a.tail_node()))return V(r,[oe(zt,r,{condition:o,consequent:g(i),alternative:g(a)}),i.tail_node()]).optimize(n);if(i instanceof At&&"&&"==i.operator&&i.right.equivalent_to(a))return oe(At,r,{operator:"&&",left:oe(At,r,{operator:"||",left:t,right:i.left}),right:a}).optimize(n);if(i instanceof At&&"||"==i.operator&&i.right.equivalent_to(a))return oe(At,r,{operator:"||",left:oe(At,r,{operator:"&&",left:o,right:i.left}),right:a}).optimize(n);if(a instanceof At&&"&&"==a.operator&&a.right.equivalent_to(i))return oe(At,r,{operator:"&&",left:oe(At,r,{operator:"||",left:o,right:a.left}),right:i}).optimize(n);if(a instanceof At&&"||"==a.operator&&a.right.equivalent_to(i))return oe(At,r,{operator:"||",left:oe(At,r,{operator:"&&",left:t,right:a.left}),right:i}).optimize(n);var u=n.option("booleans")&&n.in_boolean_context();return p(i)?d(a)?l(o):oe(At,r,{operator:"||",left:l(o),right:a}):d(i)?p(a)?l(o.negate(n)):oe(At,r,{operator:"&&",left:l(o.negate(n)),right:a}):p(a)?oe(At,r,{operator:"||",left:l(o.negate(n)),right:i}):d(a)?oe(At,r,{operator:"&&",left:l(o),right:i}):(n.option("typeofs")&&qe(o,i,a),r);function l(e){return e.is_boolean(n)?e:oe(Dt,e,{operator:"!",expression:e.negate(n)})}function p(e){return e instanceof pi||u&&e instanceof ei&&e.value||e instanceof Dt&&"!"==e.operator&&e.expression instanceof ei&&!e.expression.value}function d(e){return e instanceof li||u&&(e instanceof ei&&!e.value||e instanceof Dt&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof Dt&&"!"==e.operator&&e.expression instanceof ei&&e.expression.value}function h(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function v(e,n){if(e.TYPE==n.TYPE)return e instanceof bt?-1!=h(e,n)?void 0:"Call"!=e.TYPE||!(e.expression instanceof xt||n.expression instanceof xt)||v(e.expression,n.expression):e instanceof kt?e.property==n.property:e instanceof Et?e.property.equivalent_to(n.property):void 0}function m(e){return e===e.tail_node()||vn(e.expressions.slice(0,-1),function(e){return!e.has_side_effects(n)})}function _(e){if(!(e instanceof wt))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),V(e,n)}function g(e){return e instanceof wt?V(e,e.expressions.slice(0,-1)):oe(ti,e,{value:0})}}),e(ui,function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return oe(ti,e,{value:+e.value});n=n.parent();return n instanceof At&&("=="==n.operator||"!="==n.operator)?(bn.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:n.operator,value:e.value,file:n.start.file,line:n.start.line,col:n.start.col}),oe(ti,e,{value:+e.value})):oe(Dt,e,{operator:"!",expression:oe(ti,e,{value:1-e.value})})}),e(St,function(e,n){var t=e.expression;return n.option("spreads")&&t instanceof Ft&&!(n.parent()instanceof Ht)?un.splice(t.elements.map(function(e){return e instanceof fi?oe(si,e).optimize(n):e})):e}),e(Et,function(e,t){var n=e.expression,i=e.property;if(t.option("properties")){var r=i.evaluate(t);if(r!==i){"string"==typeof r&&("undefined"==r?r=void 0:(m=parseFloat(r)).toString()==r&&(r=m)),i=e.property=K(i,W(r,i).transform(t));var o=""+r;if(vi(o)&&o.length<=i.print_to_string().length+1)return oe(kt,e,{expression:n,property:o}).optimize(t)}}var a,s,f,c=t.parent(),u=pe(t.self(),c);if(t.option("arguments")&&n instanceof Qt&&te(h=n.definition())&&!n.in_arg&&i instanceof ti&&(a=h.scope)===function(){var e,n=0;for(;e=t.parent(n++);)if(e instanceof Pn){if(e instanceof In)return;if(!Rn(e))return s=t.parent(n),e}}()&&a.uses_arguments<(u?2:3)){var l=i.value;c instanceof Dt&&"delete"==c.operator&&(h.deleted||(h.deleted=[]),h.deleted[l]=!0);var p,d=a.argnames[l];if(h.deleted&&h.deleted[l])d=null;else if(d)(!(d instanceof Jt&&"await"!=d.name&&n.scope.find_variable(d.name)===(p=d.definition()))||(t.has_directive("use strict")||a.name||a.rest||!(s instanceof bt&&l<s.args.length)||!vn(a.argnames,function(e){return e instanceof Jt}))&&(!t.option("reduce_vars")||h.reassigned||p.assignments||1<p.orig.length))&&(d=null);else if(l<a.argnames.length+5&&t.drop_fargs(a,s)&&!a.rest)for(;l>=a.argnames.length;)d=a.make_var(Jt,a,"argument_"+a.argnames.length),a.argnames.push(d);if(d&&rn(function(e){return e.name===d.name},a.argnames)===d){h.reassigned=!1;var h=oe(Qt,e,d);return h.reference({}),delete d.__unused,h}}if(u)return e;if(t.option("sequences")&&"Call"!=c.TYPE&&!(c instanceof qn&&c.init===e)){c=Re(e);if(c!==e)return c.optimize(t)}if(r===i||(v=e.flatten_object(o,t))&&(n=e.expression=v.expression,i=e.property=v.property),t.option("properties")&&t.option("side_effects")&&i instanceof ti&&n instanceof Ft&&vn(f=n.elements,function(e){return!(e instanceof St)})){var v=f[l=i.value];if(nn(v,t)){for(var m,_=v instanceof fi,g=!_,b=[],y=f.length;--y>l;)(m=f[y].drop_side_effect_free(t))&&(b.unshift(m),g&&m.has_side_effects(t)&&(g=!1));for(g||b.unshift(v);0<=--y;)(m=f[y].drop_side_effect_free(t))?b.unshift(m):_?b.unshift(oe(fi,f[y])):l--;return g?(b.push(v),V(e,b).optimize(t)):oe(Et,e,{expression:oe(Ft,n,{elements:b}),property:oe(ti,i,{value:l})})}}return Z(t,e)}),Yn.DEFMETHOD("contains_this",an),Vn.DEFMETHOD("contains_this",an),Nn.DEFMETHOD("contains_this",function(){var n,t=this;return t.walk(new di(function(e){return!!n||(e instanceof Zt?n=!0:e!==t&&e instanceof Nn&&!Rn(e)||void 0)})),n}),xt.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")){var t=this.expression;if(t instanceof Ht)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(o.key==e){if(!vn(i,function(e){return e instanceof It&&"string"==typeof e.key}))break;if(!nn(o.value,n))break;return oe(Et,this,{expression:oe(Ft,t,{elements:i.map(function(e){return e.value})}),property:oe(ti,this,{value:r})})}}}}),e(kt,function(e,n){"arguments"!=e.property&&"caller"!=e.property||bn.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(pe(n.self(),t))return e;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof qn&&t.init===e)){var i=Re(e);if(i!==e)return i.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof kt&&"prototype"==e.expression.property){var r=e.expression.expression;if(fe(r))switch(r.name){case"Array":e.expression=oe(Ft,e.expression,{elements:[]});break;case"Function":e.expression=oe(Jn,e.expression,{argnames:[],body:[]}).init_vars(r.scope);break;case"Number":e.expression=oe(ti,e.expression,{value:0});break;case"Object":e.expression=oe(Ht,e.expression,{properties:[]});break;case"RegExp":e.expression=oe(ri,e.expression,{value:/t/});break;case"String":e.expression=oe(ni,e.expression,{value:""})}}i=e.flatten_object(e.property,n);return i?i.optimize(n):Z(n,e)}),e(qt,function(e,n){return n.option("rests")&&e.rest instanceof qt&&(e.elements=e.elements.concat(e.rest.elements),e.rest=null),e}),e(Ct,function(e,n){var t;return!n.option("objects")||(t=e.key)instanceof bn&&(t=t.evaluate(n))!==e.key&&(e.key=""+t),e}),e(Ht,function(t,i){if(!i.option("objects"))return t;var e,r=!1,o=!1,a=!1,s=i.has_directive("use strict"),f=new mn,c=[];return t.properties.forEach(function(e){if(!(e instanceof St))return l(e);o=!0;var n=e.expression;i.option("spreads")&&n instanceof Ht&&vn(n.properties,function(e){return!(e instanceof Ut||e instanceof St)})?(r=!0,n.properties.forEach(function(e){l(e instanceof Rt?oe(It,e,{key:e.key,value:oe(si,e).optimize(i)}):e)})):(a=!0,u(),c.push(e))}),u(),r?(o&&a&&1==c.length&&((e=c[0])instanceof Pt&&e.key instanceof ti&&(e.key=""+e.key.value)),r?oe(Ht,t,{properties:c}):t):t;function u(){f.each(function(e){if(1==e.length)return c.push(e[0]);r=!0;var n=s&&!a&&e.pop();c.push(1==e.length?e[0]:oe(It,t,{key:e[0].key,value:V(t,e.map(function(e){return e.value}))})),n&&c.push(n)}),f=new mn}function l(e){var n=e.key;n instanceof bn&&(o=!0,(n=n.evaluate(i))===e.key?a=!0:n=e.key=""+n),e instanceof It&&"string"==typeof n?(e.value.has_side_effects(i)&&u(),f.add(n,e)):(u(),c.push(e)),o&&!a&&"string"==typeof n&&p.test(n)&&(a=!0,(e=f.has(n)?f.get(n)[0]:e).key=oe(ti,e,{value:+n}))}}),e(et,function(e,n){return e.value&&ue(e.value,n)&&(e.value=null),e})}(function(e,n){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;if(e.has_directive("use asm"))return this;e=n(this,e);return e._optimized=!0,e})}),Y=!1,bn.DEFMETHOD("print",function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}),bn.DEFMETHOD("print_to_string",function(e){e=xi(e);return this.print(e),e.get()}),Q(bn,an),Q(Wn,ce),Q(Jn,ce),Q(Ht,ue),Q(Tt,function(e){e=e.parent();return e instanceof At?"**"==e.operator&&e.left===this:(e instanceof bt||e instanceof xt)&&e.expression===this}),Q(wt,function(e){e=e.parent();return e instanceof Ft||Rn(e)&&e.value===this||e instanceof Mt||e instanceof At||e instanceof bt||e instanceof zt||e instanceof gt||e instanceof Ct||e instanceof Pt||e instanceof xt&&e.expression===this||e instanceof St||e instanceof Tt||e instanceof _t}),Q(At,function(e){var n=e.parent();if(n instanceof Mt)return!0;if(n instanceof At){var t=n.operator,i=gi[t],e=this.operator,e=gi[e];return e<i||i==e&&this===n["**"==t?"left":"right"]}return n instanceof bt||n instanceof xt?n.expression===this:n instanceof Tt||void 0}),Q(xt,function(e){var n=this,e=e.parent();if(e instanceof yt&&e.expression===n){for(;n=n.expression,n instanceof xt;);return"Call"==n.TYPE}}),Q(bt,function(e){var n=e.parent();if(n instanceof yt)return n.expression===this;if(e.option("webkit")){e=e.parent(1);return this.expression instanceof Jn&&n instanceof xt&&n.expression===this&&e instanceof $t&&e.left===n}}),Q(yt,function(e){if(Oe(this,e))return!1;e=e.parent();return e instanceof bt?e.expression===this:e instanceof xt}),Q(ti,function(e){if(!e.option("galio"))return!1;e=e.parent();return e instanceof xt&&e.expression===this&&/^0/.test(Ae(this.value))}),Q(Yn,function(e){return le(this,e)}),Q($t,function(e){return!!le(this,e)||(e.option("v8")?this.left instanceof jt:this.left instanceof Nt?ue(e):void 0)}),Q(Vn,function(e){return le(this,e)}),Q(zt,function(e){return le(this,e)}),Q(Mt,function(e){e=e.parent();return e instanceof At?"**"==e.operator&&e.left===this:e instanceof bt||e instanceof xt?e.expression===this:void 0}),K(xn,function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()}),K(wn,function(e){e.print("debugger"),e.semicolon()}),K(yn,function(e){this.body.print(e),e.semicolon()}),K(Hn,function(e){pe(this.body,!0,e,!0),e.print("")}),K(An,function(e){this.label.print(e),e.colon(),this.body.print(e)}),K(En,function(e){this.body.print(e),e.semicolon()}),K(On,function(e){he(this,e)}),K(kn,function(e){e.semicolon()}),K(Mn,function(e){var n=this;e.print("do"),e.space(),ze(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.semicolon()}),K(Fn,function(e){var n=this;e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),De(n.body,e)}),K(jn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init?(n.init instanceof dt?n.init.print(e):xe(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)}),e.space(),De(n.body,e)}),K(qn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init.print(e),e.space(),e.print("in"),e.space(),n.object.print(e)}),e.space(),De(n.body,e)}),K(Cn,function(e){var n=this;e.print("with"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),De(n.body,e)}),K(Yn,function(e){me(this,e)}),K(Vn,function(e){e.print("async"),e.space(),me(this,e)}),K(Pn,function(e){e.print("function"),_e(this,e)}),K(Xn,ge),K(Wn,ge),K(et,be("return","value")),K(nt,be("throw","value")),K(it,be("break","label")),K(rt,be("continue","label")),K(ot,function(e){var n=this;e.print("if"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),n.alternative?(function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof ht||t instanceof vt)||n.option("ie8")&&t instanceof Mn)return ze(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof ot){if(!t.alternative)return ze(e.body,n);t=t.alternative}else{if(!(t instanceof f))break;t=t.body}De(e.body,n)}(n,e),e.space(),e.print("else"),e.space(),n.alternative instanceof ot?n.alternative.print(e):De(n.alternative,e)):De(n.body,e)}),K(at,function(t){var e=this;t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var i=e.body.length-1;i<0?de(e,t):t.with_block(function(){e.body.forEach(function(e,n){t.indent(!0),e.print(t),n<i&&0<e.body.length&&t.newline()})})}),K(ft,function(e){e.print("default:"),ye(this,e)}),K(ct,function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),ye(this,e)}),K(ut,function(e){e.print("try"),e.space(),he(this,e),this.bcatch&&(e.space(),this.bcatch.print(e)),this.bfinally&&(e.space(),this.bfinally.print(e))}),K(lt,function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens(function(){n.argname.print(e)})),e.space(),he(n,e)}),K(pt,function(e){e.print("finally"),e.space(),he(this,e)}),K(ht,we("const")),K(vt,we("let")),K(mt,we("var")),K(_t,function(e){var n;this.name.print(e),this.value&&(e.space(),e.print("="),e.space(),n=(n=e.parent(1))instanceof jn||n instanceof qn,xe(this.value,e,n))}),K(gt,function(e){this.name.print(e),e.space(),e.print("="),e.space(),this.value.print(e)}),K(bt,function(e){this.expression.print(e),ke(this,e)}),K(yt,function(e){e.print("new"),e.space(),this.expression.print(e),Oe(this,e)&&ke(this,e)}),K(wt,function(t){this.expressions.forEach(function(e,n){0<n&&(t.comma(),t.should_break()&&(t.newline(),t.indent())),e.print(t)})}),K(kt,function(e){var n=this.expression;n.print(e);var t=this.property;e.option("ie8")&&m[t]?(e.print("["),e.add_mapping(this.end),e.print_string(t),e.print("]")):(n instanceof ti&&0<=n.value&&(/[xa-f.)]/i.test(e.last())||e.print(".")),e.print("."),e.add_mapping(this.end),e.print_name(t))}),K(Et,function(e){this.expression.print(e),e.print("["),this.property.print(e),e.print("]")}),K(St,function(e){e.print("..."),this.expression.print(e)}),K(Dt,function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof Dt&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)}),K(Ot,function(e){this.expression.print(e),e.print(this.operator)}),K(At,function(e){this.left.print(e),e.space(),e.print(this.operator),e.space(),this.right.print(e)}),K(zt,function(e){this.condition.print(e),e.space(),e.print("?"),e.space(),this.consequent.print(e),e.space(),e.colon(),this.alternative.print(e)}),K(Mt,function(e){e.print("await"),e.space(),this.expression.print(e)}),K(Ft,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof fi&&t.comma()}),t.space()}:on)}),K(qt,function(t){var e=this.elements,n=e.length,i=this.rest;t.with_square(n||i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t)}),i?(n&&t.comma(),t.print("..."),i.print(t)):e[n-1]instanceof fi&&t.comma(),t.space()}:on)}),K(Ct,Se),K(Nt,function(t){var e=this.properties,n=e.length,i=this.rest;n||i?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),i&&(n&&(t.print(","),t.newline()),t.indent(),t.print("..."),i.print(t)),t.newline()}):de(this,t)}),K(Ht,function(t){var e=this.properties;0<e.length?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):de(this,t)}),K(It,Se),K(Ut,Te("get")),K(Rt,Te("set")),K(Bt,function(e){var n=this.definition();e.print_name(n&&n.mangled_name||this.name)}),K(fi,on),K(Zt,function(e){e.print("this")}),K(ei,function(e){e.print(this.value)}),K(ni,function(e){e.print_string(this.value,this.quote)}),K(ti,function(e){var n=this.start;Y&&n&&null!=n.raw?e.print(n.raw):e.print(Ae(this.value))}),K(ri,function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"})+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}}).replace(/[\n\r\u2028\u2029]/g,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}));t=e.parent();t instanceof At&&/^in/.test(t.operator)&&t.left===this&&e.print(" ")}),$e([bn,An],on),$e([Ft,On,lt,ei,wn,dt,jt,pt,Qn,Pn,yt,Ht,f,Bt,at,st,ut],function(e){e.add_mapping(this.start)}),$e([Ct,Pt],function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)});var Me=e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fe=Me.reduce(function(e,n,t){return e[n]=t,e},Object.create(null));function je(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e}while((e>>>=5)&&(t|=32),n+=Me[t],e);return n}function qe(){var n=Object.create(null),t=[];return t.index=function(e){return _n(n,e)||(n[e]=t.length,t.push(e)),n[e]},t}function Ce(l){var a,s=qe(),o=l.includeSources&&Object.create(null),f=qe(),c="";l.orig&&Object.keys(l.orig).forEach(function(e){var n=l.orig[e],t=[0,0,1,0,0];if(l.orig[e]={names:n.names,mappings:n.mappings.split(/;/).map(function(e){return t[0]=0,e.split(/,/).map(function(e){return t.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=Fe[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(t,e))})}),sources:n.sources},o&&n.sourcesContent)for(var i=0;i<n.sources.length;i++){var r=n.sourcesContent[i];r&&(o[n.sources[i]]=r)}});var u=1,p=0,d=0,h=1,v=0,m=0;return{add:l.orig?function(e,n,t,i,r,o){var a=l.orig[e];if(a){var s,f=a.mappings[i-1];if(!f)return;for(var c=0;c<f.length;c++){var u=f[c][0];if(u<=r&&(s=f[c]),r<=u)break}!s||s.length<4?e=null:(e=a.sources[s[1]],i=s[2],r=s[3],4<s.length&&(o=a.names[s[4]]))}_(e,n,t,i,r,o)}:_,setSourceContent:o?function(e,n){e in o||(o[e]=n)}:on,toString:function(){return JSON.stringify({version:3,file:l.filename||void 0,sourceRoot:l.root||void 0,sources:s,sourcesContent:o?s.map(function(e){return o[e]||null}):void 0,names:f,mappings:c})}};function _(e,n,t,i,r,o){if(null!=a||null!=e){if(a=e,u<n)for(p=0;c+=";",++u<n;);else c&&(c+=",");c+=je(t-p),p=t,null!=e&&(e=s.index(e),c+=je(e-d),d=e,c+=je(i-h),h=i,c+=je(r-v),v=r,l.names&&null!=o&&(o=f.index(o),c+=je(o-m),m=o))}}}!function(){function n(e){for(var n=!0,t=0;t<e.length;t++)n&&e[t]instanceof yn&&e[t].body instanceof ni?e[t]=new xn({start:e[t].start,end:e[t].end,value:e[t].body.value}):!n||e[t]instanceof yn&&e[t].body instanceof ni||(n=!1);return e}var i={Program:function(e){return new Hn({start:s(e),end:f(e),body:n(e.body.map(c))})},FunctionDeclaration:function(e){return new Kn({start:s(e),end:f(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},FunctionExpression:function(e){return new Jn({start:s(e),end:f(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},ExpressionStatement:function(e){return new En({start:s(e),end:f(e),body:c(e.expression)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(1<n.length||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new ut({start:s(e),end:f(e),body:c(e.block).body,bcatch:c(n[0]),bfinally:e.finalizer?new pt(c(e.finalizer)):null})},Property:function(e){var n=e.key,n={start:s(n),end:f(e.value),key:""+n["Identifier"==n.type?"name":"value"],value:c(e.value)};return"init"==e.kind?new It(n):(n.value=new In(n.value),"get"==e.kind?new Ut(n):"set"==e.kind?new Rt(n):void 0)},ArrayExpression:function(e){return new Ft({start:s(e),end:f(e),elements:e.elements.map(function(e){return null===e?new fi:c(e)})})},ObjectExpression:function(e){return new Ht({start:s(e),end:f(e),properties:e.properties.map(function(e){return e.type="Property",c(e)})})},SequenceExpression:function(e){return new wt({start:s(e),end:f(e),expressions:e.expressions.map(c)})},MemberExpression:function(e){return new(e.computed?Et:kt)({start:s(e),end:f(e),property:e.computed?c(e.property):e.property.name,expression:c(e.object)})},SwitchCase:function(e){return new(e.test?ct:ft)({start:s(e),end:f(e),expression:c(e.test),body:e.consequent.map(c)})},VariableDeclaration:function(e){return new mt({start:s(e),end:f(e),definitions:e.declarations.map(c)})},Literal:function(e){var n=e.value,t={start:s(e),end:f(e)};if(null===n)return new oi(t);var i=e.regex;if(i&&i.pattern)return t.value=new RegExp(i.pattern,i.flags),t.value.raw_source=i.pattern,new ri(t);if(i)return t.value=e.regex&&e.raw?e.raw:n,new ri(t);switch(typeof n){case"string":return t.value=n,new ni(t);case"number":return t.value=n,new ti(t);case"boolean":return new(n?pi:li)(t)}},Identifier:function(e){var n=t[t.length-2];return new("LabeledStatement"==n.type?ee:"VariableDeclarator"==n.type&&n.id===e?Wt:"FunctionExpression"==n.type?n.id===e?Xt:Jt:"FunctionDeclaration"==n.type?n.id===e?Gt:Jt:"CatchClause"==n.type?Kt:"BreakStatement"==n.type||"ContinueStatement"==n.type?ne:Qt)({start:s(e),end:f(e),name:e.name})},ThisExpression:function(e){return new Zt({start:s(e),end:f(e),name:"this"})}};function r(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function s(e){var n=e.loc,t=n&&n.start,i=e.range;return new P({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:r(e)})}function f(e){var n=e.loc,t=n&&n.end,i=e.range;return new P({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:r(e)})}function e(e,n,t){var o="function From_Moz_"+e+"(M){\n";o+="return new U2."+n.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var a="function To_Moz_"+e+"(M){\n";a+="return {\ntype: "+JSON.stringify(e),t&&t.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(o+=",\n"+r+": ",a+=",\n"+t+": ",i){case"@":o+="M."+t+".map(from_moz)",a+="M."+r+".map(to_moz)";break;case">":o+="from_moz(M."+t+")",a+="to_moz(M."+r+")";break;case"=":o+="M."+t,a+="M."+r;break;case"%":o+="from_moz(M."+t+").body",a+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),o+="\n})\n}",a+="\n}\n}",o=new Function("U2","my_start_token","my_end_token","from_moz","return("+o+")")(h,s,f,c),a=new Function("to_moz","to_moz_block","to_moz_scope","return("+a+")")(l,p,d),i[e]=o,u(n,a)}i.UpdateExpression=i.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?Dt:Ot)({start:s(e),end:f(e),operator:e.operator,expression:c(e.argument)})},e("EmptyStatement",kn),e("BlockStatement",On,"body@body"),e("IfStatement",ot,"test>condition, consequent>body, alternate>alternative"),e("LabeledStatement",An,"label>label, body>body"),e("BreakStatement",it,"label>label"),e("ContinueStatement",rt,"label>label"),e("WithStatement",Cn,"object>expression, body>body"),e("SwitchStatement",at,"discriminant>expression, cases@body"),e("ReturnStatement",et,"argument>value"),e("ThrowStatement",nt,"argument>value"),e("WhileStatement",Fn,"test>condition, body>body"),e("DoWhileStatement",Mn,"test>condition, body>body"),e("ForStatement",jn,"init>init, test>condition, update>step, body>body"),e("ForInStatement",qn,"left>init, right>object, body>body"),e("DebuggerStatement",wn),e("VariableDeclarator",_t,"id>name, init>value"),e("CatchClause",lt,"param>argname, body%body"),e("BinaryExpression",At,"operator=operator, left>left, right>right"),e("LogicalExpression",At,"operator=operator, left>left, right>right"),e("AssignmentExpression",$t,"operator=operator, left>left, right>right"),e("ConditionalExpression",zt,"test>condition, consequent>consequent, alternate>alternative"),e("NewExpression",yt,"callee>expression, arguments@args"),e("CallExpression",bt,"callee>expression, arguments@args"),u(Hn,function(e){return d("Program",e)}),u(Kn,function(e){return{type:"FunctionDeclaration",id:l(e.name),params:e.argnames.map(l),body:d("BlockStatement",e)}}),u(Jn,function(e){return{type:"FunctionExpression",id:l(e.name),params:e.argnames.map(l),body:d("BlockStatement",e)}}),u(xn,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),u(En,function(e){return{type:"ExpressionStatement",expression:l(e.body)}}),u(st,function(e){return{type:"SwitchCase",test:l(e.expression),consequent:e.body.map(l)}}),u(ut,function(e){return{type:"TryStatement",block:p(e),handler:l(e.bcatch),guardedHandlers:[],finalizer:l(e.bfinally)}}),u(lt,function(e){return{type:"CatchClause",param:l(e.argname),guard:null,body:p(e)}}),u(dt,function(e){return{type:"VariableDeclaration",kind:"var",declarations:e.definitions.map(l)}}),u(wt,function(e){return{type:"SequenceExpression",expressions:e.expressions.map(l)}}),u(xt,function(e){var n=e instanceof Et;return{type:"MemberExpression",object:l(e.expression),computed:n,property:n?l(e.property):{type:"Identifier",name:e.property}}}),u(Tt,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof Dt,argument:l(e.expression)}}),u(At,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:l(e.left),operator:e.operator,right:l(e.right)}}),u(Ft,function(e){return{type:"ArrayExpression",elements:e.elements.map(l)}}),u(Ht,function(e){return{type:"ObjectExpression",properties:e.properties.map(l)}}),u(Pt,function(e){var n,t={type:"Literal",value:e.key};return e instanceof It?n="init":e instanceof Ut?n="get":e instanceof Rt&&(n="set"),{type:"Property",kind:n,key:t,value:l(e.value)}}),u(Bt,function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}}),u(Zt,function(){return{type:"ThisExpression"}}),u(ri,function(e){var n=e.value.toString().match(/[gimuy]*$/)[0],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}}),u(ei,function(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}),u(v,function(e){return{type:"Identifier",name:String(e.value)}}),ui.DEFMETHOD("to_mozilla_ast",ei.prototype.to_mozilla_ast),oi.DEFMETHOD("to_mozilla_ast",ei.prototype.to_mozilla_ast),fi.DEFMETHOD("to_mozilla_ast",function(){return null}),Dn.DEFMETHOD("to_mozilla_ast",On.prototype.to_mozilla_ast),Pn.DEFMETHOD("to_mozilla_ast",Jn.prototype.to_mozilla_ast);var t=null;function c(e){t.push(e);e=null!=e?i[e.type](e):null;return t.pop(),e}function u(e,i){e.DEFMETHOD("to_mozilla_ast",function(){return n=i(e=this),t=e.start,e=e.end,null!=t.pos&&null!=e.endpos&&(n.range=[t.pos,e.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:e.endline?{line:e.endline,column:e.endcol}:null},t.file&&(n.loc.source=t.file)),n;var e,n,t})}function l(e){return null!=e?e.to_mozilla_ast():null}function p(e){return{type:"BlockStatement",body:e.body.map(l)}}function d(e,n){var t=n.body.map(l);return n.body[0]instanceof En&&n.body[0].body instanceof ni&&t.unshift(l(new kn(n.body[0]))),{type:e,body:t}}bn.from_mozilla_ast=function(e){var n=t;t=[];e=c(e);return t=n,e.walk(new di(function(e){if(e instanceof ne){for(var n,t,i=0;(n=this.parent(i))&&!(n instanceof Nn);i++)if(n instanceof An&&n.label.name==e.name){e.thedef=n.label;break}e.thedef||(t=e.start,ie("Undefined label "+e.name,t.file,t.line,t.col,t.pos))}})),e}}();var Ne,He,Pe,Ie=(Ne=[],["null","true","false","Infinity","-Infinity","undefined"].forEach(Re),[Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String].forEach(function(e){Object.getOwnPropertyNames(e).map(Re),e.prototype&&(Object.getOwnPropertyNames(new e).map(Re),Object.getOwnPropertyNames(e.prototype).map(Re))}),hn(Ne));function Re(e){Ne.push(e)}function Ue(e,n){e instanceof zt?(Ue(e.consequent,n),Ue(e.alternative,n)):e instanceof wt?Ue(e.tail_node(),n):e instanceof ni&&n(e.value)}function Be(n){try{return JSON.parse(n)}catch(e){throw new Error("invalid input source map: "+n)}}function Ye(n,t,e){t[n]&&e.forEach(function(e){t[e]&&("object"!=typeof t[e]&&(t[e]={}),n in t[e]||(t[e][n]=t[n]))})}function Le(e){e&&("props"in e?e.props instanceof mn||(e.props=mn.fromObject(e.props)):e.props=new mn)}function Ve(e){return{props:e.props.toObject()}}Pe="undefined"==typeof Buffer?(He=atob,btoa):void 0===Buffer.alloc?(He=function(e){return new Buffer(e,"base64").toString()},function(e){return new Buffer(e).toString("base64")}):(He=function(e){return Buffer.from(e,"base64").toString()},function(e){return Buffer.from(e).toString("base64")}),h.Dictionary=mn,h.List=un,h.minify=function(i,r){try{(r=Z(r,{compress:{},enclose:!1,ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&bn.enable_validation();var e=r.timings&&{start:Date.now()};void 0===r.rename&&(r.rename=r.compress&&r.mangle),Ye("ie8",r,["compress","mangle","output"]),Ye("keep_fnames",r,["compress","mangle"]),Ye("toplevel",r,["compress","mangle"]),Ye("v8",r,["mangle","output"]),Ye("webkit",r,["mangle","output"]),r.mangle&&(r.mangle=Z(r.mangle,{cache:r.nameCache&&(r.nameCache.vars||{}),eval:!1,ie8:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),r.mangle.properties&&("object"!=typeof r.mangle.properties&&(r.mangle.properties={}),r.mangle.properties.keep_quoted&&(c=r.mangle.properties.reserved,Array.isArray(c)||(c=[]),r.mangle.properties.reserved=c),!r.nameCache||"cache"in r.mangle.properties||(r.mangle.properties.cache=r.nameCache.props||{})),Le(r.mangle.cache),Le(r.mangle.properties.cache)),r.sourceMap&&(r.sourceMap=Z(r.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var o,n=[];if(r.warnings&&bn.log_function(function(e){n.push(e)},"verbose"==r.warnings),e&&(e.parse=Date.now()),i instanceof Hn)o=i;else{"string"==typeof i&&(i=[i]),r.parse=r.parse||{},r.parse.toplevel=null;var t,a=r.sourceMap&&r.sourceMap.content;for(f in(a="string"==typeof a&&"inline"!=a?Be(a):a)&&(r.sourceMap.orig=Object.create(null)),i)_n(i,f)&&(r.parse.filename=f,r.parse.toplevel=o=bi(i[f],r.parse),"inline"==a?(t=function(e,n){for(var t=n.end.comments_after,i=t.length;0<=--i;){var r=t[i];if("comment1"!=r.type)break;r=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!r)break;if("sourceMappingURL"==r[1]){if(!(r=/^data:application\/json(;.*?)?;base64,(\S+)$/.exec(r[2])))break;return He(r[2])}}bn.warn("inline source map not found: {name}",{name:e})}(f,o))&&(r.sourceMap.orig[f]=Be(t)):a&&(r.sourceMap.orig[f]=a))}c&&(l=c,o.walk(new di(function(e){e instanceof Pt?e.start&&e.start.quote&&u(e.key):e instanceof Et&&Ue(e.property,u)}))),["enclose","wrap"].forEach(function(e){var n,t=r[e];t&&(n=o.print_to_string().slice(0,-1),o=o[e](t),i[o.start.file]=o.print_to_string().replace(n,""))}),r.validate&&o.validate_ast(),e&&(e.rename=Date.now()),r.rename&&(o.figure_out_scope(r.mangle),o.expand_names(r.mangle)),e&&(e.compress=Date.now()),r.compress&&(o=new wi(r.compress).compress(o),r.validate&&o.validate_ast()),e&&(e.scope=Date.now()),r.mangle&&o.figure_out_scope(r.mangle),e&&(e.mangle=Date.now()),r.mangle&&(o.compute_char_frequency(r.mangle),o.mangle_names(r.mangle)),e&&(e.properties=Date.now()),r.mangle&&r.mangle.properties&&function(e,t){t=Z(t,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,regex:null,reserved:null},!0);var n=Object.create(t.builtins?null:Ie);Array.isArray(t.reserved)&&t.reserved.forEach(function(e){n[e]=!0});var i,r=-1;t.cache?(i=t.cache.props).each(function(e){n[e]=!0}):i=new mn;var o,a=t.regex,s=!1!==t.debug;s&&(o=!0===t.debug?"":t.debug);var f=Object.create(null),c=Object.create(n);function u(e){return!c[e]&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function l(e){return!n[e]&&((!a||a.test(e))&&(i.has(e)||f[e]))}function p(e){u(e)&&(f[e]=!0),l(e)||(c[e]=!0)}function d(e){if(!l(e))return e;var n,t=i.get(e);if(!t){if(!s||u(n="_$"+e+"$"+o+"_")&&(t=n),!t)for(;t=L(++r),!u(t););i.set(e,t)}return t}function h(e){e instanceof wt?h(e.expressions.tail_node()):e instanceof ni?e.value=d(e.value):e instanceof zt&&(h(e.consequent),h(e.alternative))}e.walk(new di(function(e){if(e instanceof At)"in"==e.operator&&Ue(e.left,p);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof kt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Qt))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;Ue(e.args[1],p);break;case"hasOwnProperty":if(e.args.length<1)break;Ue(e.args[0],p)}}else e instanceof kt?p(e.property):e instanceof Pt?"string"==typeof e.key&&p(e.key):e instanceof Et&&Ue(e.property,p)})),e.walk(new di(function(e){if(e instanceof At)"in"==e.operator&&h(e.left);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof kt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Qt))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;h(e.args[1]);break;case"hasOwnProperty":if(e.args.length<1)break;h(e.args[0])}}else e instanceof kt?e.property=d(e.property):e instanceof Pt?"string"==typeof e.key&&(e.key=d(e.key)):e instanceof Et&&(t.keep_quoted||h(e.property))}))}(o,r.mangle.properties),e&&(e.output=Date.now());var s={};if(r.output.ast&&(s.ast=o),!_n(r.output,"code")||r.output.code){if(r.sourceMap&&(r.output.source_map=Ce(r.sourceMap),r.sourceMap.includeSources)){if(i instanceof Hn)throw new Error("original source content unavailable");for(var f in i)_n(i,f)&&r.output.source_map.setSourceContent(f,i[f])}delete r.output.ast,delete r.output.code;var c=xi(r.output);o.print(c),s.code=c.get(),r.sourceMap&&(s.map=r.output.source_map.toString(),(c=r.sourceMap.url)&&(s.code=s.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),s.code+="inline"==c?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+Pe(s.map):"\n//# sourceMappingURL="+c))}return r.nameCache&&r.mangle&&(r.mangle.cache&&(r.nameCache.vars=Ve(r.mangle.cache)),r.mangle.properties&&r.mangle.properties.cache&&(r.nameCache.props=Ve(r.mangle.properties.cache))),e&&(e.end=Date.now(),s.timings={parse:.001*(e.rename-e.parse),rename:.001*(e.compress-e.rename),compress:.001*(e.scope-e.compress),scope:.001*(e.mangle-e.scope),mangle:.001*(e.properties-e.mangle),properties:.001*(e.output-e.properties),output:.001*(e.end-e.output),total:.001*(e.end-e.start)}),n.length&&(s.warnings=n),s}catch(e){return{error:e}}finally{bn.log_function(),bn.disable_validation()}function u(e){ln(l,e)}var l},h.parse=bi,h.push_uniq=ln,h.TreeTransformer=hi,h.TreeWalker=di}("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS);
